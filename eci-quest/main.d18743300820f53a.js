"use strict";(self.webpackChunkEciQuest=self.webpackChunkEciQuest||[]).push([[179],{3562:(ke,oe,w)=>{var v={};function g(t){return"function"==typeof t}function D(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}w.r(v),w.d(v,{Decoder:()=>G_,Encoder:()=>kG,PacketType:()=>st,protocol:()=>OG});const N=D(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function L(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class O{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(g(r))try{r()}catch(o){n=o instanceof N?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{I(o)}catch(s){n=n??[],s instanceof N?n=[...n,...s.errors]:n.push(s)}}if(n)throw new N(n)}}add(n){var e;if(n&&n!==this)if(this.closed)I(n);else{if(n instanceof O){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&L(e,n)}remove(n){const{_finalizers:e}=this;e&&L(e,n),n instanceof O&&n._removeParent(this)}}O.EMPTY=(()=>{const t=new O;return t.closed=!0,t})();const B=O.EMPTY;function y(t){return t instanceof O||t&&"closed"in t&&g(t.remove)&&g(t.add)&&g(t.unsubscribe)}function I(t){g(t)?t():t.unsubscribe()}const X={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout(t,n,...e){const{delegate:r}=x;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=x;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ne(t){x.setTimeout(()=>{const{onUnhandledError:n}=X;if(!n)throw t;n(t)})}function Ce(){}const ue=b("C",void 0,void 0);function b(t,n,e){return{kind:t,value:n,error:e}}let M=null;function J(t){if(X.useDeprecatedSynchronousErrorHandling){const n=!M;if(n&&(M={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=M;if(M=null,e)throw r}}else t()}class K extends O{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,y(n)&&n.add(this)):this.destination=se}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?G(function De(t){return b("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?G(function P(t){return b("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?G(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function V(t,n){return re.call(t,n)}class ee{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){de(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){de(r)}else de(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){de(e)}}}class ie extends K{constructor(n,e,r){let i;if(super(),g(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&X.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&V(n.next,o),error:n.error&&V(n.error,o),complete:n.complete&&V(n.complete,o)}):i=n}this.destination=new ee(i)}}function de(t){X.useDeprecatedSynchronousErrorHandling?function Q(t){X.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=t)}(t):ne(t)}function G(t,n){const{onStoppedNotification:e}=X;e&&x.setTimeout(()=>e(t,n))}const se={closed:!0,next:Ce,error:function he(t){throw t},complete:Ce},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(t){return t}function Ze(t){return 0===t.length?_e:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Se=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function ye(t){return t&&t instanceof K||function Wt(t){return t&&g(t.next)&&g(t.error)&&g(t.complete)}(t)&&y(t)}(e)?e:new ie(e,r,i);return J(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=nt(r))((i,o)=>{const s=new ie({next:a=>{try{e(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ce](){return this}pipe(...e){return Ze(e)(this)}toPromise(e){return new(e=nt(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function nt(t){var n;return null!==(n=t??X.Promise)&&void 0!==n?n:Promise}const F=D(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Mn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new F}next(e){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?B:(this.currentObservers=null,o.push(e),new O(()=>{this.currentObservers=null,L(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Se;return e.source=this,e}}return t.create=(n,e)=>new Mn(n,e),t})();class Mn extends je{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:B}}function dn(t){return g(t?.lift)}function rt(t){return n=>{if(dn(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(t,n,e,r,i){return new qt(t,n,e,r,i)}class qt extends K{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(u){n.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ke(t,n){return rt((e,r)=>{let i=0;e.subscribe(ze(r,o=>{r.next(t.call(n,o,i++))}))})}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function bl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function oo(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(h){o({value:h,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ko=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Sl(t){return g(t?.then)}function Il(t){return g(t[ce])}function Wo(t){return Symbol.asyncIterator&&g(t?.[Symbol.asyncIterator])}function Dl(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qo=function af(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zo(t){return g(t?.[qo])}function Yo(t){return function ni(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(E){r[E]&&(i[E]=function(T){return new Promise(function(R,k){o.push([E,T,R,k])>1||a(E,T)})})}function a(E,T){try{!function u(E){E.value instanceof Rr?Promise.resolve(E.value.v).then(h,f):m(o[0][2],E)}(r[E](T))}catch(R){m(o[0][3],R)}}function h(E){a("next",E)}function f(E){a("throw",E)}function m(E,T){E(T),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Rr(e.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{e.releaseLock()}})}function Ml(t){return g(t?.getReader)}function Zt(t){if(t instanceof Se)return t;if(null!=t){if(Il(t))return function Ti(t){return new Se(n=>{const e=t[ce]();if(g(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ko(t))return function Rl(t){return new Se(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Sl(t))return function cf(t){return new Se(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ne)})}(t);if(Wo(t))return kl(t);if(Zo(t))return function Ol(t){return new Se(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Ml(t))return function lf(t){return kl(Yo(t))}(t)}throw Dl(t)}function kl(t){return new Se(n=>{(function uf(t,n){var e,r,i,o;return function Ta(t,n,e,r){return new(e||(e=Promise))(function(o,s){function a(f){try{h(r.next(f))}catch(m){s(m)}}function u(f){try{h(r.throw(f))}catch(m){s(m)}}function h(f){f.done?o(f.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(f.value).then(a,u)}h((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=bl(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function mr(t,n,e,r=0,i=!1){const o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function jt(t,n,e=1/0){return g(n)?jt((r,i)=>Ke((o,s)=>n(r,o,i,s))(Zt(t(r,i))),e):("number"==typeof n&&(e=n),rt((r,i)=>function df(t,n,e,r,i,o,s,a){const u=[];let h=0,f=0,m=!1;const E=()=>{m&&!u.length&&!h&&n.complete()},T=k=>h<r?R(k):u.push(k),R=k=>{o&&n.next(k),h++;let j=!1;Zt(e(k,f++)).subscribe(ze(n,te=>{i?.(te),o?T(te):n.next(te)},()=>{j=!0},void 0,()=>{if(j)try{for(h--;u.length&&h<r;){const te=u.shift();s?mr(n,s,()=>R(te)):R(te)}E()}catch(te){n.error(te)}}))};return t.subscribe(ze(n,T,()=>{m=!0,E()})),()=>{a?.()}}(r,i,t,e)))}function Ai(t=1/0){return jt(_e,t)}const Hn=new Se(t=>t.complete());function Qo(t){return t&&g(t.schedule)}function Da(t){return t[t.length-1]}function Xo(t){return g(Da(t))?t.pop():void 0}function so(t){return Qo(Da(t))?t.pop():void 0}function Jo(t,n=0){return rt((e,r)=>{e.subscribe(ze(r,i=>mr(r,t,()=>r.next(i),n),()=>mr(r,t,()=>r.complete(),n),i=>mr(r,t,()=>r.error(i),n)))})}function ii(t,n=0){return rt((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function xl(t,n){if(!t)throw new Error("Iterable cannot be null");return new Se(e=>{mr(e,n,()=>{const r=t[Symbol.asyncIterator]();mr(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function lt(t,n){return n?function Fl(t,n){if(null!=t){if(Il(t))return function Xn(t,n){return Zt(t).pipe(ii(n),Jo(n))}(t,n);if(Ko(t))return function es(t,n){return new Se(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Sl(t))return function Ma(t,n){return Zt(t).pipe(ii(n),Jo(n))}(t,n);if(Wo(t))return xl(t,n);if(Zo(t))return function Nl(t,n){return new Se(e=>{let r;return mr(e,n,()=>{r=t[qo](),mr(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>g(r?.return)&&r.return()})}(t,n);if(Ml(t))return function hf(t,n){return xl(Yo(t),n)}(t,n)}throw Dl(t)}(t,n):Zt(t)}function ts(...t){const n=so(t),e=function Pl(t,n){return"number"==typeof Da(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?Zt(r[0]):Ai(e)(lt(r,n)):Hn}class Ot extends je{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Ae(...t){return lt(t,so(t))}function Ll(t={}){const{connector:n=(()=>new je),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,h=0,f=!1,m=!1;const E=()=>{a?.unsubscribe(),a=void 0},T=()=>{E(),s=u=void 0,f=m=!1},R=()=>{const k=s;T(),k?.unsubscribe()};return rt((k,j)=>{h++,!m&&!f&&E();const te=u=u??n();j.add(()=>{h--,0===h&&!m&&!f&&(a=ao(R,i))}),te.subscribe(j),!s&&h>0&&(s=new ie({next:$=>te.next($),error:$=>{m=!0,E(),a=ao(T,e,$),te.error($)},complete:()=>{f=!0,E(),a=ao(T,r),te.complete()}}),Zt(k).subscribe(s))})(o)}}function ao(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return Zt(n(...e)).subscribe(r)}function en(t,n){return rt((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(ze(r,u=>{i?.unsubscribe();let h=0;const f=o++;Zt(t(u,f)).subscribe(i=ze(r,m=>r.next(n?n(u,m,f,h++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Bl(t,n=_e){return t=t??Ul,rt((e,r)=>{let i,o=!0;e.subscribe(ze(r,s=>{const a=n(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ul(t,n){return t===n}function ft(t){for(let n in t)if(t[n]===ft)return n;throw Error("Could not find renamed property on target object.")}function ns(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ra(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ff=ft({__forward_ref__:ft});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return Bt(this())},t}function Oe(t){return co(t)?t():t}function co(t){return"function"==typeof t&&t.hasOwnProperty(ff)&&t.__forward_ref__===yt}function Oa(t){return t&&!!t.\u0275providers}const c="https://g.co/ng/security#xss";class l extends Error{constructor(n,e){super(function d(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function p(t){return"string"==typeof t?t:null==t?"":String(t)}function q(t,n){throw new l(-201,!1)}function Jn(t,n){null==t&&function Le(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hl(t){return Zy(t,jl)||Zy(t,Yy)}function Zy(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vl(t){return t&&(t.hasOwnProperty(pf)||t.hasOwnProperty(RR))?t[pf]:null}const jl=ft({\u0275prov:ft}),pf=ft({\u0275inj:ft}),Yy=ft({ngInjectableDef:ft}),RR=ft({ngInjectorDef:ft});var Qe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Qe||{});let gf;function Rn(t){const n=gf;return gf=t,n}function Xy(t,n,e){const r=Hl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Qe.Optional?null:void 0!==n?n:void q(Bt(t))}const bt=globalThis;class le{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ka={},Cf="__NG_DI_FLAG__",$l="ngTempTokenPath",PR=/\n/gm,ev="__source";let os;function Mi(t){const n=os;return os=t,n}function FR(t,n=Qe.Default){if(void 0===os)throw new l(-203,!1);return null===os?Xy(t,void 0,n):os.get(t,n&Qe.Optional?null:void 0,n)}function U(t,n=Qe.Default){return(function Qy(){return gf}()||FR)(Oe(t),n)}function ve(t,n=Qe.Default){return U(t,zl(n))}function zl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ef(t){const n=[];for(let e=0;e<t.length;e++){const r=Oe(t[e]);if(Array.isArray(r)){if(0===r.length)throw new l(900,!1);let i,o=Qe.Default;for(let s=0;s<r.length;s++){const a=r[s],u=LR(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}n.push(U(i,o))}else n.push(U(r))}return n}function Pa(t,n){return t[Cf]=n,t.prototype[Cf]=n,t}function LR(t){return t[Cf]}function oi(t){return{toString:t}.toString()}var Gl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gl||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{});const kr={},ut=[],Kl=ft({\u0275cmp:ft}),bf=ft({\u0275dir:ft}),wf=ft({\u0275pipe:ft}),nv=ft({\u0275mod:ft}),si=ft({\u0275fac:ft}),Na=ft({__NG_ELEMENT_ID__:ft}),rv=ft({__NG_ENV_ID__:ft});function iv(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}function Tf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{const o=i,s=e[++r];sv(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function ov(t){return 3===t||4===t||6===t}function sv(t){return 64===t.charCodeAt(0)}function xa(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||av(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function av(t,n,e,r,i){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const cv="ng-template";function HR(t,n,e){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(e&&"class"===o&&-1!==iv(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function lv(t){return 4===t.type&&t.value!==cv}function VR(t,n,e){return n===(4!==t.type||e?t.value:cv)}function jR(t,n,e){let r=4;const i=t.attrs||[],o=function GR(t){for(let n=0;n<t.length;n++)if(ov(t[n]))return n;return t.length}(i);let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!VR(t,u,e)||""===u&&1===n.length){if(_r(r))return!1;s=!0}}else{const h=8&r?u:n[++a];if(8&r&&null!==t.attrs){if(!HR(t.attrs,h,e)){if(_r(r))return!1;s=!0}continue}const m=$R(8&r?"class":u,i,lv(t),e);if(-1===m){if(_r(r))return!1;s=!0;continue}if(""!==h){let E;E=m>o?"":i[m+1].toLowerCase();const T=8&r?E:null;if(T&&-1!==iv(T,h,0)||2&r&&h!==E){if(_r(r))return!1;s=!0}}}}else{if(!s&&!_r(r)&&!_r(u))return!1;if(s&&_r(u))continue;s=!1,r=u|1&r}}return _r(r)||s}function _r(t){return 0==(1&t)}function $R(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const s=n[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function KR(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function uv(t,n,e=!1){for(let r=0;r<n.length;r++)if(jR(t,n[r],e))return!0;return!1}function dv(t,n){return t?":not("+n.trim()+")":n}function qR(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_r(s)&&(n+=dv(o,i),i=""),r=s,o=o||!_r(r);e++}return""!==i&&(n+=dv(o,i)),n}function On(t){return oi(()=>{const n=fv(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""};pv(e);const r=t.dependencies;return e.directiveDefs=Wl(r,!1),e.pipeDefs=Wl(r,!0),e.id=function nO(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function XR(t){return it(t)||rn(t)}function JR(t){return null!==t}function kt(t){return oi(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hv(t,n){if(null==t)return kr;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}function Be(t){return oi(()=>{const n=fv(t);return pv(n),n})}function it(t){return t[Kl]||null}function rn(t){return t[bf]||null}function Cn(t){return t[wf]||null}function Vn(t,n){const e=t[nv]||null;if(!e&&!0===n)throw new Error(`Type ${Bt(t)} does not have '\u0275mod' property.`);return e}function fv(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hv(t.inputs,n),outputs:hv(t.outputs)}}function pv(t){t.features?.forEach(n=>n(t))}function Wl(t,n){if(!t)return null;const e=n?Cn:XR;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(JR)}const Ft=0,Ee=1,Ge=2,Mt=3,yr=4,Fa=5,fn=6,as=7,Ut=8,Ri=9,cs=10,Ve=11,La=12,gv=13,ls=14,Ht=15,Ba=16,us=17,Pr=18,Ua=19,mv=20,Oi=21,ai=22,Ha=23,Va=24,Xe=25,Af=1,_v=2,Nr=7,ds=9,on=11;function Pn(t){return Array.isArray(t)&&"object"==typeof t[Af]}function En(t){return Array.isArray(t)&&!0===t[Af]}function Sf(t){return 0!=(4&t.flags)}function uo(t){return t.componentOffset>-1}function Zl(t){return 1==(1&t.flags)}function vr(t){return!!t.template}function If(t){return 0!=(512&t[Ge])}function ho(t,n){return t.hasOwnProperty(si)?t[si]:null}let sn=null,Yl=!1;function tr(t){const n=sn;return sn=t,n}const Cv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bv(t){if(!$a(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Av(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Tv(t){t.dirty=!0,function wv(t){if(void 0===t.liveConsumerNode)return;const n=Yl;Yl=!0;try{for(const e of t.liveConsumerNode)e.dirty||Tv(e)}finally{Yl=n}}(t),t.consumerMarkedDirty?.(t)}function Mf(t){return t&&(t.nextProducerIndex=0),tr(t)}function Rf(t,n){if(tr(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($a(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Ql(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Av(t){hs(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(bv(e),r!==e.version))return!0}return!1}function Sv(t){if(hs(t),$a(t))for(let n=0;n<t.producerNode.length;n++)Ql(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ql(t,n){if(function Dv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),hs(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ql(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];hs(i),i.producerIndexOfThis[r]=n}}function $a(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Mv=null;const Pv=()=>{},gO=(()=>({...Cv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Pv}))();class mO{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function nr(){return Nv}function Nv(t){return t.type.prototype.ngOnChanges&&(t.setInput=yO),_O}function _O(){const t=Fv(this),n=t?.current;if(n){const e=t.previous;if(e===kr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function yO(t,n,e,r){const i=this.declaredInputs[e],o=Fv(t)||function vO(t,n){return t[xv]=n}(t,{previous:kr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new mO(u&&u.currentValue,n,a===kr),t[r]=n}nr.ngInherit=!0;const xv="__ngSimpleChanges__";function Fv(t){return t[xv]||null}const xr=function(t,n,e){};function wt(t){for(;Array.isArray(t);)t=t[Ft];return t}function Xl(t,n){return wt(n[t])}function Nn(t,n){return wt(n[t.index])}function Uv(t,n){return t.data[n]}function jn(t,n){const e=n[t];return Pn(e)?e:e[Ft]}function Pi(t,n){return null==n?null:t[n]}function Hv(t){t[us]=0}function AO(t){1024&t[Ge]||(t[Ge]|=1024,jv(t,1))}function Vv(t){1024&t[Ge]&&(t[Ge]&=-1025,jv(t,-1))}function jv(t,n){let e=t[Mt];if(null===e)return;e[Fa]+=n;let r=e;for(e=e[Mt];null!==e&&(1===n&&1===r[Fa]||-1===n&&0===r[Fa]);)e[Fa]+=n,r=e,e=e[Mt]}const Ue={lFrame:Jv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gv(){return Ue.bindingsEnabled}function ae(){return Ue.lFrame.lView}function ot(){return Ue.lFrame.tView}function xf(t){return Ue.lFrame.contextLView=t,t[Ut]}function Ff(t){return Ue.lFrame.contextLView=null,t}function an(){let t=Kv();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kv(){return Ue.lFrame.currentTNode}function Fr(t,n){const e=Ue.lFrame;e.currentTNode=t,e.isParent=n}function Lf(){return Ue.lFrame.isParent}function bn(){const t=Ue.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function gs(){return Ue.lFrame.bindingIndex++}function LO(t,n){const e=Ue.lFrame;e.bindingIndex=e.bindingRootIndex=t,Uf(n)}function Uf(t){Ue.lFrame.currentDirectiveIndex=t}function Yv(){return Ue.lFrame.currentQueryIndex}function Vf(t){Ue.lFrame.currentQueryIndex=t}function UO(t){const n=t[Ee];return 2===n.type?n.declTNode:1===n.type?t[fn]:null}function Qv(t,n,e){if(e&Qe.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&Qe.Host||(i=UO(o),null===i||(o=o[ls],10&i.type))););if(null===i)return!1;n=i,t=o}const r=Ue.lFrame=Xv();return r.currentTNode=n,r.lView=t,!0}function jf(t){const n=Xv(),e=t[Ee];Ue.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Xv(){const t=Ue.lFrame,n=null===t?null:t.child;return null===n?Jv(t):n}function Jv(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function eC(){const t=Ue.lFrame;return Ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tC=eC;function $f(){const t=eC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return Ue.lFrame.selectedIndex}function fo(t){Ue.lFrame.selectedIndex=t}function Pt(){const t=Ue.lFrame;return Uv(t.tView,t.selectedIndex)}let rC=!0;function Jl(){return rC}function Ni(t){rC=t}function eu(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),u&&(t.viewHooks??=[]).push(-e,u),h&&((t.viewHooks??=[]).push(e,h),(t.viewCheckHooks??=[]).push(e,h)),null!=f&&(t.destroyHooks??=[]).push(e,f)}}function tu(t,n,e){iC(t,n,3,e)}function nu(t,n,e,r){(3&t[Ge])===e&&iC(t,n,e,r)}function zf(t,n){let e=t[Ge];(3&e)===n&&(e&=8191,e+=1,t[Ge]=e)}function iC(t,n,e,r){const o=r??-1,s=n.length-1;let a=0;for(let u=void 0!==r?65535&t[us]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(t[us]+=65536),(a<o||-1==o)&&(WO(t,e,n,u),t[us]=(4294901760&t[us])+u+2),u++}function oC(t,n){xr(4,t,n);const e=tr(null);try{n.call(t)}finally{tr(e),xr(5,t,n)}}function WO(t,n,e,r){const i=e[r]<0,o=e[r+1],a=t[i?-e[r]:e[r]];i?t[Ge]>>13<t[us]>>16&&(3&t[Ge])===n&&(t[Ge]+=8192,oC(a,o)):oC(a,o)}const ms=-1;class Ga{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Kf(t){return t!==ms}function Ka(t){return 32767&t}function Wa(t,n){let e=function QO(t){return t>>16}(t),r=n;for(;e>0;)r=r[ls],e--;return r}let Wf=!0;function ru(t){const n=Wf;return Wf=t,n}const sC=255,aC=5;let XO=0;const Lr={};function iu(t,n){const e=cC(t,n);if(-1!==e)return e;const r=n[Ee];r.firstCreatePass&&(t.injectorIndex=n.length,qf(r.data,t),qf(n,null),qf(r.blueprint,null));const i=ou(t,n),o=t.injectorIndex;if(Kf(i)){const s=Ka(i),a=Wa(i,n),u=a[Ee].data;for(let h=0;h<8;h++)n[o+h]=a[s+h]|u[s+h]}return n[o+8]=i,o}function qf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function cC(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ou(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=gC(i),null===r)return ms;if(e++,i=i[ls],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return ms}function Zf(t,n,e){!function JO(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Na)&&(r=e[Na]),null==r&&(r=e[Na]=XO++);const i=r&sC;n.data[t+(i>>aC)]|=1<<i}(t,n,e)}function lC(t,n,e){if(e&Qe.Optional||void 0!==t)return t;q()}function uC(t,n,e,r){if(e&Qe.Optional&&void 0===r&&(r=null),!(e&(Qe.Self|Qe.Host))){const i=t[Ri],o=Rn(void 0);try{return i?i.get(n,r,e&Qe.Optional):Xy(n,r,e&Qe.Optional)}finally{Rn(o)}}return lC(r,0,e)}function dC(t,n,e,r=Qe.Default,i){if(null!==t){if(2048&n[Ge]&&!(r&Qe.Self)){const s=function ok(t,n,e,r,i){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[Ge]&&!(512&s[Ge]);){const a=hC(o,s,e,r|Qe.Self,Lr);if(a!==Lr)return a;let u=o.parent;if(!u){const h=s[mv];if(h){const f=h.get(e,Lr,r);if(f!==Lr)return f}u=gC(s),s=s[ls]}o=u}return i}(t,n,e,r,Lr);if(s!==Lr)return s}const o=hC(t,n,e,r,Lr);if(o!==Lr)return o}return uC(n,e,r,i)}function hC(t,n,e,r,i){const o=function nk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Na)?t[Na]:void 0;return"number"==typeof n?n>=0?n&sC:ik:n}(e);if("function"==typeof o){if(!Qv(n,t,r))return r&Qe.Host?lC(i,0,r):uC(n,e,r,i);try{let s;if(s=o(r),null!=s||r&Qe.Optional)return s;q()}finally{tC()}}else if("number"==typeof o){let s=null,a=cC(t,n),u=ms,h=r&Qe.Host?n[Ht][fn]:null;for((-1===a||r&Qe.SkipSelf)&&(u=-1===a?ou(t,n):n[a+8],u!==ms&&pC(r,!1)?(s=n[Ee],a=Ka(u),n=Wa(u,n)):a=-1);-1!==a;){const f=n[Ee];if(fC(o,a,f.data)){const m=tk(a,n,e,s,r,h);if(m!==Lr)return m}u=n[a+8],u!==ms&&pC(r,n[Ee].data[a+8]===h)&&fC(o,a,n)?(s=f,a=Ka(u),n=Wa(u,n)):a=-1}}return i}function tk(t,n,e,r,i,o){const s=n[Ee],a=s.data[t+8],f=su(a,s,e,null==r?uo(a)&&Wf:r!=s&&0!=(3&a.type),i&Qe.Host&&o===a);return null!==f?po(n,s,f,a):Lr}function su(t,n,e,r,i){const o=t.providerIndexes,s=n.data,a=1048575&o,u=t.directiveStart,f=o>>20,E=i?a+f:t.directiveEnd;for(let T=r?a:a+f;T<E;T++){const R=s[T];if(T<u&&e===R||T>=u&&R.type===e)return T}if(i){const T=s[u];if(T&&vr(T)&&T.type===e)return u}return null}function po(t,n,e,r){let i=t[e];const o=n.data;if(function qO(t){return t instanceof Ga}(i)){const s=i;s.resolving&&function C(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new l(-200,`Circular dependency in DI detected for ${t}${e}`)}(function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():p(t)}(o[e]));const a=ru(s.canSeeViewProviders);s.resolving=!0;const h=s.injectImpl?Rn(s.injectImpl):null;Qv(t,r,Qe.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function KO(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Nv(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==h&&Rn(h),ru(a),s.resolving=!1,tC()}}return i}function fC(t,n,e){return!!(e[n+(t>>aC)]&1<<t)}function pC(t,n){return!(t&Qe.Self||t&Qe.Host&&n)}class Tn{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return dC(this._tNode,this._lView,n,zl(r),e)}}function ik(){return new Tn(an(),ae())}function cn(t){return oi(()=>{const n=t.prototype.constructor,e=n[si]||Yf(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[si]||Yf(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yf(t){return co(t)?()=>{const n=Yf(Oe(t));return n&&n()}:ho(t)}function gC(t){const n=t[Ee],e=n.type;return 2===e?n.declTNode:1===e?t[fn]:null}const ys="__parameters__";function Cs(t,n,e){return oi(()=>{const r=function Qf(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,h,f){const m=u.hasOwnProperty(ys)?u[ys]:Object.defineProperty(u,ys,{value:[]})[ys];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function bs(t,n){t.forEach(e=>Array.isArray(e)?bs(e,n):n(e))}function _C(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function cu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $n(t,n,e){let r=ws(t,n);return r>=0?t[1|r]=e:(r=~r,function hk(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Xf(t,n){const e=ws(t,n);if(e>=0)return t[1|e]}function ws(t,n){return function yC(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const uu=Pa(Cs("Optional"),8),du=Pa(Cs("SkipSelf"),4);function mu(t){return 128==(128&t.flags)}var xi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xi||{});const rp=new Map;let Fk=0;const op="__ngContext__";function pn(t,n){Pn(n)?(t[op]=n[Ua],function Bk(t){rp.set(t[Ua],t)}(n)):t[op]=n}let sp;function ap(t,n){return sp(t,n)}function Ja(t){const n=t[Mt];return En(n)?n[Mt]:n}function BC(t){return HC(t[La])}function UC(t){return HC(t[yr])}function HC(t){for(;null!==t&&!En(t);)t=t[yr];return t}function Ss(t,n,e,r,i){if(null!=r){let o,s=!1;En(r)?o=r:Pn(r)&&(s=!0,r=r[Ft]);const a=wt(r);0===t&&null!==e?null==i?zC(n,e,a):go(n,e,a,i||null,!0):1===t&&null!==e?go(n,e,a,i||null,!0):2===t?function wu(t,n,e){const r=Eu(t,n);r&&function rP(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=o&&function sP(t,n,e,r,i){const o=e[Nr];o!==wt(e)&&Ss(n,t,r,o,i);for(let a=on;a<e.length;a++){const u=e[a];tc(u[Ee],u,t,n,r,o)}}(n,t,o,e,i)}}function vu(t,n,e){return t.createElement(n,e)}function jC(t,n){const e=t[ds],r=e.indexOf(n);Vv(n),e.splice(r,1)}function Cu(t,n){if(t.length<=on)return;const e=on+n,r=t[e];if(r){const i=r[Ba];null!==i&&i!==t&&jC(i,r),n>0&&(t[e-1][yr]=r[yr]);const o=cu(t,on+n);!function Zk(t,n){tc(t,n,n[Ve],2,null,null),n[Ft]=null,n[fn]=null}(r[Ee],r);const s=o[Pr];null!==s&&s.detachView(o[Ee]),r[Mt]=null,r[yr]=null,r[Ge]&=-129}return r}function lp(t,n){if(!(256&n[Ge])){const e=n[Ve];n[Ha]&&Sv(n[Ha]),n[Va]&&Sv(n[Va]),e.destroyNode&&tc(t,n,e,3,null,null),function Xk(t){let n=t[La];if(!n)return up(t[Ee],t);for(;n;){let e=null;if(Pn(n))e=n[La];else{const r=n[on];r&&(e=r)}if(!e){for(;n&&!n[yr]&&n!==t;)Pn(n)&&up(n[Ee],n),n=n[Mt];null===n&&(n=t),Pn(n)&&up(n[Ee],n),e=n&&n[yr]}n=e}}(n)}}function up(t,n){if(!(256&n[Ge])){n[Ge]&=-129,n[Ge]|=256,function nP(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Ga)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];xr(4,a,u);try{u.call(a)}finally{xr(5,a,u)}}else{xr(4,i,o);try{o.call(i)}finally{xr(5,i,o)}}}}}(t,n),function tP(t,n){const e=t.cleanup,r=n[as];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(n[as]=null);const i=n[Oi];if(null!==i){n[Oi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,n),1===n[Ee].type&&n[Ve].destroy();const e=n[Ba];if(null!==e&&En(n[Mt])){e!==n[Mt]&&jC(e,n);const r=n[Pr];null!==r&&r.detachView(t)}!function Uk(t){rp.delete(t[Ua])}(n)}}function dp(t,n,e){return function $C(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[Ft];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===er.None||o===er.Emulated)return null}return Nn(r,e)}}(t,n.parent,e)}function go(t,n,e,r,i){t.insertBefore(n,e,r,i)}function zC(t,n,e){t.appendChild(n,e)}function GC(t,n,e,r,i){null!==r?go(t,n,e,r,i):zC(t,n,e)}function Eu(t,n){return t.parentNode(n)}let hp,Tu,mp,qC=function WC(t,n,e){return 40&t.type?Nn(t,e):null};function bu(t,n,e,r){const i=dp(t,r,n),o=n[Ve],a=function KC(t,n,e){return qC(t,n,e)}(r.parent||n[fn],r,n);if(null!=i)if(Array.isArray(e))for(let u=0;u<e.length;u++)GC(o,i,e[u],a,!1);else GC(o,i,e,a,!1);void 0!==hp&&hp(o,r,n,e,i)}function ec(t,n){if(null!==n){const e=n.type;if(3&e)return Nn(n,t);if(4&e)return fp(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return ec(t,r);{const i=t[n.index];return En(i)?fp(-1,i):wt(i)}}if(32&e)return ap(n,t)()||wt(t[n.index]);{const r=YC(t,n);return null!==r?Array.isArray(r)?r[0]:ec(Ja(t[Ht]),r):ec(t,n.next)}}return null}function YC(t,n){return null!==n?t[Ht][fn].projection[n.projection]:null}function fp(t,n){const e=on+t+1;if(e<n.length){const r=n[e],i=r[Ee].firstChild;if(null!==i)return ec(r,i)}return n[Nr]}function pp(t,n,e,r,i,o,s){for(;null!=e;){const a=r[e.index],u=e.type;if(s&&0===n&&(a&&pn(wt(a),r),e.flags|=2),32!=(32&e.flags))if(8&u)pp(t,n,e.child,r,i,o,!1),Ss(n,t,i,a,o);else if(32&u){const h=ap(e,r);let f;for(;f=h();)Ss(n,t,i,f,o);Ss(n,t,i,a,o)}else 16&u?XC(t,n,r,e,i,o):Ss(n,t,i,a,o);e=s?e.projectionNext:e.next}}function tc(t,n,e,r,i,o){pp(e,r,t.firstChild,n,i,o,!1)}function XC(t,n,e,r,i,o){const s=e[Ht],u=s[fn].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Ss(n,t,i,u[h],o);else{let h=u;const f=s[Mt];mu(r)&&(h.flags|=128),pp(t,n,h,f,i,o,!0)}}function JC(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function eE(t,n,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&Tf(t,n,r),null!==i&&JC(t,n,i),null!==o&&function cP(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}function Is(t){return function gp(){if(void 0===Tu&&(Tu=null,bt.trustedTypes))try{Tu=bt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tu}()?.createHTML(t)||t}class mo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c})`}}class fP extends mo{getTypeName(){return"HTML"}}class pP extends mo{getTypeName(){return"Style"}}class gP extends mo{getTypeName(){return"Script"}}class mP extends mo{getTypeName(){return"URL"}}class _P extends mo{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof mo?t.changingThisBreaksApplicationSecurity:t}function Br(t,n){const e=function yP(t){return t instanceof mo&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${c})`)}return e===n}class TP{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Is(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class AP{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Is(n),e}}const IP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Su(t){return(t=String(t)).match(IP)?t:"unsafe:"+t}function ui(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function nc(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const oE=ui("area,br,col,hr,img,wbr"),sE=ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aE=ui("rp,rt"),yp=nc(oE,nc(sE,ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nc(aE,ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nc(aE,sE)),vp=ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cE=nc(vp,ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DP=ui("script,style,template");class MP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!yp.hasOwnProperty(e))return this.sanitizedSomething=!0,!DP.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!cE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;vp[a]&&(u=Su(u)),this.buf.push(" ",s,'="',lE(u),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();yp.hasOwnProperty(e)&&!oE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(lE(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const RP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OP=/([^\#-~ |!])/g;function lE(t){return t.replace(/&/g,"&amp;").replace(RP,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(OP,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Iu;function uE(t,n){let e=null;try{Iu=Iu||function iE(t){const n=new AP(t);return function SP(){try{return!!(new window.DOMParser).parseFromString(Is(""),"text/html")}catch{return!1}}()?new TP(n):n}(t);let r=n?String(n):"";e=Iu.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Iu.getInertBodyElement(r)}while(r!==o);return Is((new MP).sanitizeChildren(Cp(e)||e))}finally{if(e){const r=Cp(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Cp(t){return"content"in t&&function kP(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ir||{});function Ep(t){const n=function rc(){const t=ae();return t&&t[cs].sanitizer}();return n?n.sanitize(ir.URL,t)||"":Br(t,"URL")?zn(t):Su(p(t))}const ic=new le("ENVIRONMENT_INITIALIZER"),fE=new le("INJECTOR",-1),pE=new le("INJECTOR_DEF_TYPES");class bp{get(n,e=ka){if(e===ka){const r=new Error(`NullInjectorError: No provider for ${Bt(n)}!`);throw r.name="NullInjectorError",r}return e}}function UP(...t){return{\u0275providers:gE(0,t),\u0275fromNgModule:!0}}function gE(t,...n){const e=[],r=new Set;let i;const o=s=>{e.push(s)};return bs(n,s=>{const a=s;Du(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mE(i,o),e}function mE(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:i}=t[e];Tp(i,o=>{n(o,r)})}}function Du(t,n,e,r){if(!(t=Oe(t)))return!1;let i=null,o=Vl(t);const s=!o&&it(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Vl(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const h of u)Du(h,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let h;r.add(i);try{bs(o.imports,f=>{Du(f,n,e,r)&&(h||=[],h.push(f))})}finally{}void 0!==h&&mE(h,n)}if(!a){const h=ho(i)||(()=>new i);n({provide:i,useFactory:h,deps:ut},i),n({provide:pE,useValue:i,multi:!0},i),n({provide:ic,useValue:()=>U(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const h=t;Tp(u,f=>{n(f,h)})}}}return i!==t&&void 0!==t.providers}function Tp(t,n){for(let e of t)Oa(e)&&(e=e.\u0275providers),Array.isArray(e)?Tp(e,n):n(e)}const HP=ft({provide:String,useValue:ft});function Ap(t){return null!==t&&"object"==typeof t&&HP in t}function _o(t){return"function"==typeof t}const Sp=new le("Set Injector scope."),Mu={},jP={};let Ip;function Ru(){return void 0===Ip&&(Ip=new bp),Ip}class Gn{}class Ms extends Gn{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(n,s=>this.processProvider(s)),this.records.set(fE,Rs(void 0,this)),i.has("environment")&&this.records.set(Gn,Rs(void 0,this));const o=this.records.get(Sp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pE.multi,ut,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Mi(this),r=Rn(void 0);try{return n()}finally{Mi(e),Rn(r)}}get(n,e=ka,r=Qe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(rv))return n[rv](this);r=zl(r);const o=Mi(this),s=Rn(void 0);try{if(!(r&Qe.SkipSelf)){let u=this.records.get(n);if(void 0===u){const h=function WP(t){return"function"==typeof t||"object"==typeof t&&t instanceof le}(n)&&Hl(n);u=h&&this.injectableDefInScope(h)?Rs(Dp(n),Mu):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&Qe.Self?Ru():this.parent).get(n,e=r&Qe.Optional&&e===ka?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[$l]=a[$l]||[]).unshift(Bt(n)),o)throw a;return function BR(t,n,e,r){const i=t[$l];throw n[ev]&&i.unshift(n[ev]),t.message=function UR(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Bt(n);if(Array.isArray(n))i=n.map(Bt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Bt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(PR,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[$l]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Rn(s),Mi(o)}}resolveInjectorInitializers(){const n=Mi(this),e=Rn(void 0);try{const i=this.get(ic.multi,ut,Qe.Self);for(const o of i)o()}finally{Mi(n),Rn(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Bt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new l(205,!1)}processProvider(n){let e=_o(n=Oe(n))?n:Oe(n&&n.provide);const r=function zP(t){return Ap(t)?Rs(void 0,t.useValue):Rs(vE(t),Mu)}(n);if(_o(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Rs(void 0,Mu,!0),i.factory=()=>Ef(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Mu&&(e.value=jP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function KP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Oe(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Dp(t){const n=Hl(t),e=null!==n?n.factory:ho(t);if(null!==e)return e;if(t instanceof le)throw new l(204,!1);if(t instanceof Function)return function $P(t){const n=t.length;if(n>0)throw function Ya(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(n,"?"),new l(204,!1);const e=function MR(t){return t&&(t[jl]||t[Yy])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new l(204,!1)}function vE(t,n,e){let r;if(_o(t)){const i=Oe(t);return ho(i)||Dp(i)}if(Ap(t))r=()=>Oe(t.useValue);else if(function yE(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ef(t.deps||[]));else if(function _E(t){return!(!t||!t.useExisting)}(t))r=()=>U(Oe(t.useExisting));else{const i=Oe(t&&(t.useClass||t.provide));if(!function GP(t){return!!t.deps}(t))return ho(i)||Dp(i);r=()=>new i(...Ef(t.deps))}return r}function Rs(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Mp(t,n){for(const e of t)Array.isArray(e)?Mp(e,n):e&&Oa(e)?Mp(e.\u0275providers,n):n(e)}const Ou=new le("AppId",{providedIn:"root",factory:()=>qP}),qP="ng",CE=new le("Platform Initializer"),Fi=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oc=new le("AnimationModuleType"),Rp=new le("CSP nonce",{providedIn:"root",factory:()=>function Ds(){if(void 0!==mp)return mp;if(typeof document<"u")return document;throw new l(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let EE=(t,n,e)=>null;function Bp(t,n,e=!1){return EE(t,n,e)}class iN{}class TE{}class sN{resolveComponentFactory(n){throw function oN(t){const n=Error(`No component factory found for ${Bt(t)}.`);return n.ngComponent=t,n}(n)}}let Ps=(()=>{class t{static#e=this.NULL=new sN}return t})();function aN(){return Ns(an(),ae())}function Ns(t,n){return new Qt(Nn(t,n))}let Qt=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=aN}return t})();function cN(t){return t instanceof Qt?t.nativeElement:t}class cc{}let di=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lN(){const t=ae(),e=jn(an().index,t);return(Pn(e)?e:t)[Ve]}()}return t})(),uN=(()=>{class t{static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:()=>null})}return t})();class yo{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const dN=new yo("16.2.12"),Vp={};function ME(t,n=null,e=null,r){const i=RE(t,n,e,r);return i.resolveInjectorInitializers(),i}function RE(t,n=null,e=null,r,i=new Set){const o=[e||ut,UP(t)];return r=r||("object"==typeof t?void 0:Bt(t)),new Ms(o,n||Ru(),r||null,i)}let $t=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ka;static#t=this.NULL=new bp;static create(e,r){if(Array.isArray(e))return ME({name:""},r,e,"");{const i=e.name??"";return ME({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=fe({token:t,providedIn:"any",factory:()=>U(fE)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function $p(t){return t.ngOriginalError}class hi{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&$p(n);for(;e&&$p(e);)e=$p(e);return e||null}}function Gp(t){return n=>{setTimeout(t,void 0,n)}}const It=class yN extends je{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Gp(o),i&&(i=Gp(i)),s&&(s=Gp(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof O&&n.add(a),a}};function kE(...t){}class qe{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new l(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vN(){const t="function"==typeof bt.requestAnimationFrame;let n=bt[t?"requestAnimationFrame":"setTimeout"],e=bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bN(t){const n=()=>{!function EN(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wp(t),t.isCheckStableRunning=!0,Kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{if(function TN(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(i,o,s,a);try{return PE(t),e.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),NE(t)}},onInvoke:(e,r,i,o,s,a,u)=>{try{return PE(t),e.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),NE(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Wp(t),Kp(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new l(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new l(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,CN,kE,kE);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const CN={};function Kp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NE(t){t._nesting--,Kp(t)}class wN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const xE=new le("",{providedIn:"root",factory:FE});function FE(){const t=ve(qe);let n=!0;return ts(new Se(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Se(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ll()))}function LE(t){return t.ownerDocument.defaultView}function fi(t){return t instanceof Function?t():t}let qp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:()=>new t})}return t})();function lc(t){for(;t;){t[Ge]|=64;const n=Ja(t);if(If(t)&&!n)return t;t=n}return null}const jE=new le("",{providedIn:"root",factory:()=>!1});let Bu=null;function KE(t,n){return t[n]??ZE()}function WE(t,n){const e=ZE();e.producerNode?.length&&(t[n]=Bu,e.lView=t,Bu=qE())}const PN={...Cv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{lc(t.lView)},lView:null};function qE(){return Object.create(PN)}function ZE(){return Bu??=qE(),Bu}const $e={};function dt(t){YE(ot(),ae(),wn()+t,!1)}function YE(t,n,e,r){if(!r)if(3==(3&n[Ge])){const o=t.preOrderCheckHooks;null!==o&&tu(n,o,e)}else{const o=t.preOrderHooks;null!==o&&nu(n,o,0,e)}fo(e)}function Y(t,n=Qe.Default){const e=ae();return null===e?U(t,n):dC(an(),e,Oe(t),n)}function Zp(){throw new Error("invalid")}function Uu(t,n,e,r,i,o,s,a,u,h,f){const m=n.blueprint.slice();return m[Ft]=i,m[Ge]=140|r,(null!==h||t&&2048&t[Ge])&&(m[Ge]|=2048),Hv(m),m[Mt]=m[ls]=t,m[Ut]=e,m[cs]=s||t&&t[cs],m[Ve]=a||t&&t[Ve],m[Ri]=u||t&&t[Ri]||null,m[fn]=o,m[Ua]=function Lk(){return Fk++}(),m[ai]=f,m[mv]=h,m[Ht]=2==n.type?t[Ht]:m,m}function Ls(t,n,e,r,i){let o=t.data[n];if(null===o)o=function Yp(t,n,e,r,i){const o=Kv(),s=Lf(),u=t.data[n]=function VN(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function ps(){return null!==Ue.skipHydrationRootTNode}()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,n,e,r,i),function FO(){return Ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function za(){const t=Ue.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Fr(o,!0),o}function uc(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function QE(t,n,e,r,i){const o=KE(n,Ha),s=wn(),a=2&r;try{fo(-1),a&&n.length>Xe&&YE(t,n,Xe,!1),xr(a?2:0,i);const h=a?o:null,f=Mf(h);try{null!==h&&(h.dirty=!1),e(r,i)}finally{Rf(h,f)}}finally{a&&null===n[Ha]&&WE(n,Ha),fo(s),xr(a?3:1,i)}}function Qp(t,n,e){if(Sf(n)){const r=tr(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{tr(r)}}}function Xp(t,n,e){Gv()&&(function qN(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;uo(e)&&function tx(t,n,e){const r=Nn(n,t),i=XE(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Hu(t,Uu(t,i,null,s,r,n,null,t[cs].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||iu(e,n),pn(r,n);const s=e.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],h=po(n,t,a,e);pn(h,n),null!==s&&nx(0,a-i,h,u,0,s),vr(u)&&(jn(e.index,n)[Ut]=po(n,t,a,e))}}(t,n,e,Nn(e,n)),64==(64&e.flags)&&rb(t,n,e))}function Jp(t,n,e=Nn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(n,t):t[s];t[i++]=a}}}function XE(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=eg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function eg(t,n,e,r,i,o,s,a,u,h,f){const m=Xe+r,E=m+i,T=function xN(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:$e);return e}(m,E),R="function"==typeof h?h():h;return T[Ee]={type:t,blueprint:T,template:e,queries:null,viewQuery:a,declTNode:n,data:T.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:f}}let JE=t=>null;function eb(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const o=t[i];null===r?tb(e,n,i,o):r.hasOwnProperty(i)&&tb(e,n,r[i],o)}return e}function tb(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Kn(t,n,e,r,i,o,s,a){const u=Nn(n,e);let f,h=n.inputs;!a&&null!=h&&(f=h[r])?(og(t,e,f,r,i),uo(n)&&function zN(t,n){const e=jn(n,t);16&e[Ge]||(e[Ge]|=64)}(e,n.index)):3&n.type&&(r=function $N(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(u,r,i))}function tg(t,n,e,r){if(Gv()){const i=null===r?null:{"":-1},o=function YN(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(uv(n,s.selectors,!1))if(r||(r=[]),vr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),ng(t,n,a.length)}else r.unshift(s),ng(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nb(t,n,e,s,i,a),i&&function QN(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new l(-301,!1);r.push(n[i],o)}}}(e,r,i)}e.mergedAttrs=xa(e.mergedAttrs,e.attrs)}function nb(t,n,e,r,i,o){for(let h=0;h<r.length;h++)Zf(iu(e,n),t,r[h].type);!function JN(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let h=0;h<r.length;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,u=uc(t,n,r.length,null);for(let h=0;h<r.length;h++){const f=r[h];e.mergedAttrs=xa(e.mergedAttrs,f.hostAttrs),ex(t,e,n,u,f),XN(u,f,i),null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),u++}!function jN(t,n,e){const i=n.directiveEnd,o=t.data,s=n.attrs,a=[];let u=null,h=null;for(let f=n.directiveStart;f<i;f++){const m=o[f],E=e?e.get(m):null,R=E?E.outputs:null;u=eb(m.inputs,f,u,E?E.inputs:null),h=eb(m.outputs,f,h,R);const k=null===u||null===s||lv(n)?null:rx(u,f,s);a.push(k)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=u,n.outputs=h}(t,e,o)}function rb(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function BO(){return Ue.lFrame.currentDirectiveIndex}();try{fo(o);for(let a=r;a<i;a++){const u=t.data[a],h=n[a];Uf(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&ZN(u,h)}}finally{fo(-1),Uf(s)}}function ZN(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ng(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function XN(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;vr(n)&&(e[""]=t)}}function ex(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=ho(i.type)),s=new Ga(o,vr(i),Y);t.blueprint[r]=s,e[r]=s,function KN(t,n,e,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function WN(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,o)}}(t,n,r,uc(t,e,i.hostVars,$e),i)}function Ur(t,n,e,r,i,o){const s=Nn(t,n);!function rg(t,n,e,r,i,o,s){if(null==o)t.removeAttribute(n,i,e);else{const a=null==s?p(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}(n[Ve],s,o,t.value,e,r,i)}function nx(t,n,e,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)ib(r,e,s[a++],s[a++],s[a++])}function ib(t,n,e,r,i){const o=tr(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{tr(o)}}function rx(t,n,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ob(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function sb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const s=t.data[o];Vf(e[r]),s.contentQueries(2,n[o],o)}}}function Hu(t,n){return t[La]?t[gv][yr]=n:t[La]=n,t[gv]=n,n}function ig(t,n,e){Vf(0);const r=tr(null);try{n(t,e)}finally{tr(r)}}function ab(t){return t[as]||(t[as]=[])}function cb(t){return t.cleanup||(t.cleanup=[])}function ub(t,n){const e=t[Ri],r=e?e.get(hi,null):null;r&&r.handleError(n)}function og(t,n,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];ib(t.data[s],n[s],r,a,i)}}function ix(t,n){const e=jn(n,t),r=e[Ee];!function ox(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[Ft];null!==i&&null===e[ai]&&(e[ai]=Bp(i,e[Ri])),sg(r,e,e[Ut])}function sg(t,n,e){jf(n);try{const r=t.viewQuery;null!==r&&ig(1,r,e);const i=t.template;null!==i&&QE(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sb(t,n),t.staticViewQueries&&ig(2,t.viewQuery,e);const o=t.components;null!==o&&function sx(t,n){for(let e=0;e<n.length;e++)ix(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Ge]&=-5,$f()}}let db=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function pO(t,n,e){const r=Object.create(gO);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Tv(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Av(r))return;r.hasRun=!0;const s=Mf(r);try{r.cleanupFn(),r.cleanupFn=Pv,r.fn(i)}finally{Rf(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(e,h=>{this.all.has(h)&&this.queue.set(h,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:()=>new t})}return t})();function Vu(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Ra(i,a):2==o&&(r=Ra(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function dc(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];null!==o&&r.push(wt(o)),En(o)&&hb(o,r);const s=e.type;if(8&s)dc(t,n,e.child,r);else if(32&s){const a=ap(e,n);let u;for(;u=a();)r.push(u)}else if(16&s){const a=YC(n,e);if(Array.isArray(a))r.push(...a);else{const u=Ja(n[Ht]);dc(u[Ee],u,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function hb(t,n){for(let e=on;e<t.length;e++){const r=t[e],i=r[Ee].firstChild;null!==i&&dc(r[Ee],r,i,n)}t[Nr]!==t[Ft]&&n.push(t[Nr])}function ju(t,n,e,r=!0){const i=n[cs],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{fb(t,n,t.template,e)}catch(u){throw r&&ub(n,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function fb(t,n,e,r){const i=n[Ge];if(256!=(256&i)){n[cs].effectManager?.flush(),jf(n);try{Hv(n),function qv(t){return Ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&QE(t,n,e,2,r);const s=3==(3&i);if(s){const h=t.preOrderCheckHooks;null!==h&&tu(n,h,null)}else{const h=t.preOrderHooks;null!==h&&nu(n,h,0,null),zf(n,0)}if(function lx(t){for(let n=BC(t);null!==n;n=UC(n)){if(!n[_v])continue;const e=n[ds];for(let r=0;r<e.length;r++){AO(e[r])}}}(n),pb(n,2),null!==t.contentQueries&&sb(t,n),s){const h=t.contentCheckHooks;null!==h&&tu(n,h)}else{const h=t.contentHooks;null!==h&&nu(n,h,1),zf(n,1)}!function NN(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=KE(n,Va);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)fo(~o);else{const s=o,a=e[++i],u=e[++i];LO(a,s),r.dirty=!1;const h=Mf(r);try{u(2,n[s])}finally{Rf(r,h)}}}}finally{null===n[Va]&&WE(n,Va),fo(-1)}}(t,n);const a=t.components;null!==a&&mb(n,a,0);const u=t.viewQuery;if(null!==u&&ig(2,u,r),s){const h=t.viewCheckHooks;null!==h&&tu(n,h)}else{const h=t.viewHooks;null!==h&&nu(n,h,2),zf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ge]&=-73,Vv(n)}finally{$f()}}}function pb(t,n){for(let e=BC(t);null!==e;e=UC(e))for(let r=on;r<e.length;r++)gb(e[r],n)}function ux(t,n,e){gb(jn(n,t),e)}function gb(t,n){if(!function wO(t){return 128==(128&t[Ge])}(t))return;const e=t[Ee],r=t[Ge];if(80&r&&0===n||1024&r||2===n)fb(e,t,e.template,t[Ut]);else if(t[Fa]>0){pb(t,1);const i=e.components;null!==i&&mb(t,i,1)}}function mb(t,n,e){for(let r=0;r<n.length;r++)ux(t,n[r],e)}class hc{get rootNodes(){const n=this._lView,e=n[Ee];return dc(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(n){this._lView[Ut]=n}get destroyed(){return 256==(256&this._lView[Ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Mt];if(En(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Cu(n,r),cu(e,r))}this._attachedToViewContainer=!1}lp(this._lView[Ee],this._lView)}onDestroy(n){!function $v(t,n){if(256==(256&t[Ge]))throw new l(911,!1);null===t[Oi]&&(t[Oi]=[]),t[Oi].push(n)}(this._lView,n)}markForCheck(){lc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){this._lView[Ge]|=128}detectChanges(){ju(this._lView[Ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new l(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qk(t,n){tc(t,n,n[Ve],2,null,null)}(this._lView[Ee],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new l(902,!1);this._appRef=n}}class dx extends hc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ju(n[Ee],n,n[Ut],!1)}checkNoChanges(){}get context(){return null}}class _b extends Ps{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=it(n);return new fc(e,this.ngModule)}}function yb(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class fx{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=zl(r);const i=this.injector.get(n,Vp,r);return i!==Vp||e===Vp?i:this.parentInjector.get(n,e,r)}}class fc extends TE{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=yb(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return yb(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function ZR(t){return t.map(qR).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof Gn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new fx(n,o):n,a=s.get(cc,null);if(null===a)throw new l(407,!1);const m={rendererFactory:a,sanitizer:s.get(uN,null),effectManager:s.get(db,null),afterRenderEventManager:s.get(qp,null)},E=a.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",R=r?function FN(t,n,e,r){const o=r.get(jE,!1)||e===er.ShadowDom,s=t.selectRootElement(n,o);return function LN(t){JE(t)}(s),s}(E,r,this.componentDef.encapsulation,s):vu(E,T,function hx(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(T)),te=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $=null;null!==R&&($=Bp(R,s,!0));const pe=eg(0,null,null,1,0,null,null,null,null,null,null),be=Uu(null,pe,null,te,null,null,m,E,s,null,$);let He,_t;jf(be);try{const St=this.componentDef;let un,Yn=null;St.findHostDirectiveDefs?(un=[],Yn=new Map,St.findHostDirectiveDefs(St,un,Yn),un.push(St)):un=[St];const Dr=function gx(t,n){const e=t[Ee],r=Xe;return t[r]=n,Ls(e,r,2,"#host",null)}(be,R),Jh=function mx(t,n,e,r,i,o,s){const a=i[Ee];!function _x(t,n,e,r){for(const i of t)n.mergedAttrs=xa(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Vu(n,n.mergedAttrs,!0),null!==e&&eE(r,e,n))}(r,t,n,s);let u=null;null!==n&&(u=Bp(n,i[Ri]));const h=o.rendererFactory.createRenderer(n,e);let f=16;e.signals?f=4096:e.onPush&&(f=64);const m=Uu(i,XE(e),null,f,i[t.index],t,o,h,null,null,u);return a.firstCreatePass&&ng(a,t,r.length-1),Hu(i,m),i[t.index]=m}(Dr,R,St,un,be,m,E);_t=Uv(pe,Xe),R&&function vx(t,n,e,r){if(r)Tf(t,e,["ng-version",dN.full]);else{const{attrs:i,classes:o}=function YR(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&Tf(t,e,i),o&&o.length>0&&JC(t,e,o.join(" "))}}(E,St,R,r),void 0!==e&&function Cx(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(_t,this.ngContentSelectors,e),He=function yx(t,n,e,r,i,o){const s=an(),a=i[Ee],u=Nn(s,i);nb(a,i,s,e,null,r);for(let f=0;f<e.length;f++)pn(po(i,a,s.directiveStart+f,s),i);rb(a,i,s),u&&pn(u,i);const h=po(i,a,s.directiveStart+s.componentOffset,s);if(t[Ut]=i[Ut]=h,null!==o)for(const f of o)f(h,n);return Qp(a,s,t),h}(Jh,St,un,Yn,be,[Ex]),sg(pe,be,null)}finally{$f()}return new px(this.componentType,He,Ns(_t,be),be,_t)}}class px extends iN{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new dx(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;og(o[Ee],o,i,n,e),this.previousInputValues.set(n,e),lc(jn(this._tNode.index,o))}}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ex(){const t=an();eu(ae()[Ee],t)}function at(t){let n=function vb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(vr(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new l(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const s=t;s.inputs=$u(t.inputs),s.inputTransforms=$u(t.inputTransforms),s.declaredInputs=$u(t.declaredInputs),s.outputs=$u(t.outputs);const a=i.hostBindings;a&&Ax(t,a);const u=i.viewQuery,h=i.contentQueries;if(u&&wx(t,u),h&&Tx(t,h),ns(t.inputs,i.inputs),ns(t.declaredInputs,i.declaredInputs),ns(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ns(s.inputTransforms,i.inputTransforms)),vr(i)&&i.data.animation){const f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===at&&(e=!1)}}n=Object.getPrototypeOf(n)}!function bx(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=xa(i.hostAttrs,e=xa(e,i.hostAttrs))}}(r)}function $u(t){return t===kr?{}:t===ut?[]:t}function wx(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function Tx(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,o)=>{n(r,i,o),e(r,i,o)}:n}function Ax(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function zu(t){return!!ag(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ag(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hr(t,n,e){return t[n]=e}function gn(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function sr(t,n,e,r){const i=ae();return gn(i,gs(),n)&&(ot(),Ur(Pt(),i,t,n,e,r)),sr}function Us(t,n,e,r){return gn(t,gs(),e)?n+p(e)+r:$e}function Co(t,n,e,r,i,o,s,a){const u=ae(),h=ot(),f=t+Xe,m=h.firstCreatePass?function Yx(t,n,e,r,i,o,s,a,u){const h=n.consts,f=Ls(n,t,4,s||null,Pi(h,a));tg(n,e,f,Pi(h,u)),eu(n,f);const m=f.tView=eg(2,f,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return null!==n.queries&&(n.queries.template(n,f),m.queries=n.queries.embeddedTView(f)),f}(f,h,u,n,e,r,i,o,s):h.data[f];Fr(m,!1);const E=Fb(h,u,m,t);Jl()&&bu(h,u,E,m),pn(E,u),Hu(u,u[f]=ob(E,u,E,m)),Zl(m)&&Xp(h,u,m),null!=s&&Jp(u,m,a)}let Fb=function Lb(t,n,e,r){return Ni(!0),n[Ve].createComment("")};function ln(t,n,e){const r=ae();return gn(r,gs(),n)&&Kn(ot(),Pt(),r,t,n,r[Ve],e,!1),ln}function fg(t,n,e,r,i){const s=i?"class":"style";og(t,e,n.inputs[s],s,r)}function me(t,n,e,r){const i=ae(),o=ot(),s=Xe+t,a=i[Ve],u=o.firstCreatePass?function tF(t,n,e,r,i,o){const s=n.consts,u=Ls(n,t,2,r,Pi(s,i));return tg(n,e,u,Pi(s,o)),null!==u.attrs&&Vu(u,u.attrs,!1),null!==u.mergedAttrs&&Vu(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,i,n,e,r):o.data[s],h=Bb(o,i,u,a,n,t);i[s]=h;const f=Zl(u);return Fr(u,!0),eE(a,h,u),32!=(32&u.flags)&&Jl()&&bu(o,i,h,u),0===function IO(){return Ue.lFrame.elementDepthCount}()&&pn(h,i),function DO(){Ue.lFrame.elementDepthCount++}(),f&&(Xp(o,i,u),Qp(o,u,i)),null!==r&&Jp(i,u),me}function ge(){let t=an();Lf()?function Bf(){Ue.lFrame.isParent=!1}():(t=t.parent,Fr(t,!1));const n=t;(function RO(t){return Ue.skipHydrationRootTNode===t})(n)&&function NO(){Ue.skipHydrationRootTNode=null}(),function MO(){Ue.lFrame.elementDepthCount--}();const e=ot();return e.firstCreatePass&&(eu(e,t),Sf(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ZO(t){return 0!=(8&t.flags)}(n)&&fg(e,n,ae(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function YO(t){return 0!=(16&t.flags)}(n)&&fg(e,n,ae(),n.stylesWithoutHost,!1),ge}function ht(t,n,e,r){return me(t,n,e,r),ge(),ht}let Bb=(t,n,e,r,i,o)=>(Ni(!0),vu(r,i,function nC(){return Ue.lFrame.currentNamespace}()));function mg(){return ae()}function yc(t){return!!t&&"function"==typeof t.then}function Vb(t){return!!t&&"function"==typeof t.subscribe}function et(t,n,e,r){const i=ae(),o=ot(),s=an();return function $b(t,n,e,r,i,o,s){const a=Zl(r),h=t.firstCreatePass&&cb(t),f=n[Ut],m=ab(n);let E=!0;if(3&r.type||s){const k=Nn(r,n),j=s?s(k):k,te=m.length,$=s?be=>s(wt(be[r.index])):r.index;let pe=null;if(!s&&a&&(pe=function aF(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=n[as],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,n,i,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=o,pe.__ngLastListenerFn__=o,E=!1;else{o=Gb(r,n,f,o,!1);const be=e.listen(j,i,o);m.push(o,be),h&&h.push(i,$,te,te+1)}}else o=Gb(r,n,f,o,!1);const T=r.outputs;let R;if(E&&null!==T&&(R=T[i])){const k=R.length;if(k)for(let j=0;j<k;j+=2){const He=n[R[j]][R[j+1]].subscribe(o),_t=m.length;m.push(o,He),h&&h.push(i,r.index,_t,-(_t+1))}}}(o,i,i[Ve],s,t,n,r),et}function zb(t,n,e,r){try{return xr(6,n,e),!1!==e(r)}catch(i){return ub(t,i),!1}finally{xr(7,n,e)}}function Gb(t,n,e,r,i){return function o(s){if(s===Function)return r;lc(t.componentOffset>-1?jn(t.index,n):n);let u=zb(n,e,r,s),h=o.__ngNextListenerFn__;for(;h;)u=zb(n,e,h,s)&&u,h=h.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function vc(t=1){return function HO(t){return(Ue.lFrame.contextLView=function VO(t,n){for(;t>0;)n=n[ls],t--;return n}(t,Ue.lFrame.contextLView))[Ut]}(t)}function _g(t,n,e){return yg(t,"",n,"",e),_g}function yg(t,n,e,r,i){const o=ae(),s=Us(o,n,e,r);return s!==$e&&Kn(ot(),Pt(),o,t,s,o[Ve],i,!1),yg}function Zu(t,n){return t<<17|n<<2}function Li(t){return t>>17&32767}function vg(t){return 2|t}function Eo(t){return(131068&t)>>2}function Cg(t,n){return-131069&t|n<<2}function Eg(t){return 1|t}function ew(t,n,e,r,i){const o=t[e+1],s=null===n;let a=r?Li(o):Eo(o),u=!1;for(;0!==a&&(!1===u||s);){const f=t[a+1];mF(t[a],n)&&(u=!0,t[a+1]=r?Eg(f):vg(f)),a=r?Li(f):Eo(f)}u&&(t[e+1]=r?vg(o):Eg(o))}function mF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ws(t,n)>=0}function gi(t,n){return function Cr(t,n,e,r){const i=ae(),o=ot(),s=function li(t){const n=Ue.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}(2);o.firstUpdatePass&&function lw(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[wn()],s=function cw(t,n){return n>=t.expandoStartIndex}(t,e);(function fw(t,n){return 0!=(t.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function AF(t,n,e,r){const i=function Hf(t){const n=Ue.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Cc(e=bg(null,t,n,e,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==i)if(e=bg(i,t,n,e,r),null===o){let u=function SF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Eo(r))return t[Li(r)]}(t,n,r);void 0!==u&&Array.isArray(u)&&(u=bg(null,t,n,u[1],r),u=Cc(u,n.attrs,r),function IF(t,n,e,r){t[Li(e?n.classBindings:n.styleBindings)]=r}(t,n,r,u))}else o=function DF(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Cc(r,t[o].hostAttrs,e);return Cc(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function pF(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Li(s),u=Eo(s);t[r]=e;let f,h=!1;if(Array.isArray(e)?(f=e[1],(null===f||ws(e,f)>0)&&(h=!0)):f=e,i)if(0!==u){const E=Li(t[a+1]);t[r+1]=Zu(E,a),0!==E&&(t[E+1]=Cg(t[E+1],r)),t[a+1]=function hF(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Zu(a,0),0!==a&&(t[a+1]=Cg(t[a+1],r)),a=r;else t[r+1]=Zu(u,0),0===a?a=r:t[u+1]=Cg(t[u+1],r),u=r;h&&(t[r+1]=vg(t[r+1])),ew(t,f,r,!0),ew(t,f,r,!1),function gF(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&ws(o,n)>=0&&(e[r+1]=Eg(e[r+1]))}(n,f,t,r,o),s=Zu(a,u),o?n.classBindings=s:n.styleBindings=s}(i,o,n,e,s,r)}}(o,t,s,r),n!==$e&&gn(i,s,n)&&function dw(t,n,e,r,i,o,s,a){if(!(3&n.type))return;const u=t.data,h=u[a+1],f=function fF(t){return 1==(1&t)}(h)?hw(u,n,e,i,Eo(h),s):void 0;Yu(f)||(Yu(o)||function dF(t){return 2==(2&t)}(h)&&(o=hw(u,null,e,i,a,s)),function aP(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:xi.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xi.Important),t.setStyle(e,r,i,o))}}(r,s,Xl(wn(),e),i,o))}(o,o.data[wn()],i,i[Ve],t,i[s+1]=function kF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Bt(zn(t)))),t}(n,e),r,s)}(t,n,null,!0),gi}function bg(t,n,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],r=Cc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Cc(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$n(t,s,!!e||n[++o]))}return void 0===t?null:t}function hw(t,n,e,r,i,o){const s=null===n;let a;for(;i>0;){const u=t[i],h=Array.isArray(u),f=h?u[1]:u,m=null===f;let E=e[i+1];E===$e&&(E=m?ut:void 0);let T=m?Xf(E,r):f===r?E:void 0;if(h&&!Yu(T)&&(T=Xf(u,r)),Yu(T)&&(a=T,s))return a;const R=t[i+1];i=s?Li(R):Eo(R)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(a=Xf(u,r))}return a}function Yu(t){return void 0!==t}function Me(t,n=""){const e=ae(),r=ot(),i=t+Xe,o=r.firstCreatePass?Ls(r,i,1,n,null):r.data[i],s=pw(r,e,o,n,t);e[i]=s,Jl()&&bu(r,e,s,o),Fr(o,!1)}let pw=(t,n,e,r,i)=>(Ni(!0),function yu(t,n){return t.createText(n)}(n[Ve],r));function bo(t){return $r("",t,""),bo}function $r(t,n,e){const r=ae(),i=Us(r,t,n,e);return i!==$e&&function pi(t,n,e){const r=Xl(n,t);!function VC(t,n,e){t.setValue(n,e)}(t[Ve],r,e)}(r,wn(),i),$r}function wg(t,n,e){const r=ae();return gn(r,gs(),n)&&Kn(ot(),Pt(),r,t,n,r[Ve],e,!0),wg}const Zs="en-US";let xw=Zs;function Sg(t,n,e,r,i){if(t=Oe(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sg(t[o],n,e,r,i);else{const o=ot(),s=ae(),a=an();let u=_o(t)?t:Oe(t.provide);const h=vE(t),f=1048575&a.providerIndexes,m=a.directiveStart,E=a.providerIndexes>>20;if(_o(t)||!t.multi){const T=new Ga(h,i,Y),R=Dg(u,n,i?f:f+E,m);-1===R?(Zf(iu(a,s),o,u),Ig(o,t,n.length),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(T),s.push(T)):(e[R]=T,s[R]=T)}else{const T=Dg(u,n,f+E,m),R=Dg(u,n,f,f+E),j=R>=0&&e[R];if(i&&!j||!i&&!(T>=0&&e[T])){Zf(iu(a,s),o,u);const te=function JL(t,n,e,r,i){const o=new Ga(t,e,Y);return o.multi=[],o.index=n,o.componentProviders=0,sT(o,i,r&&!e),o}(i?XL:QL,e.length,i,r,h);!i&&j&&(e[R].providerFactory=te),Ig(o,t,n.length,0),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(te),s.push(te)}else Ig(o,t,T>-1?T:R,sT(e[i?R:T],h,!i&&r));!i&&r&&j&&e[R].componentProviders++}}}function Ig(t,n,e,r){const i=_o(n),o=function VP(t){return!!t.useClass}(n);if(i||o){const u=(o?Oe(n.useClass):n).prototype.ngOnDestroy;if(u){const h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const f=h.indexOf(e);-1===f?h.push(e,[r,u]):h[f+1].push(r,u)}else h.push(e,u)}}}function sT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Dg(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function QL(t,n,e,r){return Mg(this.multi,[])}function XL(t,n,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=po(e,e[Ee],this.providerFactory.index,r);o=a.slice(0,s),Mg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Mg(i,o);return o}function Mg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Rt(t,n=[]){return e=>{e.providersResolver=(r,i)=>function YL(t,n,e){const r=ot();if(r.firstCreatePass){const i=vr(t);Sg(e,r.data,r.blueprint,i,!0),Sg(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class To{}class aT{}class Rg extends To{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _b(this);const i=Vn(n);this._bootstrapComponents=fi(i.bootstrap),this._r3Injector=RE(n,e,[{provide:To,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver},...r],Bt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Og extends aT{constructor(n){super(),this.moduleType=n}create(n){return new Rg(this.moduleType,n,[])}}class cT extends To{constructor(n){super(),this.componentFactoryResolver=new _b(this),this.instance=null;const e=new Ms([...n.providers,{provide:To,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver}],n.parent||Ru(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function kg(t,n,e=null){return new cT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let n1=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=gE(0,e.type),i=r.length>0?kg([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fe({token:t,providedIn:"environment",factory:()=>new t(U(Gn))})}return t})();function lT(t){t.getStandaloneInjector=n=>n.get(n1).getOrCreateStandaloneInjector(t)}function td(t,n,e,r){return function _T(t,n,e,r,i,o){const s=n+e;return gn(t,s,i)?Hr(t,s+1,o?r.call(o,i):r(i)):Sc(t,s+1)}(ae(),bn(),t,n,e,r)}function mT(t,n,e,r,i){return function yT(t,n,e,r,i,o,s){const a=n+e;return function vo(t,n,e,r){const i=gn(t,n,e);return gn(t,n+1,r)||i}(t,a,i,o)?Hr(t,a+2,s?r.call(s,i,o):r(i,o)):Sc(t,a+2)}(ae(),bn(),t,n,e,r,i)}function Sc(t,n){const e=t[n];return e===$e?void 0:e}function I1(){return this._results[Symbol.iterator]()}class Ng{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new It)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ng.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=I1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function rr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function uk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function M1(t,n,e,r=!0){const i=n[Ee];if(function Jk(t,n,e,r){const i=on+r,o=e.length;r>0&&(e[i-1][yr]=n),r<o-on?(n[yr]=e[i],_C(e,on+r,n)):(e.push(n),n[yr]=null),n[Mt]=e;const s=n[Ba];null!==s&&e!==s&&function eP(t,n){const e=t[ds];n[Ht]!==n[Mt][Mt][Ht]&&(t[_v]=!0),null===e?t[ds]=[n]:e.push(n)}(s,n);const a=n[Pr];null!==a&&a.insertView(t),n[Ge]|=128}(i,n,t,e),r){const o=fp(e,t),s=n[Ve],a=Eu(s,t[Nr]);null!==a&&function Yk(t,n,e,r,i,o){r[Ft]=i,r[fn]=n,tc(t,r,e,1,i,o)}(i,t[fn],s,n,a,o)}}let zr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=k1}return t})();const R1=zr,O1=class extends R1{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const i=function D1(t,n,e,r){const i=n.tView,a=Uu(t,i,e,4096&t[Ge]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ba]=t[n.index];const h=t[Pr];return null!==h&&(a[Pr]=h.createEmbeddedView(i)),sg(i,a,e),a}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:r});return new hc(i)}};function k1(){return nd(an(),ae())}function nd(t,n){return 4&t.type?new O1(n,t,Ns(t,n)):null}let ar=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=B1}return t})();function B1(){return DT(an(),ae())}const U1=ar,ST=class extends U1{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){const n=ou(this._hostTNode,this._hostLView);if(Kf(n)){const e=Wa(n,this._hostLView),r=Ka(n);return new Tn(e[Ee].data[r+8],e)}return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=IT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-on}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,e,r,i,o){const s=n&&!function Za(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const k=e||{};a=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef}const u=s?n:new fc(it(n)),h=r||this.parentInjector;if(!o&&null==u.ngModule){const j=(s?h:this.parentInjector).get(Gn,null);j&&(o=j)}it(u.componentType??{});const T=u.create(h,i,null,o);return this.insertImpl(T.hostView,a,false),T}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView;if(function TO(t){return En(t[Mt])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const h=i[Mt],f=new ST(h,h[fn],h[Mt]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(e),a=this._lContainer;return M1(a,i,s,!r),n.attachToViewContainerRef(),_C(xg(a),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=IT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Cu(this._lContainer,e);r&&(cu(xg(this._lContainer),e),lp(r[Ee],r))}detach(n){const e=this._adjustIndex(n,-1),r=Cu(this._lContainer,e);return r&&null!=cu(xg(this._lContainer),e)?new hc(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function IT(t){return t[8]}function xg(t){return t[8]||(t[8]=[])}function DT(t,n){let e;const r=n[t.index];return En(r)?e=r:(e=ob(r,n,null,t),n[t.index]=e,Hu(n,e)),MT(e,n,t,r),new ST(e,t,n)}let MT=function RT(t,n,e,r){if(t[Nr])return;let i;i=8&e.type?wt(r):function H1(t,n){const e=t[Ve],r=e.createComment(""),i=Nn(n,t);return go(e,Eu(e,i),r,function iP(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Nr]=i};class Fg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Lg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==FT(n,e).matches&&this.queries[e].setDirty()}}class OT{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Bg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new Bg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ug{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Ug(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,e,$1(e,o)),this.matchTNodeWithReadOption(n,e,su(e,n,o,!1,!1))}else r===zr?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,su(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qt||i===ar||i===zr&&4&e.type)this.addMatch(e.index,-2);else{const o=su(e,n,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function $1(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function G1(t,n,e,r){return-1===e?function z1(t,n){return 11&t.type?Ns(t,n):4&t.type?nd(t,n):null}(n,t):-2===e?function K1(t,n,e){return e===Qt?Ns(n,t):e===zr?nd(n,t):e===ar?DT(n,t):void 0}(t,n,r):po(t,t[Ee],e,n)}function kT(t,n,e,r){const i=n[Pr].queries[r];if(null===i.matches){const o=t.data,s=e.matches,a=[];for(let u=0;u<s.length;u+=2){const h=s[u];a.push(h<0?null:G1(n,o[h],s[u+1],e.metadata.read))}i.matches=a}return i.matches}function Hg(t,n,e,r){const i=t.queries.getByIndex(e),o=i.matches;if(null!==o){const s=kT(t,n,i,e);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const h=o[a+1],f=n[-u];for(let m=on;m<f.length;m++){const E=f[m];E[Ba]===E[Mt]&&Hg(E[Ee],E,h,r)}if(null!==f[ds]){const m=f[ds];for(let E=0;E<m.length;E++){const T=m[E];Hg(T[Ee],T,h,r)}}}}}return r}function id(t){const n=ae(),e=ot(),r=Yv();Vf(r+1);const i=FT(e,r);if(t.dirty&&function bO(t){return 4==(4&t[Ge])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Hg(e,n,r,[]):kT(e,n,i,r);t.reset(o,cN),t.notifyOnChanges()}return!0}return!1}function Vg(t,n,e){const r=ot();r.firstCreatePass&&(function xT(t,n,e){null===t.queries&&(t.queries=new Bg),t.queries.track(new Ug(n,e))}(r,new OT(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),function NT(t,n,e){const r=new Ng(4==(4&e));(function HN(t,n,e,r){const i=ab(n);i.push(e),t.firstCreatePass&&cb(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[Pr]&&(n[Pr]=new Lg),n[Pr].queries.push(new Fg(r))}(r,ae(),n)}function od(){return function W1(t,n){return t[Pr].queries[n].queryList}(ae(),Yv())}function FT(t,n){return t.queries.getByIndex(n)}const Wg=new le("Application Initializer");let qg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=ve(Wg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(yc(o))e.push(o);else if(Vb(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Gr=new le("LocaleId",{providedIn:"root",factory:()=>ve(Gr,Qe.Optional|Qe.SkipSelf)||function mB(){return typeof $localize<"u"&&$localize.locale||Zs}()});let ad=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class vB{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let eA=(()=>{class t{compileModuleSync(e){return new Og(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=fi(Vn(e).declarations).reduce((s,a)=>{const u=it(a);return u&&s.push(new fc(u)),s},[]);return new vB(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iA=new le(""),ld=new le("");let Jg,Qg=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function VB(t){Jg=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(U(qe),U(Xg),U(ld))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})(),Xg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Jg?.findTestabilityInTree(this,e,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Bi=null;const oA=new le("AllowMultipleToken"),em=new le("PlatformDestroyListeners"),tm=new le("appBootstrapListener");class aA{constructor(n,e){this.name=n,this.token=e}}function lA(t,n,e=[]){const r=`Platform: ${n}`,i=new le(r);return(o=[])=>{let s=nm();if(!s||s.injector.get(oA,!1)){const a=[...e,...o,{provide:i,useValue:!0}];t?t(a):function zB(t){if(Bi&&!Bi.get(oA,!1))throw new l(400,!1);(function sA(){!function lO(t){Mv=t}(()=>{throw new l(600,!1)})})(),Bi=t;const n=t.get(dA);(function cA(t){t.get(CE,null)?.forEach(e=>e())})(t)}(function uA(t=[],n){return $t.create({name:n,providers:[{provide:Sp,useValue:"platform"},{provide:em,useValue:new Set([()=>Bi=null])},...t]})}(a,r))}return function KB(t){const n=nm();if(!n)throw new l(401,!1);return n}()}}function nm(){return Bi?.get(dA)??null}let dA=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function WB(t="zone.js",n){return"noop"===t?new wN:"zone.js"===t?new qe(n):t}(r?.ngZone,function hA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function t1(t,n,e){return new Rg(t,n,e)}(e.moduleType,this.injector,function _A(t){return[{provide:qe,useFactory:t},{provide:ic,multi:!0,useFactory:()=>{const n=ve(ZB,{optional:!0});return()=>n.initialize()}},{provide:mA,useFactory:qB},{provide:xE,useFactory:FE}]}(()=>i)),s=o.injector.get(hi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{ud(this._modules,o),a.unsubscribe()})}),function fA(t,n,e){try{const r=e();return yc(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(qg);return a.runInitializers(),a.donePromise.then(()=>(function Fw(t){Jn(t,"Expected localeId to be defined"),"string"==typeof t&&(xw=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gr,Zs)||Zs),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,r=[]){const i=pA({},r);return function jB(t,n,e){const r=new Og(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(Ui);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new l(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new l(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(em,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(U($t))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function pA(t,n){return Array.isArray(n)?n.reduce(pA,t):{...t,...n}}let Ui=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ve(mA),this.zoneIsStable=ve(xE),this.componentTypes=[],this.components=[],this.isStable=ve(ad).hasPendingTasks.pipe(en(e=>e?Ae(!1):this.zoneIsStable),Bl(),Ll()),this._injector=ve(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof TE;if(!this._injector.get(qg).done)throw!i&&function ss(t){const n=it(t)||rn(t)||Cn(t);return null!==n&&n.standalone}(e),new l(405,!1);let s;s=i?e:this._injector.get(Ps).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function $B(t){return t.isBoundToModule}(s)?void 0:this._injector.get(To),h=s.create($t.NULL,[],r||s.selector,a),f=h.location.nativeElement,m=h.injector.get(iA,null);return m?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),ud(this.components,h),m?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new l(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;ud(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(tm,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ud(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new l(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ud(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const mA=new le("",{providedIn:"root",factory:()=>ve(hi).handleError.bind(void 0)});function qB(){const t=ve(qe),n=ve(hi);return e=>t.runOutsideAngular(()=>n.handleError(e))}let ZB=(()=>{class t{constructor(){this.zone=ve(qe),this.applicationRef=ve(Ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let dd=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=QB}return t})();function QB(t){return function XB(t,n,e){if(uo(t)&&!e){const r=jn(t.index,n);return new hc(r,r)}return 47&t.type?new hc(n[Ht],n):null}(an(),ae(),16==(16&t))}class EA{constructor(){}supports(n){return zu(n)}create(n){return new iU(n)}}const rU=(t,n)=>n;class iU{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||rU}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<wA(r,i,o)?e:r,a=wA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const h=a-i,f=u-i;if(h!=f){for(let E=0;E<h;E++){const T=E<o.length?o[E]:o[E]=0,R=T+E;f<=R&&R<h&&(o[E]=T+1)}o[s.previousIndex]=f-h}}a!==u&&n(s,a,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!zu(n))throw new l(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function kx(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new oU(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new bA),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class oU{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sU{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class bA{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new sU,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wA(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class TA{constructor(){}supports(n){return n instanceof Map||ag(n)}create(){return new aU}}class aU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||ag(n)))throw new l(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new cU(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class cU{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AA(){return new pd([new EA])}let pd=(()=>{class t{static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:AA});constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||AA()),deps:[[t,new du,new uu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new l(901,!1)}}return t})();function SA(){return new Rc([new TA])}let Rc=(()=>{class t{static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:SA});constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||SA()),deps:[[t,new du,new uu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new l(901,!1)}}return t})();const dU=lA(null,"core",[]);let hU=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(r){return new(r||t)(U(Ui))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})();function Xs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let cm=null;function Hi(){return cm}class SU{}const Je=new le("DocumentToken");let lm=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return ve(DU)},providedIn:"platform"})}return t})();const IU=new le("Location Initialized");let DU=(()=>{class t extends lm{constructor(){super(),this._doc=ve(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hi().getBaseHref(this._doc)}onPopState(e){const r=Hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function um(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function xA(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function mi(t){return t&&"?"!==t[0]?"?"+t:t}let So=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return ve(LA)},providedIn:"root"})}return t})();const FA=new le("appBaseHref");let LA=(()=>{class t extends So{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ve(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return um(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+mi(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+mi(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(U(lm),U(FA,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MU=(()=>{class t extends So{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=um(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(U(lm),U(FA,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})(),Vi=(()=>{class t{constructor(e){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function kU(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(xA(BA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+mi(r))}normalize(e){return t.stripTrailingSlash(function OU(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,BA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=mi;static#t=this.joinWithSlash=um;static#n=this.stripTrailingSlash=xA;static#r=this.\u0275fac=function(r){return new(r||t)(U(So))};static#i=this.\u0275prov=fe({token:t,factory:function(){return function RU(){return new Vi(U(So))}()},providedIn:"root"})}return t})();function BA(t){return t.replace(/\/index.html$/,"")}function WA(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const Cm=/\s+/,qA=[];let Em=(()=>{class t{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=qA,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Cm):qA}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Cm):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Cm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(pd),Y(Rc),Y(Qt),Y(di))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class _H{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sd=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _H(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),YA(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{YA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Y(ar),Y(zr),Y(pd))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function YA(t,n){t.context.$implicit=n.item}let QA=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new yH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){XA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){XA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Y(ar),Y(zr))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class yH{constructor(){this.$implicit=null,this.ngIf=null}}function XA(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Bt(n)}'.`)}let tS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})();const nS="browser";function rS(t){return"server"===t}let WH=(()=>{class t{static#e=this.\u0275prov=fe({token:t,providedIn:"root",factory:()=>new qH(U(Je),window)})}return t})();class qH{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function ZH(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class iS{}class yV extends SU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dm extends yV{static makeCurrent(){!function AU(t){cm||(cm=t)}(new Dm)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function vV(){return Nc=Nc||document.querySelector("base"),Nc?Nc.getAttribute("href"):null}();return null==e?null:function CV(t){Md=Md||document.createElement("a"),Md.setAttribute("href",t);const n=Md.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return WA(document.cookie,n)}}let Md,Nc=null,bV=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const Mm=new le("EventManagerPlugins");let lS=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new l(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(U(Mm),U(qe))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();class uS{constructor(n){this._doc=n}}const Rm="ng-app-id";let dS=(()=>{class t{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rS(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Rm}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Rm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rm,this.appId),s}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(Ou),U(Rp,8),U(Fi))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const Om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},km=/%COMP%/g,SV=new le("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fS(t,n){return n.map(e=>e.replace(km,t))}let Pm=(()=>{class t{constructor(e,r,i,o,s,a,u,h=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=rS(a),this.defaultRenderer=new Nm(e,s,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r={...r,encapsulation:er.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof gS?i.applyToHost(e):i instanceof xm&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case er.Emulated:o=new gS(u,h,r,this.appId,f,s,a,m);break;case er.ShadowDom:return new RV(u,h,e,r,s,a,this.nonce,m);default:o=new xm(u,h,r,f,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(lS),U(dS),U(Ou),U(SV),U(Je),U(Fi),U(qe),U(Rp))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();class Nm{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Om[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(pS(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(pS(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new l(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=Om[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Om[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(xi.DashCase|xi.Important)?n.style.setProperty(e,r,i&xi.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&xi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=Hi().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function pS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class RV extends Nm{constructor(n,e,r,i,o,s,a,u){super(n,o,s,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=fS(i.id,i.styles);for(const f of h){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xm extends Nm{constructor(n,e,r,i,o,s,a,u){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?fS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gS extends xm{constructor(n,e,r,i,o,s,a,u){const h=i+"-"+r.id;super(n,e,r,o,s,a,u,h),this.contentAttr=function IV(t){return"_ngcontent-%COMP%".replace(km,t)}(h),this.hostAttr=function DV(t){return"_nghost-%COMP%".replace(km,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let OV=(()=>{class t extends uS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const mS=["alt","control","meta","shift"],kV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let NV=(()=>{class t extends uS{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hi().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mS.forEach(h=>{const f=r.indexOf(h);f>-1&&(r.splice(f,1),s+=h+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(e,r){let i=kV[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mS.forEach(s=>{s!==i&&(0,PV[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const BV=lA(dU,"browser",[{provide:Fi,useValue:nS},{provide:CE,useValue:function xV(){Dm.makeCurrent()},multi:!0},{provide:Je,useFactory:function LV(){return function hP(t){mp=t}(document),document},deps:[]}]),UV=new le(""),vS=[{provide:ld,useClass:class EV{addToWindow(n){bt.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new l(5103,!1);return o},bt.getAllAngularTestabilities=()=>n.getAllTestabilities(),bt.getAllAngularRootElements=()=>n.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(r=>{const i=bt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Hi().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:iA,useClass:Qg,deps:[qe,Xg,ld]},{provide:Qg,useClass:Qg,deps:[qe,Xg,ld]}],CS=[{provide:Sp,useValue:"root"},{provide:hi,useFactory:function FV(){return new hi},deps:[]},{provide:Mm,useClass:OV,multi:!0,deps:[Je,qe,Fi]},{provide:Mm,useClass:NV,multi:!0,deps:[Je]},Pm,dS,lS,{provide:cc,useExisting:Pm},{provide:iS,useClass:bV,deps:[]},[]];let ES=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ou,useValue:e.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(UV,12))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[...CS,...vS],imports:[tS,hU]})}return t})(),bS=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je))};static#t=this.\u0275prov=fe({token:t,factory:function(r){let i=null;return i=r?new r:function VV(){return new bS(U(Je))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let Lm=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(r){let i=null;return i=r?new(r||t):U(AS),i},providedIn:"root"})}return t})(),AS=(()=>{class t extends Lm{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case ir.NONE:return r;case ir.HTML:return Br(r,"HTML")?zn(r):uE(this._doc,String(r)).toString();case ir.STYLE:return Br(r,"Style")?zn(r):r;case ir.SCRIPT:if(Br(r,"Script"))return zn(r);throw new l(5200,!1);case ir.URL:return Br(r,"URL")?zn(r):Su(String(r));case ir.RESOURCE_URL:if(Br(r,"ResourceURL"))return zn(r);throw new l(5201,!1);default:throw new l(5202,!1)}}bypassSecurityTrustHtml(e){return function vP(t){return new fP(t)}(e)}bypassSecurityTrustStyle(e){return function CP(t){return new pP(t)}(e)}bypassSecurityTrustScript(e){return function EP(t){return new gP(t)}(e)}bypassSecurityTrustUrl(e){return function bP(t){return new mP(t)}(e)}bypassSecurityTrustResourceUrl(e){return function wP(t){return new _P(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je))};static#t=this.\u0275prov=fe({token:t,factory:function(r){let i=null;return i=r?new r:function GV(t){return new AS(t.get(Je))}(U($t)),i},providedIn:"root"})}return t})();const{isArray:KV}=Array,{getPrototypeOf:WV,prototype:qV,keys:ZV}=Object;function IS(t){if(1===t.length){const n=t[0];if(KV(n))return{args:n,keys:null};if(function YV(t){return t&&"object"==typeof t&&WV(t)===qV}(n)){const e=ZV(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:QV}=Array;function Bm(t){return Ke(n=>function XV(t,n){return QV(n)?t(...n):t(n)}(t,n))}function DS(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}let MS=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(Y(di),Y(Qt))};static#t=this.\u0275dir=Be({type:t})}return t})(),Io=(()=>{class t extends MS{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=cn(t)))(i||t)}}();static#t=this.\u0275dir=Be({type:t,features:[at]})}return t})();const Kr=new le("NgValueAccessor"),t2={provide:Kr,useExisting:yt(()=>ea),multi:!0},r2=new le("CompositionEventMode");let ea=(()=>{class t extends MS{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function n2(){const t=Hi()?Hi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Y(di),Y(Qt),Y(r2,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&et("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Rt([t2]),at]})}return t})();const mn=new le("NgValidators"),zi=new le("NgAsyncValidators");function NS(t){return function $i(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function Rd(t){return null}function HS(t){return null!=t}function VS(t){return yc(t)?lt(t):t}function jS(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function $S(t,n){return n.map(e=>e(t))}function zS(t){return t.map(n=>function s2(t){return!t.validate}(n)?n:e=>n.validate(e))}function Um(t){return null!=t?function GS(t){if(!t)return null;const n=t.filter(HS);return 0==n.length?null:function(e){return jS($S(e,n))}}(zS(t)):null}function Hm(t){return null!=t?function KS(t){if(!t)return null;const n=t.filter(HS);return 0==n.length?null:function(e){return function JV(...t){const n=Xo(t),{args:e,keys:r}=IS(t),i=new Se(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let u=s,h=s;for(let f=0;f<s;f++){let m=!1;Zt(e[f]).subscribe(ze(o,E=>{m||(m=!0,h--),a[f]=E},()=>u--,void 0,()=>{(!u||!m)&&(h||o.next(r?DS(r,a):a),o.complete())}))}});return n?i.pipe(Bm(n)):i}($S(e,n).map(VS)).pipe(Ke(jS))}}(zS(t)):null}function WS(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Vm(t){return t?Array.isArray(t)?t:[t]:[]}function Od(t,n){return Array.isArray(t)?t.includes(n):t===n}function YS(t,n){const e=Vm(n);return Vm(t).forEach(i=>{Od(e,i)||e.push(i)}),e}function QS(t,n){return Vm(n).filter(e=>!Od(t,e))}class XS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Um(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Dn extends XS{get formDirective(){return null}get path(){return null}}class Gi extends XS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JS{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kd=(()=>{class t extends JS{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Gi,2))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&gi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[at]})}return t})(),xc=(()=>{class t extends JS{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Dn,10))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&gi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[at]})}return t})();const Fc="VALID",Nd="INVALID",ta="PENDING",Lc="DISABLED";function zm(t){return(xd(t)?t.validators:t)||null}function Gm(t,n){return(xd(n)?n.asyncValidators:t)||null}function xd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rI{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Fc}get invalid(){return this.status===Nd}get pending(){return this.status==ta}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(YS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(YS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(QS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(QS(n,this._rawAsyncValidators))}hasValidator(n){return Od(this._rawValidators,n)}hasAsyncValidator(n){return Od(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ta,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Fc,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fc||this.status===ta)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:Fc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator=!0;const e=VS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?Nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(Nd)?Nd:Fc}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xd(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function u2(t){return Array.isArray(t)?Um(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function d2(t){return Array.isArray(t)?Hm(t):t||null}(this._rawAsyncValidators)}}class Km extends rI{constructor(n,e,r){super(zm(e),Gm(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function nI(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new l(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function tI(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new l(1e3,"");if(!r[e])throw new l(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const na=new le("CallSetDisabledState",{providedIn:"root",factory:()=>Fd}),Fd="always";function Bc(t,n,e=Fd){Wm(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function p2(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iI(t,n)})}(t,n),function m2(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function g2(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iI(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function f2(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Ud(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Wm(t,n){const e=function qS(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(WS(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=function ZS(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(WS(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ud(n._rawValidators,i),Ud(n._rawAsyncValidators,i)}function iI(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const E2={provide:Dn,useExisting:yt(()=>Do)},Uc=(()=>Promise.resolve())();let Do=(()=>{class t extends Dn{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new It,this.form=new Km({},Um(e),Hm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uc.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Bc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uc.then(()=>{const r=this._findContainer(e.path),i=new Km({});(function oI(t,n){Wm(t,n)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Uc.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function sI(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(Y(mn,10),Y(zi,10),Y(na,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&et("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rt([E2]),at]})}return t})();function aI(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function cI(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lI=class extends rI{constructor(n=null,e,r){super(zm(e),Gm(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cI(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){aI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){aI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){cI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},T2={provide:Gi,useExisting:yt(()=>Hc)},hI=(()=>Promise.resolve())();let Hc=(()=>{class t extends Gi{constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lI,this._registered=!1,this.name="",this.update=new It,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ym(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===ea?e=o:function v2(t){return Object.getPrototypeOf(t.constructor)===Io}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Zm(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Xs(r);hI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ld(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Dn,9),Y(mn,10),Y(zi,10),Y(Kr,10),Y(dd,8),Y(na,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rt([T2]),at,nr]})}return t})(),Vc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const A2={provide:Kr,useExisting:yt(()=>Qm),multi:!0};let Qm=(()=>{class t extends Io{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=cn(t)))(i||t)}}();static#t=this.\u0275dir=Be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&et("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Rt([A2]),at]})}return t})(),fI=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})(),Mo=(()=>{class t{constructor(){this._validator=Rd}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Rd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,features:[nr]})}return t})();const j2={provide:mn,useExisting:yt(()=>Vd),multi:!0};let Vd=(()=>{class t extends Mo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xs,this.createValidator=e=>NS}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=cn(t)))(i||t)}}();static#t=this.\u0275dir=Be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&sr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Rt([j2]),at]})}return t})(),q2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[fI]})}return t})(),Y2=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:na,useValue:e.callSetDisabledState??Fd}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[q2]})}return t})();function jd(...t){const n=so(t),e=Xo(t),{args:r,keys:i}=IS(t);if(0===r.length)return lt([],n);const o=new Se(function X2(t,n,e=_e){return r=>{OI(n,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)OI(n,()=>{const h=lt(t[u],n);let f=!1;h.subscribe(ze(r,m=>{o[u]=m,f||(f=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>DS(i,s):_e));return e?o.pipe(Bm(e)):o}function OI(t,n,e){t?mr(e,t,n):n()}const $d=D(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zd(...t){return function J2(){return Ai(1)}()(lt(t,so(t)))}function Gd(t){return new Se(n=>{Zt(t()).subscribe(n)})}function jc(t,n){const e=g(t)?t:()=>t,r=i=>i.error(e());return new Se(n?i=>n.schedule(r,0,i):r)}function r_(){return rt((t,n)=>{let e=null;t._refCount++;const r=ze(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class kI extends Se{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,dn(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new O;const e=this.getSubject();n.add(this.source.subscribe(ze(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=O.EMPTY)}return n}refCount(){return r_()(this)}}function _n(t){return t<=0?()=>Hn:rt((n,e)=>{let r=0;n.subscribe(ze(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Kd(...t){const n=so(t);return rt((e,r)=>{(n?zd(t,e,n):zd(t,e)).subscribe(r)})}function tn(t,n){return rt((e,r)=>{let i=0;e.subscribe(ze(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Wd(t){return rt((n,e)=>{let r=!1;n.subscribe(ze(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function PI(t=ej){return rt((n,e)=>{let r=!1;n.subscribe(ze(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function ej(){return new $d}function Ro(t,n){const e=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):_e,_n(1),e?Wd(n):PI(()=>new $d))}function Ki(t,n){return g(n)?jt(t,n,1):jt(t,1)}function yn(t,n,e){const r=g(t)||n||e?{next:t,error:n,complete:e}:t;return r?rt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ze(o,u=>{var h;null===(h=r.next)||void 0===h||h.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var h;a=!1,null===(h=r.error)||void 0===h||h.call(r,u),o.error(u)},()=>{var u,h;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):_e}function vi(t){return rt((n,e)=>{let o,r=null,i=!1;r=n.subscribe(ze(e,void 0,void 0,s=>{o=Zt(t(s,vi(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function i_(t){return t<=0?()=>Hn:rt((n,e)=>{let r=[];n.subscribe(ze(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function $c(t){return rt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function qd(t){return rt((n,e)=>{Zt(t).subscribe(ze(e,()=>e.complete(),Ce)),!e.closed&&n.subscribe(e)})}const We="primary",zc=Symbol("RouteTitle");class oj{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ra(t){return new oj(t)}function sj(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wr(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!NI(t[i],n[i]))return!1;return!0}function NI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}return t===n}function xI(t){return t.length>0?t[t.length-1]:null}function Wi(t){return function Q2(t){return!!t&&(t instanceof Se||g(t.lift)&&g(t.subscribe))}(t)?t:yc(t)?lt(Promise.resolve(t)):Ae(t)}const cj={exact:function BI(t,n,e){if(!Oo(t.segments,n.segments)||!Zd(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!BI(t.children[r],n.children[r],e))return!1;return!0},subset:UI},FI={exact:function lj(t,n){return Wr(t,n)},subset:function uj(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>NI(t[e],n[e]))},ignored:()=>!0};function LI(t,n,e){return cj[e.paths](t.root,n.root,e.matrixParams)&&FI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function UI(t,n,e){return HI(t,n,n.segments,e)}function HI(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!Oo(i,e)||n.hasChildren()||!Zd(i,e,r))}if(t.segments.length===e.length){if(!Oo(t.segments,e)||!Zd(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!UI(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(Oo(t.segments,i)&&Zd(t.segments,i,r)&&t.children[We])&&HI(t.children[We],n,o,r)}}function Zd(t,n,e){return n.every((r,i)=>FI[e](t[i].parameters,r.parameters))}class ia{constructor(n=new mt([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return fj.serialize(this)}}class mt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}}class Gc{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ra(this.parameters)),this._parameterMap}toString(){return $I(this)}}function Oo(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let Kc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return new o_},providedIn:"root"})}return t})();class o_{parse(n){const e=new Tj(n);return new ia(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Wc(n.root,!0)}`,r=function mj(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Qd(e)}=${Qd(i)}`).join("&"):`${Qd(e)}=${Qd(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function pj(t){return encodeURI(t)}(n.fragment)}`:""}`}}const fj=new o_;function Yd(t){return t.segments.map(n=>$I(n)).join("/")}function Wc(t,n){if(!t.hasChildren())return Yd(t);if(n){const e=t.children[We]?Wc(t.children[We],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==We&&r.push(`${i}:${Wc(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function hj(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===We&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==We&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===We?[Wc(t.children[We],!1)]:[`${i}:${Wc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[We]?`${Yd(t)}/${e[0]}`:`${Yd(t)}/(${e.join("//")})`}}function VI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qd(t){return VI(t).replace(/%3B/gi,";")}function s_(t){return VI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xd(t){return decodeURIComponent(t)}function jI(t){return Xd(t.replace(/\+/g,"%20"))}function $I(t){return`${s_(t.path)}${function gj(t){return Object.keys(t).map(n=>`;${s_(n)}=${s_(t[n])}`).join("")}(t.parameters)}`}const _j=/^[^\/()?;#]+/;function a_(t){const n=t.match(_j);return n?n[0]:""}const yj=/^[^\/()?;=#]+/,Cj=/^[^=?&#]+/,bj=/^[^&#]+/;class Tj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[We]=new mt(n,e)),r}parseSegment(){const n=a_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new l(4009,!1);return this.capture(n),new Gc(Xd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function vj(t){const n=t.match(yj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=a_(this.remaining);i&&(r=i,this.capture(r))}n[Xd(e)]=Xd(r)}parseQueryParam(n){const e=function Ej(t){const n=t.match(Cj);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function wj(t){const n=t.match(bj);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=jI(e),o=jI(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=a_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=We);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[We]:new mt([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new l(4011,!1)}}function zI(t){return t.segments.length>0?new mt([],{[We]:t}):t}function GI(t){const n={};for(const r of Object.keys(t.children)){const o=GI(t.children[r]);if(r===We&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function Aj(t){if(1===t.numberOfChildren&&t.children[We]){const n=t.children[We];return new mt(t.segments.concat(n.segments),n.children)}return t}(new mt(t.segments,n))}function ko(t){return t instanceof ia}function KI(t){let n;const i=zI(function e(o){const s={};for(const u of o.children){const h=e(u);s[u.outlet]=h}const a=new mt(o.url,s);return o===t&&(n=a),a}(t.root));return n??i}function WI(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return c_(i,i,i,e,r);const o=function Ij(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ZI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,h])=>{a[u]="string"==typeof h?h.split("/"):h}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?e=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new ZI(e,n,r)}(n);if(o.toRoot())return c_(i,i,new mt([],{}),e,r);const s=function Dj(t,n,e){if(t.isAbsolute)return new eh(n,!0,0);if(!e)return new eh(n,!1,NaN);if(null===e.parent)return new eh(e,!0,0);const r=Jd(t.commands[0])?0:1;return function Mj(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l(4005,!1);i=r.segments.length}return new eh(r,!1,i-o)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Zc(s.segmentGroup,s.index,o.commands):YI(s.segmentGroup,s.index,o.commands);return c_(i,s.segmentGroup,a,e,r)}function Jd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qc(t){return"object"==typeof t&&null!=t&&t.outlets}function c_(t,n,e,r,i){let s,o={};r&&Object.entries(r).forEach(([u,h])=>{o[u]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`}),s=t===n?e:qI(t,n,e);const a=zI(GI(s));return new ia(a,o,i)}function qI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===n?e:qI(o,n,e)}),new mt(t.segments,r)}class ZI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Jd(r[0]))throw new l(4003,!1);const i=r.find(qc);if(i&&i!==xI(r))throw new l(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eh{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function YI(t,n,e){if(t||(t=new mt([],{})),0===t.segments.length&&t.hasChildren())return Zc(t,n,e);const r=function Oj(t,n,e){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;const s=t.segments[i],a=e[r];if(qc(a))break;const u=`${a}`,h=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!XI(u,h,s))return o;r+=2}else{if(!XI(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new mt(t.segments.slice(0,r.pathIndex),{});return o.children[We]=new mt(t.segments.slice(r.pathIndex),t.children),Zc(o,0,i)}return r.match&&0===i.length?new mt(t.segments,{}):r.match&&!t.hasChildren()?l_(t,n,e):r.match?Zc(t,0,i):l_(t,n,e)}function Zc(t,n,e){if(0===e.length)return new mt(t.segments,{});{const r=function Rj(t){return qc(t[0])?t[0].outlets:{[We]:t}}(e),i={};if(Object.keys(r).some(o=>o!==We)&&t.children[We]&&1===t.numberOfChildren&&0===t.children[We].segments.length){const o=Zc(t.children[We],n,e);return new mt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=YI(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new mt(t.segments,i)}}function l_(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const o=e[i];if(qc(o)){const u=kj(o.outlets);return new mt(r,u)}if(0===i&&Jd(e[0])){r.push(new Gc(t.segments[n].path,QI(e[0]))),i++;continue}const s=qc(o)?o.outlets[We]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Jd(a)?(r.push(new Gc(s,QI(a))),i+=2):(r.push(new Gc(s,{})),i++)}return new mt(r,{})}function kj(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=l_(new mt([],{}),0,r))}),n}function QI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function XI(t,n,e){return t==e.path&&Wr(n,e.parameters)}const Yc="imperative";class qr{constructor(n,e){this.id=n,this.url=e}}class th extends qr{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends qr{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qc extends qr{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oa extends qr{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class nh extends qr{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JI extends qr{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pj extends qr{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nj extends qr{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xj extends qr{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fj extends qr{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lj{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bj{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uj{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hj{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vj{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jj{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eD{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class u_{}class d_{constructor(n){this.url=n}}class $j{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xc,this.attachRef=null}}let Xc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new $j,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=h_(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=h_(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=f_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return f_(n,this._root).map(e=>e.value)}}function h_(t,n){if(t===n.value)return n;for(const e of n.children){const r=h_(t,e);if(r)return r}return null}function f_(t,n){if(t===n.value)return[n];for(const e of n.children){const r=f_(t,e);if(r.length)return r.unshift(n),r}return[]}class Ci{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function sa(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class nD extends tD{constructor(n,e){super(n),this.snapshot=e,p_(this,n)}toString(){return this.snapshot.toString()}}function rD(t,n){const e=function zj(t,n){const s=new rh([],{},{},"",{},We,n,null,{});return new oD("",new Ci(s,[]))}(0,n),r=new Ot([new Gc("",{})]),i=new Ot({}),o=new Ot({}),s=new Ot({}),a=new Ot(""),u=new aa(r,i,s,a,o,We,n,e.root);return u.snapshot=e.root,new nD(new Ci(u,[]),e)}class aa{constructor(n,e,r,i,o,s,a,u){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ke(h=>h[zc]))??Ae(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ke(n=>ra(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ke(n=>ra(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iD(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Gj(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class rh{get title(){return this.data?.[zc]}constructor(n,e,r,i,o,s,a,u,h){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oD extends tD{constructor(n,e){super(e),this.url=n,p_(this,e)}toString(){return sD(this._root)}}function p_(t,n){n.value._routerState=t,n.children.forEach(e=>p_(t,e))}function sD(t){const n=t.children.length>0?` { ${t.children.map(sD).join(", ")} } `:"";return`${t.value}${n}`}function g_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Wr(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Wr(n.params,e.params)||t.paramsSubject.next(e.params),function aj(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Wr(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Wr(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function m_(t,n){const e=Wr(t.params,n.params)&&function dj(t,n){return Oo(t,n)&&t.every((e,r)=>Wr(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||m_(t.parent,n.parent))}let __=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=ve(Xc),this.location=ve(ar),this.changeDetector=ve(dd),this.environmentInjector=ve(Gn),this.inputBinder=ve(ih,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l(4013,!1);this._activatedRoute=e;const i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Kj(e,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}return t})();class Kj{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===aa?this.route:n===Xc?this.childContexts:this.parent.get(n,e)}}const ih=new le("");let aD=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=jd([r.queryParams,r.params,r.data]).pipe(en(([o,s,a],u)=>(a={...o,...s,...a},0===u?Ae(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=function TU(t){const n=it(t);if(!n)return null;const e=new fc(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();function Jc(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function qj(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jc(t,r,i);return Jc(t,r)})}(t,n,e);return new Ci(r,i)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Jc(t,a)),s}}const r=function Zj(t){return new aa(new Ot(t.url),new Ot(t.params),new Ot(t.queryParams),new Ot(t.fragment),new Ot(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(o=>Jc(t,o));return new Ci(r,i)}}const y_="ngNavigationCancelingError";function cD(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=ko(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=lD(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function lD(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[y_]=!0,r.cancellationCode=n,e&&(r.url=e),r}function uD(t){return t&&t[y_]}let dD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=On({type:t,selectors:[["ng-component"]],standalone:!0,features:[lT],decls:1,vars:0,template:function(r,i){1&r&&ht(0,"router-outlet")},dependencies:[__],encapsulation:2})}return t})();function v_(t){const n=t.children&&t.children.map(v_),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==We&&(e.component=dD),e}function Tr(t){return t.outlet||We}function el(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class r${constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),g_(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=sa(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=sa(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=sa(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=sa(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jj(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Hj(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(g_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),g_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=el(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class hD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class oh{constructor(n,e){this.component=n,this.route=e}}function i$(t,n,e){const r=t._root;return tl(r,n?n._root:null,e,[r.value])}function ca(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function DR(t){return null!==Hl(t)}(t)?n.get(t):t:r}function tl(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sa(n);return t.children.forEach(s=>{(function s$(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function a$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Oo(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Oo(t.url,n.url)||!Wr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m_(t,n)||!Wr(t.queryParams,n.queryParams);default:return!m_(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hD(r)):(o.data=s.data,o._resolvedData=s._resolvedData),tl(t,n,o.component?a?a.children:null:e,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new oh(a.outlet.component,s))}else s&&nl(n,a,i),i.canActivateChecks.push(new hD(r)),tl(t,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nl(a,e.getContext(s),i)),i}function nl(t,n,e){const r=sa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{nl(s,i.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new oh(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function rl(t){return"function"==typeof t}function fD(t){return t instanceof $d||"EmptyError"===t?.name}const sh=Symbol("INITIAL_VALUE");function la(){return en(t=>jd(t.map(n=>n.pipe(_n(1),Kd(sh)))).pipe(Ke(n=>{for(const e of n)if(!0!==e){if(e===sh)return sh;if(!1===e||e instanceof ia)return e}return!0}),tn(n=>n!==sh),_n(1)))}function pD(t){return function Te(...t){return Ze(t)}(yn(n=>{if(ko(n))throw cD(0,n)}),Ke(n=>!0===n))}class ah{constructor(n){this.segmentGroup=n||null}}class gD{constructor(n){this.urlTree=n}}function ua(t){return jc(new ah(t))}function mD(t){return jc(new gD(t))}class I${constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new l(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ae(r);if(i.numberOfChildren>1||!i.children[We])return jc(new l(4e3,!1));i=i.children[We]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const o=this.createSegmentGroup(n,e.root,r,i);return new ia(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){const o=this.createSegments(n,e.segments,r,i);let s={};return Object.entries(e.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(n,u,r,i)}),new mt(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new l(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const C_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D$(t,n,e,r,i){const o=E_(t,n,e);return o.matched?(r=function Qj(t,n){return t.providers&&!t._injector&&(t._injector=kg(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function T$(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?Ae(i.map(s=>{const a=ca(s,t);return Wi(function f$(t){return t&&rl(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(la(),pD()):Ae(!0)}(r,n,e).pipe(Ke(s=>!0===s?o:{...C_}))):Ae(o)}function E_(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...C_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||sj)(e,t,n);if(!i)return{...C_};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _D(t,n,e,r){return e.length>0&&function O$(t,n,e){return e.some(r=>ch(t,n,r)&&Tr(r)!==We)}(t,e,r)?{segmentGroup:new mt(n,R$(r,new mt(e,t.children))),slicedSegments:[]}:0===e.length&&function k$(t,n,e){return e.some(r=>ch(t,n,r))}(t,e,r)?{segmentGroup:new mt(t.segments,M$(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new mt(t.segments,t.children),slicedSegments:e}}function M$(t,n,e,r,i){const o={};for(const s of r)if(ch(t,e,s)&&!i[Tr(s)]){const a=new mt([],{});o[Tr(s)]=a}return{...i,...o}}function R$(t,n){const e={};e[We]=n;for(const r of t)if(""===r.path&&Tr(r)!==We){const i=new mt([],{});e[Tr(r)]=i}return e}function ch(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class F${constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new I$(this.urlSerializer,this.urlTree)}noMatchError(n){return new l(4002,!1)}recognize(){const n=_D(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,We).pipe(vi(e=>{if(e instanceof gD)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof ah?this.noMatchError(e):e}),Ke(e=>{const r=new rh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},We,this.rootComponentType,null,{}),i=new Ci(r,e),o=new oD("",i),s=function Sj(t,n,e=null,r=null){return WI(KI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,We).pipe(vi(r=>{throw r instanceof ah?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=iD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return lt(i).pipe(Ki(o=>{const s=r.children[o],a=function t$(t,n){const e=t.filter(r=>Tr(r)===n);return e.push(...t.filter(r=>Tr(r)!==n)),e}(e,o);return this.processSegmentGroup(n,a,s,o)}),function nj(t,n){return rt(function tj(t,n,e,r,i){return(o,s)=>{let a=e,u=n,h=0;o.subscribe(ze(s,f=>{const m=h++;u=a?t(u,f,m):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Wd(null),function rj(t,n){const e=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):_e,i_(1),e?Wd(n):PI(()=>new $d))}(),jt(o=>{if(null===o)return ua(r);const s=yD(o);return function L$(t){t.sort((n,e)=>n.value.outlet===We?-1:e.value.outlet===We?1:n.value.outlet.localeCompare(e.value.outlet))}(s),Ae(s)}))}processSegment(n,e,r,i,o,s){return lt(e).pipe(Ki(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,r,i,o,s).pipe(vi(u=>{if(u instanceof ah)return Ae(null);throw u}))),Ro(a=>!!a),vi(a=>{if(fD(a))return function N$(t,n,e){return 0===n.length&&!t.children[e]}(r,i,o)?Ae([]):ua(r);throw a}))}processSegmentAgainstRoute(n,e,r,i,o,s,a){return function P$(t,n,e,r){return!!(Tr(t)===r||r!==We&&ch(n,e,t))&&("**"===t.path||E_(n,t,e).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s):ua(i):ua(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(jt(s=>{const a=new mt(s,{});return this.processSegment(n,e,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:h,positionalParamSegments:f}=E_(e,i,o);if(!a)return ua(e);const m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?mD(m):this.applyRedirects.lineralizeSegments(i,m).pipe(jt(E=>this.processSegment(n,r,e,E.concat(h),s,!1)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?xI(i).parameters:{};a=Ae({snapshot:new rh(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vD(r),Tr(r),r.component??r._loadedComponent??null,r,CD(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=D$(e,r,i,n).pipe(Ke(({matched:u,consumedSegments:h,remainingSegments:f,parameters:m})=>u?{snapshot:new rh(h,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vD(r),Tr(r),r.component??r._loadedComponent??null,r,CD(r)),consumedSegments:h,remainingSegments:f}:null));return a.pipe(en(u=>null===u?ua(e):this.getChildConfig(n=r._injector??n,r,i).pipe(en(({routes:h})=>{const f=r._loadedInjector??n,{snapshot:m,consumedSegments:E,remainingSegments:T}=u,{segmentGroup:R,slicedSegments:k}=_D(e,E,T,h);if(0===k.length&&R.hasChildren())return this.processChildren(f,h,R).pipe(Ke(te=>null===te?null:[new Ci(m,te)]));if(0===h.length&&0===k.length)return Ae([new Ci(m,[])]);const j=Tr(r)===o;return this.processSegment(f,h,R,k,j?We:o,!0).pipe(Ke(te=>[new Ci(m,te)]))}))))}getChildConfig(n,e,r){return e.children?Ae({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Ae({routes:e._loadedRoutes,injector:e._loadedInjector}):function w$(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?Ae(!0):Ae(i.map(s=>{const a=ca(s,t);return Wi(function l$(t){return t&&rl(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(la(),pD())}(n,e,r).pipe(jt(i=>i?this.configLoader.loadChildren(n,e).pipe(yn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function S$(t){return jc(lD(!1,3))}())):Ae({routes:[],injector:n})}}function B$(t){const n=t.value.routeConfig;return n&&""===n.path}function yD(t){const n=[],e=new Set;for(const r of t){if(!B$(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=yD(r.children);n.push(new Ci(r.value,i))}return n.filter(r=>!e.has(r))}function vD(t){return t.data||{}}function CD(t){return t.resolve||{}}function ED(t){return"string"==typeof t.title||null===t.title}function b_(t){return en(n=>{const e=t(n);return e?lt(e).pipe(Ke(()=>n)):Ae(n)})}const da=new le("ROUTES");let w_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ve(eA)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ae(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Wi(e.loadComponent()).pipe(Ke(bD),yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),$c(()=>{this.componentLoaders.delete(e)})),i=new kI(r,()=>new je).pipe(r_());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function G$(t,n,e,r){return Wi(t.loadChildren()).pipe(Ke(bD),jt(i=>i instanceof aT||Array.isArray(i)?Ae(i):lt(n.compileModuleAsync(i))),Ke(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(e).injector,s=o.get(da,[],{optional:!0,self:!0}).flat()),{routes:s.map(v_),injector:o}}))}(r,this.compiler,e,this.onLoadEndListener).pipe($c(()=>{this.childrenLoaders.delete(r)})),s=new kI(o,()=>new je).pipe(r_());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bD(t){return function K$(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let lh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=ve(w_),this.environmentInjector=ve(Gn),this.urlSerializer=ve(Kc),this.rootContexts=ve(Xc),this.inputBindingEnabled=null!==ve(ih,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Bj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Lj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new Ot({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(o=>0!==o.id),Ke(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),en(o=>{this.currentTransition=o;let s=!1,a=!1;return Ae(o).pipe(yn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),en(u=>{const h=u.currentBrowserUrl.toString(),f=!e.navigated||u.extractedUrl.toString()!==h||h!==u.currentUrlTree.toString();if(!f&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new oa(u.id,this.urlSerializer.serialize(u.rawUrl),E,0)),u.resolve(null),Hn}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Ae(u).pipe(en(E=>{const T=this.transitions?.getValue();return this.events.next(new th(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),T!==this.transitions?.getValue()?Hn:Promise.resolve(E)}),function U$(t,n,e,r,i,o){return jt(s=>function x$(t,n,e,r,i,o,s="emptyOnly"){return new F$(t,n,e,r,i,s,o).recognize()}(t,n,e,r,s.extractedUrl,i,o).pipe(Ke(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),yn(E=>{o.targetSnapshot=E.targetSnapshot,o.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects};const T=new JI(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(T)}));if(f&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:E,extractedUrl:T,source:R,restoredState:k,extras:j}=u,te=new th(E,this.urlSerializer.serialize(T),R,k);this.events.next(te);const $=rD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:$,urlAfterRedirects:T,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},Ae(o)}{const E="";return this.events.next(new oa(u.id,this.urlSerializer.serialize(u.extractedUrl),E,1)),u.resolve(null),Hn}}),yn(u=>{const h=new Pj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Ke(u=>(this.currentTransition=o={...u,guards:i$(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function g$(t,n){return jt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Ae({...e,guardsResult:!0}):function m$(t,n,e,r){return lt(t).pipe(jt(i=>function b$(t,n,e,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Ae(o.map(a=>{const u=el(n)??i,h=ca(a,u);return Wi(function h$(t){return t&&rl(t.canDeactivate)}(h)?h.canDeactivate(t,n,e,r):u.runInContext(()=>h(t,n,e,r))).pipe(Ro())})).pipe(la()):Ae(!0)}(i.component,i.route,e,n,r)),Ro(i=>!0!==i,!0))}(s,r,i,t).pipe(jt(a=>a&&function c$(t){return"boolean"==typeof t}(a)?function _$(t,n,e,r){return lt(n).pipe(Ki(i=>zd(function v$(t,n){return null!==t&&n&&n(new Uj(t)),Ae(!0)}(i.route.parent,r),function y$(t,n){return null!==t&&n&&n(new Vj(t)),Ae(!0)}(i.route,r),function E$(t,n,e){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function o$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Gd(()=>Ae(s.guards.map(u=>{const h=el(s.node)??e,f=ca(u,h);return Wi(function d$(t){return t&&rl(t.canActivateChild)}(f)?f.canActivateChild(r,t):h.runInContext(()=>f(r,t))).pipe(Ro())})).pipe(la())));return Ae(o).pipe(la())}(t,i.path,e),function C$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ae(!0);const i=r.map(o=>Gd(()=>{const s=el(n)??e,a=ca(o,s);return Wi(function u$(t){return t&&rl(t.canActivate)}(a)?a.canActivate(n,t):s.runInContext(()=>a(n,t))).pipe(Ro())}));return Ae(i).pipe(la())}(t,i.route,e))),Ro(i=>!0!==i,!0))}(r,o,t,n):Ae(a)),Ke(a=>({...e,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),yn(u=>{if(o.guardsResult=u.guardsResult,ko(u.guardsResult))throw cD(0,u.guardsResult);const h=new Nj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),tn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),b_(u=>{if(u.guards.canActivateChecks.length)return Ae(u).pipe(yn(h=>{const f=new xj(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),en(h=>{let f=!1;return Ae(h).pipe(function H$(t,n){return jt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Ae(e);let o=0;return lt(i).pipe(Ki(s=>function V$(t,n,e,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!ED(i)&&(o[zc]=i.title),function j$(t,n,e,r){const i=function $$(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ae({});const o={};return lt(i).pipe(jt(s=>function z$(t,n,e,r){const i=el(n)??r,o=ca(t,i);return Wi(o.resolve?o.resolve(n,e):i.runInContext(()=>o(n,e)))}(t[s],n,e,r).pipe(Ro(),yn(a=>{o[s]=a}))),i_(1),function ij(t){return Ke(()=>t)}(o),vi(s=>fD(s)?Hn:jc(s)))}(o,t,n,r).pipe(Ke(s=>(t._resolvedData=s,t.data=iD(t,e).resolve,i&&ED(i)&&(t.data[zc]=i.title),null)))}(s.route,r,t,n)),yn(()=>o++),i_(1),jt(s=>o===i.length?Ae(e):Hn))})}(e.paramsInheritanceStrategy,this.environmentInjector),yn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",2)}}))}),yn(h=>{const f=new Fj(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),b_(u=>{const h=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(yn(E=>{f.component=E}),Ke(()=>{})));for(const E of f.children)m.push(...h(E));return m};return jd(h(u.targetSnapshot.root)).pipe(Wd(),_n(1))}),b_(()=>this.afterPreactivation()),Ke(u=>{const h=function Wj(t,n,e){const r=Jc(t,n._root,e?e._root:void 0);return new nD(r,n)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:h},o}),yn(()=>{this.events.next(new u_)}),((t,n,e,r)=>Ke(i=>(new r$(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_n(1),yn({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),qd(this.transitionAbortSubject.pipe(yn(u=>{throw u}))),$c(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vi(u=>{if(a=!0,uD(u))this.events.next(new Qc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Yj(t){return uD(t)&&ko(t.url)}(u)?this.events.next(new d_(u.url)):o.resolve(!1);else{this.events.next(new nh(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(u))}catch(h){o.reject(h)}}return Hn}))}))}cancelNavigationTransition(e,r,i){const o=new Qc(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wD(t){return t!==Yc}let TD=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===We);return r}getResolvedTitleForRoute(e){return e.data[zc]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return ve(W$)},providedIn:"root"})}return t})(),W$=(()=>{class t extends TD{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(bS))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),q$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return ve(Y$)},providedIn:"root"})}return t})();class Z${shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Y$=(()=>{class t extends Z${static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=cn(t)))(i||t)}}();static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uh=new le("",{providedIn:"root",factory:()=>({})});let Q$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:function(){return ve(X$)},providedIn:"root"})}return t})(),X$=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var il=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(il||{});function AD(t,n){t.events.pipe(tn(e=>e instanceof qi||e instanceof Qc||e instanceof nh||e instanceof oa),Ke(e=>e instanceof qi||e instanceof oa?il.COMPLETE:e instanceof Qc&&(0===e.code||1===e.code)?il.REDIRECTING:il.FAILED),tn(e=>e!==il.REDIRECTING),_n(1)).subscribe(()=>{n()})}function J$(t){throw t}function ez(t,n,e){return n.parse("/")}const tz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ve(JT),this.isNgZoneEnabled=!1,this._events=new je,this.options=ve(uh,{optional:!0})||{},this.pendingTasks=ve(ad),this.errorHandler=this.options.errorHandler||J$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ez,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ve(Q$),this.routeReuseStrategy=ve(q$),this.titleStrategy=ve(TD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ve(da,{optional:!0})?.flat()??[],this.navigationTransitions=ve(lh),this.urlSerializer=ve(Kc),this.location=ve(Vi),this.componentInputBindingEnabled=!!ve(ih,{optional:!0}),this.eventsSubscription=new O,this.isNgZoneEnabled=ve(qe)instanceof qe&&qe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ia,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(SD(r)&&this._events.next(r));if(r instanceof th)wD(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof oa)this.rawUrlTree=i.rawUrl;else if(r instanceof JI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof u_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Qc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof d_){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wD(i.source)};this.scheduleNavigation(o,Yc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof nh&&this.restoreHistory(i,!0),r instanceof qi&&(this.navigated=!0),SD(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yc,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(v_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:s;let m,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{m=KI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),m=this.currentUrlTree.root}return WI(m,e,f,h??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ko(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Yc,null,r)}navigate(e,r={skipLocationChange:!1}){return function rz(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new l(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...tz}:!1===r?{...nz}:r,ko(e))return LI(this.currentUrlTree,e,i);const o=this.parseUrl(e);return LI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,h;s?(a=s.resolve,u=s.reject,h=s.promise):h=new Promise((m,E)=>{a=m,u=E});const f=this.pendingTasks.add();return AD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SD(t){return!(t instanceof u_||t instanceof d_)}class ID{}let sz=(()=>{class t{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tn(e=>e instanceof qi),Ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=kg(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return lt(i).pipe(Ai())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ae(null);const o=i.pipe(jt(s=>null===s?Ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?lt([o,this.loader.loadComponent(r)]).pipe(Ai()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(U(Jt),U(eA),U(Gn),U(ID),U(w_))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const A_=new le("");let DD=(()=>{class t{constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof th?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof oa&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof eD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){Zp()};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();function Ei(t,n){return{\u0275kind:t,\u0275providers:n}}function RD(){const t=ve($t);return n=>{const e=t.get(Ui);if(n!==e.components[0])return;const r=t.get(Jt),i=t.get(OD);1===t.get(S_)&&r.initialNavigation(),t.get(kD,null,Qe.Optional)?.setUpPreloading(),t.get(A_,null,Qe.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const OD=new le("",{factory:()=>new je}),S_=new le("",{providedIn:"root",factory:()=>1}),kD=new le("");function uz(t){return Ei(0,[{provide:kD,useExisting:sz},{provide:ID,useExisting:t}])}const PD=new le("ROUTER_FORROOT_GUARD"),hz=[Vi,{provide:Kc,useClass:o_},Jt,Xc,{provide:aa,useFactory:function MD(t){return t.routerState.root},deps:[Jt]},w_,[]];function fz(){return new aA("Router",Jt)}let I_=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[hz,[],{provide:da,multi:!0,useValue:e},{provide:PD,useFactory:_z,deps:[[Jt,new uu,new du]]},{provide:uh,useValue:r||{}},r?.useHash?{provide:So,useClass:MU}:{provide:So,useClass:LA},{provide:A_,useFactory:()=>{const t=ve(WH),n=ve(qe),e=ve(uh),r=ve(lh),i=ve(Kc);return e.scrollOffset&&t.setOffset(e.scrollOffset),new DD(i,r,t,n,e)}},r?.preloadingStrategy?uz(r.preloadingStrategy).\u0275providers:[],{provide:aA,multi:!0,useFactory:fz},r?.initialNavigation?yz(r):[],r?.bindToComponentInputs?Ei(8,[aD,{provide:ih,useExisting:aD}]).\u0275providers:[],[{provide:ND,useFactory:RD},{provide:tm,multi:!0,useExisting:ND}]]}}static forChild(e){return{ngModule:t,providers:[{provide:da,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(PD,8))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})();function _z(t){return"guarded"}function yz(t){return["disabled"===t.initialNavigation?Ei(3,[{provide:Wg,multi:!0,useFactory:()=>{const n=ve(Jt);return()=>{n.setUpLocationChangeListener()}}},{provide:S_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ei(2,[{provide:S_,useValue:0},{provide:Wg,multi:!0,deps:[$t],useFactory:n=>{const e=n.get(IU,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(Jt),o=n.get(OD);AD(i,()=>{r(!0)}),n.get(lh).afterPreactivation=()=>(r(!0),o.closed?Ae(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const ND=new le("");var Po=w(5861);class dh{}class hh{}class Ar{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ar?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ar;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ar?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class Cz{encodeKey(n){return xD(n)}encodeValue(n){return xD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const bz=/%(\d[a-f0-9])/gi,wz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xD(t){return encodeURIComponent(t).replace(bz,(n,e)=>wz[e]??n)}function fh(t){return`${t}`}class Zi{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Cz,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ez(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],u=e.get(s)||[];u.push(a),e.set(s,u)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(fh):[fh(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Zi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(fh(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(fh(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Tz{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function FD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function LD(t){return typeof Blob<"u"&&t instanceof Blob}function BD(t){return typeof FormData<"u"&&t instanceof FormData}class ol{constructor(n,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Az(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ar),this.context||(this.context=new Tz),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Zi,this.urlWithParams=e}serializeBody(){return null===this.body?null:FD(this.body)||LD(this.body)||BD(this.body)||function Sz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BD(this.body)?null:LD(this.body)?this.body.type||null:FD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,h=n.params||this.params;const f=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((m,E)=>m.set(E,n.setHeaders[E]),u)),n.setParams&&(h=Object.keys(n.setParams).reduce((m,E)=>m.set(E,n.setParams[E]),h)),new ol(e,r,o,{params:h,headers:u,context:f,reportProgress:a,responseType:i,withCredentials:s})}}var ha=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ha||{});class D_{constructor(n,e=200,r="OK"){this.headers=n.headers||new Ar,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class M_ extends D_{constructor(n={}){super(n),this.type=ha.ResponseHeader}clone(n={}){return new M_({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class fa extends D_{constructor(n={}){super(n),this.type=ha.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new fa({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class UD extends D_{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function R_(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let O_=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ol)o=e;else{let u,h;u=i.headers instanceof Ar?i.headers:new Ar(i.headers),i.params&&(h=i.params instanceof Zi?i.params:new Zi({fromObject:i.params})),o=new ol(e,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Ae(o).pipe(Ki(u=>this.handler.handle(u)));if(e instanceof ol||"events"===i.observe)return s;const a=s.pipe(tn(u=>u instanceof fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ke(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ke(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ke(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ke(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Zi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,R_(i,r))}post(e,r,i={}){return this.request("POST",e,R_(i,r))}put(e,r,i={}){return this.request("PUT",e,R_(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(U(dh))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();function jD(t,n){return n(t)}function Dz(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const $D=new le(""),sl=new le(""),zD=new le("");function Rz(){let t=null;return(n,e)=>{null===t&&(t=(ve($D,{optional:!0})??[]).reduceRight(Dz,jD));const r=ve(ad),i=r.add();return t(n,e).pipe($c(()=>r.remove(i)))}}let GD=(()=>{class t extends dh{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=ve(ad)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(sl),...this.injector.get(zD,[])]));this.chain=i.reduceRight((o,s)=>function Mz(t,n,e){return(r,i)=>e.runInContext(()=>n(r,o=>t(o,i)))}(o,s,this.injector),jD)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe($c(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(U(hh),U(Gn))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const Nz=/^\)\]\}',?\n/;let WD=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?lt(r.\u0275loadImpl()):Ae(null)).pipe(en(()=>new Se(o=>{const s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((k,j)=>s.setRequestHeader(k,j.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&s.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();s.responseType="json"!==k?k:"text"}const a=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const k=s.statusText||"OK",j=new Ar(s.getAllResponseHeaders()),te=function xz(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new M_({headers:j,status:s.status,statusText:k,url:te}),u},f=()=>{let{headers:k,status:j,statusText:te,url:$}=h(),pe=null;204!==j&&(pe=typeof s.response>"u"?s.responseText:s.response),0===j&&(j=pe?200:0);let be=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof pe){const He=pe;pe=pe.replace(Nz,"");try{pe=""!==pe?JSON.parse(pe):null}catch(_t){pe=He,be&&(be=!1,pe={error:_t,text:pe})}}be?(o.next(new fa({body:pe,headers:k,status:j,statusText:te,url:$||void 0})),o.complete()):o.error(new UD({error:pe,headers:k,status:j,statusText:te,url:$||void 0}))},m=k=>{const{url:j}=h(),te=new UD({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:j||void 0});o.error(te)};let E=!1;const T=k=>{E||(o.next(h()),E=!0);let j={type:ha.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(j.total=k.total),"text"===e.responseType&&s.responseText&&(j.partialText=s.responseText),o.next(j)},R=k=>{let j={type:ha.UploadProgress,loaded:k.loaded};k.lengthComputable&&(j.total=k.total),o.next(j)};return s.addEventListener("load",f),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),e.reportProgress&&(s.addEventListener("progress",T),null!==a&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),o.next({type:ha.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",f),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",T),null!==a&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(U(iS))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();const k_=new le("XSRF_ENABLED"),qD=new le("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZD=new le("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class YD{}let Bz=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=WA(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(Fi),U(qD))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();function Uz(t,n){const e=t.url.toLowerCase();if(!ve(k_)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=ve(YD).getToken(),i=ve(ZD);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var Yi=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Yi||{});function Hz(...t){const n=[O_,WD,GD,{provide:dh,useExisting:GD},{provide:hh,useExisting:WD},{provide:sl,useValue:Uz,multi:!0},{provide:k_,useValue:!0},{provide:YD,useClass:Bz}];for(const e of t)n.push(...e.\u0275providers);return function wp(t){return{\u0275providers:t}}(n)}const QD=new le("LEGACY_INTERCEPTOR_FN");function Vz(){return function No(t,n){return{\u0275kind:t,\u0275providers:n}}(Yi.LegacyInterceptors,[{provide:QD,useFactory:Rz},{provide:sl,useExisting:QD,multi:!0}])}let jz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[Hz(Vz())]})}return t})();const Zr=Object.create(null);Zr.open="0",Zr.close="1",Zr.ping="2",Zr.pong="3",Zr.message="4",Zr.upgrade="5",Zr.noop="6";const gh=Object.create(null);Object.keys(Zr).forEach(t=>{gh[Zr[t]]=t});const P_={type:"error",data:"parser error"},XD="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),JD="function"==typeof ArrayBuffer,eM=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,N_=({type:t,data:n},e,r)=>XD&&n instanceof Blob?e?r(n):tM(n,r):JD&&(n instanceof ArrayBuffer||eM(n))?e?r(n):tM(new Blob([n]),r):r(Zr[t]+(n||"")),tM=(t,n)=>{const e=new FileReader;return e.onload=function(){const r=e.result.split(",")[1];n("b"+(r||""))},e.readAsDataURL(t)};function nM(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let x_;const al=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<64;t++)al["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const Yz="function"==typeof ArrayBuffer,F_=(t,n)=>{if("string"!=typeof t)return{type:"message",data:rM(t,n)};const e=t.charAt(0);return"b"===e?{type:"message",data:Qz(t.substring(1),n)}:gh[e]?t.length>1?{type:gh[e],data:t.substring(1)}:{type:gh[e]}:P_},Qz=(t,n)=>{if(Yz){const e=(t=>{let r,o,s,a,u,n=.75*t.length,e=t.length,i=0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);const h=new ArrayBuffer(n),f=new Uint8Array(h);for(r=0;r<e;r+=4)o=al[t.charCodeAt(r)],s=al[t.charCodeAt(r+1)],a=al[t.charCodeAt(r+2)],u=al[t.charCodeAt(r+3)],f[i++]=o<<2|s>>4,f[i++]=(15&s)<<4|a>>2,f[i++]=(3&a)<<6|63&u;return h})(t);return rM(e,n)}return{base64:!0,data:t}},rM=(t,n)=>"blob"===n?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,iM=String.fromCharCode(30);let L_;function mh(t){return t.reduce((n,e)=>n+e.length,0)}function _h(t,n){if(t[0].length===n)return t.shift();const e=new Uint8Array(n);let r=0;for(let i=0;i<n;i++)e[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),e}function Gt(t){if(t)return function nG(t){for(var n in Gt.prototype)t[n]=Gt.prototype[n];return t}(t)}Gt.prototype.on=Gt.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this},Gt.prototype.once=function(t,n){function e(){this.off(t,e),n.apply(this,arguments)}return e.fn=n,this.on(t,e),this},Gt.prototype.off=Gt.prototype.removeListener=Gt.prototype.removeAllListeners=Gt.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<e.length;i++)if((r=e[i])===n||r.fn===n){e.splice(i,1);break}return 0===e.length&&delete this._callbacks["$"+t],this},Gt.prototype.emitReserved=Gt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+t],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(e){r=0;for(var i=(e=e.slice(0)).length;r<i;++r)e[r].apply(this,n)}return this},Gt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Gt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ur=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function sM(t,...n){return n.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{})}const rG=ur.setTimeout,iG=ur.clearTimeout;function yh(t,n){n.useNativeTimers?(t.setTimeoutFn=rG.bind(ur),t.clearTimeoutFn=iG.bind(ur)):(t.setTimeoutFn=ur.setTimeout.bind(ur),t.clearTimeoutFn=ur.clearTimeout.bind(ur))}function sG(t){return"string"==typeof t?function aG(t){let n=0,e=0;for(let r=0,i=t.length;r<i;r++)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(r++,e+=4);return e}(t):Math.ceil(1.33*(t.byteLength||t.size))}class uG extends Error{constructor(n,e,r){super(n),this.description=e,this.context=r,this.type="TransportError"}}class B_ extends Gt{constructor(n){super(),this.writable=!1,yh(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,e,r){return super.emitReserved("error",new uG(n,e,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(n){"open"===this.readyState&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const e=F_(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const n=this.opts.hostname;return-1===n.indexOf(":")?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(n){const e=function cG(t){let n="";for(let e in t)t.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n}(n);return e.length?"?"+e:""}}const aM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),vh=64,cM={};let uM,lM=0,Qi=0;function dM(t){let n="";do{n=aM[t%vh]+n,t=Math.floor(t/vh)}while(t>0);return n}function hM(){const t=dM(+new Date);return t!==uM?(lM=0,uM=t):t+"."+dM(lM++)}for(;Qi<vh;Qi++)cM[aM[Qi]]=Qi;let fM=!1;try{fM=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dG=fM;function pM(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||dG))return new XMLHttpRequest}catch{}if(!n)try{return new(ur[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function hG(){}const fG=null!=new pM({xdomain:!1}).responseType;let Ch=(()=>{class t extends Gt{constructor(e,r){super(),yh(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=void 0!==r.data?r.data:null,this.create()}create(){var e;const r=sM(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const i=this.xhr=new pM(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var o;3===i.readyState&&(null===(o=this.opts.cookieJar)||void 0===o||o.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}typeof document<"u"&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=hG,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();function gM(){for(let t in Ch.requests)Ch.requests.hasOwnProperty(t)&&Ch.requests[t].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",gM):"function"==typeof addEventListener&&addEventListener("onpagehide"in ur?"pagehide":"unload",gM,!1));const U_="function"==typeof Promise&&"function"==typeof Promise.resolve?n=>Promise.resolve().then(n):(n,e)=>e(n,0),Eh=ur.WebSocket||ur.MozWebSocket,mM=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),yG={websocket:class mG extends B_{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),e=this.opts.protocols,r=mM?{}:sM(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=mM?new Eh(n,e,r):e?new Eh(n,e):new Eh(n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const i=e===n.length-1;N_(n[e],this.supportsBinary,o=>{try{this.ws.send(o)}catch{}i&&U_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=hM()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}check(){return!!Eh}},webtransport:class _G extends B_{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const e=function tG(t,n){L_||(L_=new TextDecoder);const e=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(0===r){if(mh(e)<1)break;const u=_h(e,1);o=128==(128&u[0]),i=127&u[0],r=i<126?3:126===i?1:2}else if(1===r){if(mh(e)<2)break;const u=_h(e,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(2===r){if(mh(e)<8)break;const u=_h(e,8),h=new DataView(u.buffer,u.byteOffset,u.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(P_);break}i=f*Math.pow(2,32)+h.getUint32(4),r=3}else{if(mh(e)<i)break;const u=_h(e,i);a.enqueue(F_(o?u:L_.decode(u),n)),r=0}if(0===i||i>t){a.enqueue(P_);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=n.readable.pipeThrough(e).getReader(),i=function eG(){return new TransformStream({transform(t,n){!function qz(t,n){XD&&t.data instanceof Blob?t.data.arrayBuffer().then(nM).then(n):JD&&(t.data instanceof ArrayBuffer||eM(t.data))?n(nM(t.data)):N_(t,!1,e=>{x_||(x_=new TextEncoder),n(x_.encode(e))})}(t,e=>{const r=e.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(i[0]|=128),n.enqueue(i),n.enqueue(e)})}})}();i.readable.pipeTo(n.writable),this.writer=i.writable.getWriter();const o=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const i=e===n.length-1;this.writer.write(n[e]).then(()=>{i&&U_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;null===(n=this.transport)||void 0===n||n.close()}},polling:class pG extends B_{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||i!==n.port}this.supportsBinary=fG&&!(n&&n.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||e()})),this.writable||(r++,this.once("drain",function(){--r||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((t,n)=>{const e=t.split(iM),r=[];for(let i=0;i<e.length;i++){const o=F_(e[i],n);if(r.push(o),"error"===o.type)break}return r})(n,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};"open"===this.readyState?n():this.once("open",n)}write(n){this.writable=!1,((t,n)=>{const e=t.length,r=new Array(e);let i=0;t.forEach((o,s)=>{N_(o,!1,a=>{r[s]=a,++i===e&&n(r.join(iM))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=hM()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ch(this.uri(),n)}doWrite(n,e){const r=this.request({method:"POST",data:n});r.on("success",e),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,r)=>{this.onError("xhr poll error",e,r)}),this.pollXhr=n}}},vG=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,CG=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function V_(t){if(t.length>2e3)throw"URI too long";const n=t,e=t.indexOf("["),r=t.indexOf("]");-1!=e&&-1!=r&&(t=t.substring(0,e)+t.substring(e,r).replace(/:/g,";")+t.substring(r,t.length));let i=vG.exec(t||""),o={},s=14;for(;s--;)o[CG[s]]=i[s]||"";return-1!=e&&-1!=r&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function EG(t,n){const r=n.replace(/\/{2,9}/g,"/").split("/");return("/"==n.slice(0,1)||0===n.length)&&r.splice(0,1),"/"==n.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function bG(t,n){const e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(e[i]=o)}),e}(0,o.query),o}let _M=(()=>{class t extends Gt{constructor(e,r={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(r=e,e=null),e?(e=V_(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=V_(r.host).host),yh(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function lG(t){let n={},e=t.split("&");for(let r=0,i=e.length;r<i;r++){let o=e[r].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return n}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new yG[e](i)}open(){let e;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),i=!1;t.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",E=>{if(!i)if("pong"===E.type&&"probe"===E.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=r.name,this.emitReserved("upgradeError",T)}}))};function s(){i||(i=!0,m(),r.close(),r=null)}const a=E=>{const T=new Error("probe error: "+E);T.transport=r.name,s(),this.emitReserved("upgradeError",T)};function u(){a("transport closed")}function h(){a("socket closed")}function f(E){r&&E.name!==r.name&&s()}const m=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",u),this.off("close",h),this.off("upgrading",f)};r.once("open",o),r.once("error",a),r.once("close",u),this.once("close",h),this.once("upgrading",f),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=sG(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(e,r,i){return this.sendPacket("message",e,r,i),this}send(e,r,i){return this.sendPacket("message",e,r,i),this}sendPacket(e,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:e,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){t.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let i=0;const o=e.length;for(;i<o;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}return t.protocol=4,t})();const TG="function"==typeof ArrayBuffer,AG=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,yM=Object.prototype.toString,SG="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===yM.call(Blob),IG="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===yM.call(File);function j_(t){return TG&&(t instanceof ArrayBuffer||AG(t))||SG&&t instanceof Blob||IG&&t instanceof File}function bh(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,r=t.length;e<r;e++)if(bh(t[e]))return!0;return!1}if(j_(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return bh(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&bh(t[e]))return!0;return!1}function DG(t){const n=[],r=t;return r.data=$_(t.data,n),r.attachments=n.length,{packet:r,buffers:n}}function $_(t,n){if(!t)return t;if(j_(t)){const e={_placeholder:!0,num:n.length};return n.push(t),e}if(Array.isArray(t)){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=$_(t[r],n);return e}if("object"==typeof t&&!(t instanceof Date)){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=$_(t[r],n));return e}return t}function MG(t,n){return t.data=z_(t.data,n),delete t.attachments,t}function z_(t,n){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=z_(t[e],n);else if("object"==typeof t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=z_(t[e],n));return t}const RG=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],OG=5;var st=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(st||{});class kG{constructor(n){this.replacer=n}encode(n){return n.type!==st.EVENT&&n.type!==st.ACK||!bh(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===st.EVENT?st.BINARY_EVENT:st.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let e=""+n.type;return(n.type===st.BINARY_EVENT||n.type===st.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&"/"!==n.nsp&&(e+=n.nsp+","),null!=n.id&&(e+=n.id),null!=n.data&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){const e=DG(n),r=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(r),i}}function vM(t){return"[object Object]"===Object.prototype.toString.call(t)}class G_ extends Gt{constructor(n){super(),this.reviver=n}add(n){let e;if("string"==typeof n){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);const r=e.type===st.BINARY_EVENT;r||e.type===st.BINARY_ACK?(e.type=r?st.EVENT:st.ACK,this.reconstructor=new PG(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!j_(n)&&!n.base64)throw new Error("Unknown type: "+n);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(n){let e=0;const r={type:Number(n.charAt(0))};if(void 0===st[r.type])throw new Error("unknown packet type "+r.type);if(r.type===st.BINARY_EVENT||r.type===st.BINARY_ACK){const o=e+1;for(;"-"!==n.charAt(++e)&&e!=n.length;);const s=n.substring(o,e);if(s!=Number(s)||"-"!==n.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===n.charAt(e+1)){const o=e+1;for(;++e&&","!==n.charAt(e)&&e!==n.length;);r.nsp=n.substring(o,e)}else r.nsp="/";const i=n.charAt(e+1);if(""!==i&&Number(i)==i){const o=e+1;for(;++e;){const s=n.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===n.length)break}r.id=Number(n.substring(o,e+1))}if(n.charAt(++e)){const o=this.tryParse(n.substr(e));if(!G_.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case st.CONNECT:return vM(e);case st.DISCONNECT:return void 0===e;case st.CONNECT_ERROR:return"string"==typeof e||vM(e);case st.EVENT:case st.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===RG.indexOf(e[0]));case st.ACK:case st.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class PG{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const e=MG(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Sr(t,n,e){return t.on(n,e),function(){t.off(n,e)}}const NG=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CM extends Gt{constructor(n,e,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Sr(n,"open",this.onopen.bind(this)),Sr(n,"packet",this.onpacket.bind(this)),Sr(n,"error",this.onerror.bind(this)),Sr(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){if(NG.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const r={type:st.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const s=this.ids++,a=e.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(n,e){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[n]=e);const o=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),e.apply(this,a)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((r,i)=>{const o=(s,a)=>s?i(s):r(a);o.withError=!0,e.push(o),this.emit(n,...e)})}_addToQueue(n){let e;"function"==typeof n[n.length-1]&&(e=n.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((i,...o)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(i)):(this._queue.shift(),e&&e(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){"function"==typeof this.auth?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:st.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(r=>String(r.id)===n)){const r=this.acks[n];delete this.acks[n],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case st.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case st.EVENT:case st.BINARY_EVENT:this.onevent(n);break;case st.ACK:case st.BINARY_ACK:this.onack(n);break;case st.DISCONNECT:this.ondisconnect();break;case st.CONNECT_ERROR:this.destroy();const r=new Error(n.data.message);r.data=n.data.data,this.emitReserved("connect_error",r)}}onevent(n){const e=n.data||[];null!=n.id&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&"string"==typeof n[n.length-1]&&(this._lastOffset=n[n.length-1])}ack(n){const e=this;let r=!1;return function(...i){r||(r=!0,e.packet({type:st.ACK,id:n,data:i}))}}onack(n){const e=this.acks[n.id];"function"==typeof e&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:st.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(n===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(n===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const r of e)r.apply(this,n.data)}}}function ga(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ga.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*t);t=1&Math.floor(10*n)?t+e:t-e}return 0|Math.min(t,this.max)},ga.prototype.reset=function(){this.attempts=0},ga.prototype.setMin=function(t){this.ms=t},ga.prototype.setMax=function(t){this.max=t},ga.prototype.setJitter=function(t){this.jitter=t};class K_ extends Gt{constructor(n,e){var r;super(),this.nsps={},this.subs=[],n&&"object"==typeof n&&(e=n,n=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,yh(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=e.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new ga({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=n;const i=e.parser||v;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return void 0===n?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return void 0===n?this._reconnectionDelay:(this._reconnectionDelay=n,null===(e=this.backoff)||void 0===e||e.setMin(n),this)}randomizationFactor(n){var e;return void 0===n?this._randomizationFactor:(this._randomizationFactor=n,null===(e=this.backoff)||void 0===e||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return void 0===n?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,null===(e=this.backoff)||void 0===e||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new _M(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Sr(e,"open",function(){r.onopen(),n&&n()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},s=Sr(e,"error",o);if(!1!==this._timeout){const u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),e.close()},this._timeout);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Sr(n,"ping",this.onping.bind(this)),Sr(n,"data",this.ondata.bind(this)),Sr(n,"error",this.onerror.bind(this)),Sr(n,"close",this.onclose.bind(this)),Sr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){U_(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let r=this.nsps[n];return r?this._autoConnect&&!r.active&&r.connect():(r=new CM(this,n,e),this.nsps[n]=r),r}_destroy(n){const e=Object.keys(this.nsps);for(const r of e)if(this.nsps[r].active)return;this._close()}_packet(n){const e=this.encoder.encode(n);for(let r=0;r<e.length;r++)this.engine.write(e[r],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(i=>{i?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",i)):n.onreconnect()}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const cl={};function wh(t,n){"object"==typeof t&&(n=t,t=void 0);const e=function wG(t,n="",e){let r=t;e=e||typeof location<"u"&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(t=typeof e<"u"?e.protocol+"//"+t:"https://"+t),r=V_(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+n,r.href=r.protocol+"://"+o+(e&&e.port===r.port?"":":"+r.port),r}(t,(n=n||{}).path||"/socket.io"),r=e.source,i=e.id;let u;return n.forceNew||n["force new connection"]||!1===n.multiplex||cl[i]&&e.path in cl[i].nsps?u=new K_(r,n):(cl[i]||(cl[i]=new K_(r,n)),u=cl[i]),e.query&&!n.query&&(n.query=e.queryKey),u.socket(e.path,n)}Object.assign(wh,{Manager:K_,Socket:CM,io:wh,connect:wh});let Th=(()=>{class t{constructor(e){this.sanitizer=e,this.sorteoSource=new Ot(null),this.puntajeSource=new Ot(null),this.categoriesSource=new Ot([]),this.overstate=new Ot(null),this.top3=new Ot([]),this.sorteo$=this.sorteoSource.asObservable(),this.puntaje$=this.puntajeSource.asObservable(),this.top3$=this.top3.asObservable(),this.selectedCategories=[],this.NumPreguntas=0,this.numJugadores=0,this.salaId=0,this.nombre="",this.socket=wh("http://ec2-54-145-181-197.compute-1.amazonaws.com:4000"),this.initializeListeners(),this.listenForCategories()}setCategories(e){this.selectedCategories=e,this.salaId?this.socket.emit("setCategories",e):console.error("Attempted to set categories without a valid salaId")}initializeListeners(){this.socket.on("realizarSorteo",e=>{const r=e.sala.toString(),i=this.salaId.toString();e&&void 0!==e.numero&&r===i?this.sorteoSource.next(e.numero):console.error("Error: Datos del sorteo no recibidos correctamente.")}),this.socket.on("answerResult",e=>{this.puntajeSource.next([e.score,e.isCorrect])}),this.socket.on("top3",e=>{const r=e.roomId.toString(),i=this.salaId.toString();console.log(r==i,"data",r,"salaId",i),i==r&&this.top3.next(e.top3)}),this.socket.on("ConCupo",e=>{}),this.socket.on("GameOver",e=>{e==this.salaId&&(console.log("se supone que escucha"),this.overstate.next(e))})}setNombre(e){this.socket.emit("setNombre",e),this.nombre=e}getOverState(){return this.overstate.asObservable()}getNombre(){return this.nombre}setNumPreguntas(e){this.NumPreguntas=e}setNumJugadores(e){this.numJugadores=e}listenForCategories(){this.socket.on("categories",e=>{e?this.categoriesSource.next(e):console.error("Received undefined categories from server")})}reset(){this.socket.emit("resetSorteo",this.salaId)}getCategoriest(){return this.socket.emit("requestCategories"),this.socket.on("categories",e=>{this.selectedCategories=e}),this.selectedCategories}getCategories(){return this.socket.emit("requestCategories"),this.categoriesSource.asObservable()}getNumPreguntas(){return this.NumPreguntas}getNumJugadores(){return this.numJugadores}setSalaId(e){this.salaId=e}getSalaId(){return this.salaId}getOcupacion(){return new Se(e=>{this.socket.emit("ocupacion",this.salaId),this.socket.on("ocupancy",r=>{e.next(r),e.complete(),console.log("Datos de ocupaci\xf3n recibidos:",r)})})}setSalaBack(){this.socket.emit("joinRoom",[this.nombre,this.salaId,this.NumPreguntas,this.numJugadores])}iniciarSorteo(){this.socket.emit("iniciarSorteo",{roomId:this.salaId})}escucharSorteo(){this.socket.on("realizarSorteo",e=>{this.sorteoSource.next(e.ganador)})}escucharPuntaje(){this.socket.on("answerResult",e=>{e.isCorrect&&this.puntajeSource.next(e.score)})}validarRespuesta(e){this.socket.emit("answer",{roomId:this.salaId,answer:e});let r=!1;return this.socket.on("answerResult",i=>{r=!!i.isCorrect}),r}seleccionPregunta(e){return this.socket.emit("requestQuestions",e),new Se(r=>{this.socket.on("newQuestion",i=>{r.next(i),r.complete()})})}connectToGame(){this.socket.emit("iniciarSorteo",{roomId:this.salaId})}static#e=this.\u0275fac=function(r){return new(r||t)(U(Lm))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tt=w(8593),Bn=w(6097);class xG{static getInteractionStatusFromEvent(n,e){switch(n.eventType){case Bn.t.LOGIN_START:return tt.$H.Login;case Bn.t.SSO_SILENT_START:return tt.$H.SsoSilent;case Bn.t.ACQUIRE_TOKEN_START:if(n.interactionType===tt.s_.Redirect||n.interactionType===tt.s_.Popup)return tt.$H.AcquireToken;break;case Bn.t.HANDLE_REDIRECT_START:return tt.$H.HandleRedirect;case Bn.t.LOGOUT_START:return tt.$H.Logout;case Bn.t.SSO_SILENT_SUCCESS:case Bn.t.SSO_SILENT_FAILURE:if(e&&e!==tt.$H.SsoSilent)break;return tt.$H.None;case Bn.t.LOGOUT_END:if(e&&e!==tt.$H.Logout)break;return tt.$H.None;case Bn.t.HANDLE_REDIRECT_END:if(e&&e!==tt.$H.HandleRedirect)break;return tt.$H.None;case Bn.t.LOGIN_SUCCESS:case Bn.t.LOGIN_FAILURE:case Bn.t.ACQUIRE_TOKEN_SUCCESS:case Bn.t.ACQUIRE_TOKEN_FAILURE:case Bn.t.RESTORE_FROM_BFCACHE:if(n.interactionType===tt.s_.Redirect||n.interactionType===tt.s_.Popup){if(e&&e!==tt.$H.Login&&e!==tt.$H.AcquireToken)break;return tt.$H.None}}return null}}var EM=w(3325),W_=w(7581),FG=w(5291),bM=w(9092);const q_={now:()=>(q_.delegate||Date).now(),delegate:void 0};class LG extends je{constructor(n=1/0,e=1/0,r=q_){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=e.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const wM="@azure/msal-angular",Z_="3.0.17",Y_=new le("MSAL_INSTANCE"),TM=new le("MSAL_GUARD_CONFIG"),AM=new le("MSAL_INTERCEPTOR_CONFIG"),BG=new le("MSAL_BROADCAST_CONFIG");let Xi=(()=>{class t{constructor(e,r){this.instance=e,this.location=r;const i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(tt.lA.Angular,Z_)}initialize(){return lt(this.instance.initialize())}acquireTokenPopup(e){return lt(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return lt(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return lt(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return lt(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(e||this.redirectHash)))}loginPopup(e){return lt(this.instance.loginPopup(e))}loginRedirect(e){return lt(this.instance.loginRedirect(e))}logout(e){return lt(this.instance.logout(e))}logoutRedirect(e){return lt(this.instance.logoutRedirect(e))}logoutPopup(e){return lt(this.instance.logoutPopup(e))}ssoSilent(e){return lt(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(wM,Z_)),this.logger}setLogger(e){this.logger=e.clone(wM,Z_),this.instance.setLogger(e)}}return t.\u0275fac=function(e){return new(e||t)(U(Y_),U(Vi))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),Ah=(()=>{class t{constructor(e,r,i){this.msalInstance=e,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new LG(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new je,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Ot(tt.$H.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const s=xG.getInteractionStatusFromEvent(o,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return t.\u0275fac=function(e){return new(e||t)(U(Y_),U(Xi),U(BG,8))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),SM=(()=>{class t{constructor(e,r,i,o,s){this.msalGuardConfig=e,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${e}`}loginInteractively(e){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):{...this.msalGuardConfig.authRequest};if(this.msalGuardConfig.interactionType===tt.s_.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Ke(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(e.url);return this.authService.loginRedirect({redirectStartPage:i,...r}).pipe(Ke(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==tt.s_.Popup&&this.msalGuardConfig.interactionType!==tt.s_.Redirect)throw new EM.WK("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),Ae(!0);if(W_.G.hashContainsKnownProperties(window.location.hash)&&FG.zd()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),Ae(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.initialize().pipe(Ki(()=>this.authService.handleRedirectObservable()),Ki(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),Ae(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const i=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?Ae(this.parseUrl(this.location.path())):Ae(this.parseUrl(""))}return Ae(!0)}),vi(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),Ae(this.loginFailedRoute)):Ae(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(e,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return t.\u0275fac=function(e){return new(e||t)(U(TM),U(Ah),U(Xi),U(Vi),U(Jt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),UG=(()=>{class t{constructor(e,r,i,o,s){this.msalInterceptorConfig=e,this.authService=r,this.location=i,this.msalBroadcastService=o,this._document=s}intercept(e,r){if(this.msalInterceptorConfig.interactionType!==tt.s_.Popup&&this.msalInterceptorConfig.interactionType!==tt.s_.Redirect)throw new EM.WK("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const i=this.getScopesForEndpoint(e.url,e.method);if(!i||0===i.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),r.handle(e);let o;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),o=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),o=this.authService.instance.getAllAccounts()[0]);const s="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,e,{account:o}):{...this.msalInterceptorConfig.authRequest,account:o};return this.authService.getLogger().info(`Interceptor - ${i.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${i}] scopes found for ${e.url}`),this.acquireToken(s,i,o).pipe(en(a=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const u=e.headers.set("Authorization",`Bearer ${a.accessToken}`),h=e.clone({headers:u});return r.handle(h)}))}acquireToken(e,r,i){return this.authService.acquireTokenSilent({...e,scopes:r,account:i}).pipe(vi(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(_n(1),en(o=>o===tt.$H.None?this.acquireTokenInteractively(e,r):this.msalBroadcastService.inProgress$.pipe(tn(s=>s===tt.$H.None),_n(1),en(()=>this.acquireToken(e,r,i))))))),en(o=>o.accessToken?Ae(o):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(tn(s=>s===tt.$H.None),_n(1),en(()=>this.acquireTokenInteractively(e,r))))))}acquireTokenInteractively(e,r){if(this.msalInterceptorConfig.interactionType===tt.s_.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup({...e,scopes:r});this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const i=window.location.href;return this.authService.acquireTokenRedirect({...e,scopes:r,redirectStartPage:i}),Hn}getScopesForEndpoint(e,r){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const i=this.location.normalize(e),o=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),s=this.matchResourcesToEndpoint(o,i);return s.absoluteResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.absoluteResources,r):s.relativeResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.relativeResources,r):null}matchResourcesToEndpoint(e,r){const i={absoluteResources:[],relativeResources:[]};return e.forEach(o=>{const s=this.location.normalize(o);bM.x.matchPattern(s,r)&&i.absoluteResources.push(o);const a=this.getAbsoluteUrl(o),u=new W_.G(a).getUrlComponents(),h=this.getAbsoluteUrl(r),f=new W_.G(h).getUrlComponents(),m=u.QueryString?`${u.AbsolutePath}?${u.QueryString}`:this.location.normalize(u.AbsolutePath);u.HostNameAndPort===f.HostNameAndPort&&bM.x.matchPattern(m,h)&&""!==m&&"/*"!==m&&i.relativeResources.push(o)}),i}getAbsoluteUrl(e){const r=this._document.createElement("a");return r.href=e,r.href}matchScopesToEndpoint(e,r,i){const o=[];return r.forEach(s=>{const a=[],u=e.get(s);null!==u?(u.forEach(h=>{if("string"==typeof h)a.push(h);else{const f=i.toLowerCase();h.httpMethod.toLowerCase()===f&&(null===h.scopes?o.push(null):h.scopes.forEach(E=>{a.push(E)}))}}),a.length>0&&o.push(a)):o.push(null)}),o.length>0?(o.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),o[0]):null}}return t.\u0275fac=function(e){return new(e||t)(U(AM),U(Xi),U(Vi),U(Ah),U(Je))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),HG=(()=>{class t{static forRoot(e,r,i){return{ngModule:t,providers:[{provide:Y_,useValue:e},{provide:TM,useValue:r},{provide:AM,useValue:i},Xi]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=kt({type:t}),t.\u0275inj=Dt({providers:[SM,Ah],imports:[tS]}),t})();const IM='*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;padding:100px 0 0;background-image:linear-gradient(to top,#a42a2a,#a72a2a 20%,#ef0909 40%,#e80f33 50%,#ee0a38 70%,#be9e9e 90%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#E2D7D4",endColorstr="#6B77A1",GradientType=0);background-size:200% 200%;animation:movimiento 10s linear infinite alternate;box-sizing:border-box;background-repeat:no-repeat;background-attachment:fixed}.container[_ngcontent-%COMP%]{max-width:1170px;margin-left:auto;margin-right:auto;padding:10px}.divboton[_ngcontent-%COMP%]{text-align:center}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;padding-bottom:10px;color:#000}.box[_ngcontent-%COMP%]{box-shadow:0 0 20px #ffffff7a;background:white;border-radius:2vh}.box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:15px}.box-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{background-color:#000!important;border-color:#000!important}@media (min-width: 700px){body[_ngcontent-%COMP%]{padding:0 26em}@keyframes movimiento{0%{background-position:0 0}to{background-position:100% 100%}}.filter[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);background-color:#f3f3f3ab}.logo[_ngcontent-%COMP%]{display:block;margin:0 auto 20px;width:150px;height:auto}}.button_slide[_ngcontent-%COMP%]{color:#fff;border:2px solid rgb(224,40,20);border-radius:0;padding:18px 36px;display:inline-block;font-family:Lucida Console,Monaco,monospace;color:#000;font-size:14px;letter-spacing:1px;cursor:pointer;box-shadow:inset 0 0 #0325ff;transition:ease-out .4s}#outer[_ngcontent-%COMP%]{width:364px;margin:50px auto 0;text-align:center}.slide_diagonal[_ngcontent-%COMP%]:hover{box-shadow:inset 400px 50px #ffe605}';let DM=(()=>{class t{constructor(e,r,i,o){this.socketService=e,this.http=r,this.authService=i,this.router=o,this.password="",this.username="",this.isAutenticated=!1}ngOnInit(){this.initializeMsal(),this.checkAuthentication()}initializeMsal(){var e=this;return(0,Po.Z)(function*(){try{yield e.authService.instance.initialize()}catch{}})()}checkAuthentication(){const e=this.authService.instance.getAllAccounts()[0];e&&(this.authService.instance.setActiveAccount(e),this.isAutenticated=!0,this.router.navigate(["/inicio"]))}login(){this.authService.loginPopup({scopes:["user.read"],prompt:"select_account",redirectUri:"https://eciquestv3.azurewebsites.net",authority:"https://login.microsoftonline.com/46def668-48dd-404a-8d73-43fc6a155b04"}).subscribe({next:r=>{this.authService.instance.setActiveAccount(r.account),this.getUserDetails()},error:r=>{console.error("Login failed",r)}})}getUserDetails(){this.authService.acquireTokenSilent({scopes:["user.read"]}).subscribe({next:r=>{const i=r.accessToken;console.log("token",i),this.getmoredetails(i).subscribe({next:o=>{this.socketService.setNombre(o.displayName),this.router.navigate(["/inicio"])},error:o=>{console.error("Error fetching user details from Microsoft Graph:",o)}})},error:r=>{console.error("Failed to acquire token",r)}})}getmoredetails(e){const r=new Ar({Authorization:`Bearer ${e}`});return this.http.get("https://graph.microsoft.com/v1.0/me?$select=displayName,jobTitle,mail,department",{headers:r})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Th),Y(O_),Y(Xi),Y(Jt))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-login"]],decls:12,vars:0,consts:[["xmlns","http://www.w3c.org/1999/xhtml"],[1,"content"],["src","assets/images/Eci.png","alt","Logo",1,"logo"],[1,"box"],["id","queries_form","action","#","method","post"],[1,"divboton"],[1,"button_slide","slide_diagonal",3,"click"]],template:function(r,i){1&r&&(me(0,"html",0)(1,"head")(2,"title"),Me(3,"Login"),ge()(),me(4,"body")(5,"div",1),ht(6,"img",2),me(7,"div",3)(8,"form",4)(9,"div",5)(10,"button",6),et("click",function(){return i.login()}),Me(11,"Login"),ge()()()()()()())},dependencies:[Vc,xc,Do],styles:[IM,IM]})}return t})(),MM=(()=>{class t{constructor(e){this.router=e}redirectTosala(){this.router.navigate(["/UnirSala"])}redirectToPerfil(){this.router.navigate(["/perfil"])}redirectToCrearSala(){this.router.navigate(["/CrearSala"])}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Jt))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-inicio"]],decls:16,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"button",3,"click"]],template:function(r,i){1&r&&(me(0,"html",0)(1,"head"),ht(2,"meta",1)(3,"meta",2),me(4,"title"),Me(5,"Inicio"),ge()(),me(6,"body")(7,"div",3)(8,"button",4),et("click",function(){return i.redirectTosala()}),Me(9,"Unir Sala"),ge(),ht(10,"br"),me(11,"button",4),et("click",function(){return i.redirectToCrearSala()}),Me(12,"Crear Sala"),ge(),ht(13,"br"),me(14,"button",4),et("click",function(){return i.redirectToPerfil()}),Me(15,"Configurar Perfil"),ge()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;margin:0;background-image:url(logoEci.130cba83def2df1d.jpg)}.container[_ngcontent-%COMP%]{background:white;padding:40px;border-radius:12px;box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column;width:400px}.button[_ngcontent-%COMP%]{background-color:#ea161640;color:#000;border:none;border-radius:20px;padding:15px 30px;margin:10px 0;cursor:pointer;transition:background-color .3s}.button[_ngcontent-%COMP%]:hover{background-color:#e20c14}"]})}return t})(),RM=(()=>{class t{constructor(e,r){this.authService=e,this.router=r}canActivate(){const e=this.authService.instance.getAllAccounts()[0];return e?(console.log("account:",e),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Xi),U(Jt))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Q_=(()=>{class t{constructor(e,r){this.msalService=e,this.http=r,this.isAuthenticated=new Ot(!1)}checkAuthentication(){const e=this.msalService.instance.getAllAccounts()[0];this.isAuthenticated.next(!!e)}updateAuthenticationState(e){this.isAuthenticated.next(e),console.log(e)}get isAuthenticated$(){return this.isAuthenticated.asObservable()}logout(){const r=encodeURIComponent("https://eciquestv3.azurewebsites.net");window.location.href=`https://login.microsoftonline.com/common/oauth2/v2.0/logout?post_logout_redirect_uri=${r}`,localStorage.clear(),sessionStorage.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(Xi),U(O_))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VG=(()=>{class t{constructor(){this.avatarUrlSubject=new Ot(null),this.avatarUrl$=this.avatarUrlSubject.asObservable()}setAvatarUrl(e){this.avatarUrlSubject.next(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jG(t,n){if(1&t){const e=mg();me(0,"div")(1,"img",18),et("click",function(){const o=xf(e).$implicit;return Ff(vc().selectImage(o))}),ge()()}if(2&t){const e=n.$implicit;dt(1),_g("src",e,Ep)}}let OM=(()=>{class t{constructor(e,r){this.authService=e,this.userService=r,this.currentUser={username:"",email:"",password:"",bio:"",avatar:null},this.availableImages=["assets/images/batman.png","assets/images/jefe.jpg","assets/images/tortuga.png"]}ngOnInit(){}selectImage(e){this.currentUser.avatar=e}saveProfile(){}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Q_),Y(VG))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-perfil"]],decls:35,vars:5,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","/perfil.component.css"],[1,"container"],["id","profile-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["for","bio"],["id","bio","name","bio","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"image-list"],[4,"ngFor","ngForOf"],["type","submit"],[1,"avatar-image",3,"src","click"]],template:function(r,i){1&r&&(me(0,"html",0)(1,"head"),ht(2,"meta",1)(3,"meta",2),me(4,"title"),Me(5,"Configurar Perfil"),ge(),ht(6,"link",3),ge(),me(7,"body")(8,"div",4)(9,"h1"),Me(10,"Configurar Perfil"),ge(),me(11,"form",5),et("ngSubmit",function(){return i.saveProfile()}),me(12,"div",6)(13,"label",7),Me(14,"Nombre de usuario:"),ge(),me(15,"input",8),et("ngModelChange",function(s){return i.currentUser.username=s}),ge()(),me(16,"div",6)(17,"label",9),Me(18,"Correo electr\xf3nico:"),ge(),me(19,"input",10),et("ngModelChange",function(s){return i.currentUser.email=s}),ge()(),me(20,"div",6)(21,"label",11),Me(22,"Contrase\xf1a:"),ge(),me(23,"input",12),et("ngModelChange",function(s){return i.currentUser.password=s}),ge()(),me(24,"div",6)(25,"label",13),Me(26,"Biograf\xeda:"),ge(),me(27,"textarea",14),et("ngModelChange",function(s){return i.currentUser.bio=s}),ge()(),me(28,"div",6)(29,"label"),Me(30,"Seleccionar Avatar:"),ge(),me(31,"div",15),Co(32,jG,2,1,"div",16),ge()(),me(33,"button",17),Me(34,"Guardar Cambios"),ge()()()()()),2&r&&(dt(15),ln("ngModel",i.currentUser.username),dt(4),ln("ngModel",i.currentUser.email),dt(4),ln("ngModel",i.currentUser.password),dt(4),ln("ngModel",i.currentUser.bio),dt(5),ln("ngForOf",i.availableImages))},dependencies:[Sd,Vc,ea,kd,xc,Vd,Hc,Do],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;padding:100px 0 0;background-image:linear-gradient(to top,#a42a2a,#a72a2a 20%,#ef0909 40%,#e80f33 50%,#ee0a38 70%,#be9e9e 90%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#E2D7D4",endColorstr="#6B77A1",GradientType=0);background-size:200% 200%;animation:movimiento 10s linear infinite alternate;box-sizing:border-box;background-repeat:no-repeat;background-attachment:fixed}.container[_ngcontent-%COMP%]{max-width:1170px;margin-left:auto;margin-right:auto;padding:10px}.divboton[_ngcontent-%COMP%]{text-align:center}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;padding-bottom:10px;color:#000}.box[_ngcontent-%COMP%]{box-shadow:0 0 20px #ffffff7a;background:white;border-radius:2vh}.box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:15px}.box-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{background-color:#000!important;border-color:#000!important}@media (min-width: 700px){body[_ngcontent-%COMP%]{padding:0 26em}@keyframes movimiento{0%{background-position:0 0}to{background-position:100% 100%}}.filter[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);background-color:#f3f3f3ab}.logo[_ngcontent-%COMP%]{display:block;margin:0 auto 20px;width:150px;height:auto}.avatar-image[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px;cursor:pointer}.image-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}}']})}return t})();const $G=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:DM},{path:"inicio",component:MM,canActivate:[RM]},{path:"perfil",component:OM,canActivate:[RM]}];let zG=(()=>{class t{constructor(e,r){this.router=e,this.authService=r}static#e=this.\u0275fac=function(r){return new(r||t)(U(Jt),U(Q_))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[I_.forRoot($G),I_]})}return t})(),GG=(()=>{class t{constructor(e){this.authService=e}unloadNotification(e){this.authService.logout()}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Q_))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-root"]],hostBindings:function(r,i){1&r&&et("beforeunload",function(s){return i.unloadNotification(s)},0,LE)},decls:1,vars:0,template:function(r,i){1&r&&ht(0,"router-outlet")},dependencies:[__]})}return t})();var xo=w(4630),KG=w(7803),kM=w(7580);class X_{static loggerCallback(n,e){switch(n){case xo.i.Error:return void console.error(e);case xo.i.Info:return void console.info(e);case xo.i.Verbose:return void console.debug(e);case xo.i.Warning:return void console.warn(e);default:return void console.log(e)}}constructor(n){let e;this.browserEnvironment=typeof window<"u",this.config=(0,KG._7)(n,this.browserEnvironment);try{e=window[tt.Ix.SessionStorage]}catch{}const r=e?.getItem(tt.bg),i=e?.getItem(tt.PK)?.toLowerCase(),o="true"===i||"false"!==i&&void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(xo.i).includes(r)?xo.i[r]:void 0;a&&(s.loggerCallback=X_.loggerCallback,s.logLevel=a),void 0!==o&&(s.piiLoggingEnabled=o),this.logger=new xo.Y(s,kM.u,kM.i),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}let PM=(()=>{class t extends X_{getModuleName(){return t.MODULE_NAME}getId(){return t.ID}initialize(){var e=this;return(0,Po.Z)(function*(){return e.available=typeof window<"u",e.available})()}}return t.MODULE_NAME="",t.ID="StandardOperatingContext",t})();function J_(){return(J_=(0,Po.Z)(function*(t){const n=new PM(t);return yield n.initialize(),(yield Promise.resolve().then(w.bind(w,8913))).StandardController.createController(n)})).apply(this,arguments)}var qG=w(8913);class ty{static createPublicClientApplication(n){return(0,Po.Z)(function*(){const e=yield function WG(t){return J_.apply(this,arguments)}(n);return new ty(n,e)})()}constructor(n,e){if(e)this.controller=e;else{const r=new PM(n);this.controller=new qG.StandardController(r)}}initialize(){var n=this;return(0,Po.Z)(function*(){return n.controller.initialize()})()}acquireTokenPopup(n){var e=this;return(0,Po.Z)(function*(){return e.controller.acquireTokenPopup(n)})()}acquireTokenRedirect(n){return this.controller.acquireTokenRedirect(n)}acquireTokenSilent(n){return this.controller.acquireTokenSilent(n)}acquireTokenByCode(n){return this.controller.acquireTokenByCode(n)}addEventCallback(n){return this.controller.addEventCallback(n)}removeEventCallback(n){return this.controller.removeEventCallback(n)}addPerformanceCallback(n){return this.controller.addPerformanceCallback(n)}removePerformanceCallback(n){return this.controller.removePerformanceCallback(n)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(n){return this.controller.getAccount(n)}getAccountByHomeId(n){return this.controller.getAccountByHomeId(n)}getAccountByLocalId(n){return this.controller.getAccountByLocalId(n)}getAccountByUsername(n){return this.controller.getAccountByUsername(n)}getAllAccounts(n){return this.controller.getAllAccounts(n)}handleRedirectPromise(n){return this.controller.handleRedirectPromise(n)}loginPopup(n){return this.controller.loginPopup(n)}loginRedirect(n){return this.controller.loginRedirect(n)}logout(n){return this.controller.logout(n)}logoutRedirect(n){return this.controller.logoutRedirect(n)}logoutPopup(n){return this.controller.logoutPopup(n)}ssoSilent(n){return this.controller.ssoSilent(n)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(n){this.controller.setLogger(n)}setActiveAccount(n){this.controller.setActiveAccount(n)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(n,e){return this.controller.initializeWrapperLibrary(n,e)}setNavigationClient(n){this.controller.setNavigationClient(n)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(n,e){var r=this;return(0,Po.Z)(function*(){return r.controller.hydrateCache(n,e)})()}clearCache(n){return this.controller.clearCache(n)}}const NM='*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;padding:100px 0 0;background-image:linear-gradient(to top,#a42a2a,#a72a2a 20%,#ef0909 40%,#e80f33 50%,#ee0a38 70%,#be9e9e 90%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#E2D7D4",endColorstr="#6B77A1",GradientType=0);background-size:200% 200%;animation:movimiento 10s linear infinite alternate;box-sizing:border-box;background-repeat:no-repeat;background-attachment:fixed}.container[_ngcontent-%COMP%]{max-width:1170px;margin-left:auto;margin-right:auto;padding:10px}.divboton[_ngcontent-%COMP%]{text-align:center}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;padding-bottom:10px;color:#000}.box[_ngcontent-%COMP%]{box-shadow:0 0 20px #ffffff7a;background:white;border-radius:2vh}.box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:15px}.box-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{background-color:#000!important;border-color:#000!important}@media (min-width: 700px){body[_ngcontent-%COMP%]{padding:0 26em}@keyframes movimiento{0%{background-position:0 0}to{background-position:100% 100%}}.filter[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);background-color:#f3f3f3ab}.logo[_ngcontent-%COMP%]{display:block;margin:0 auto 20px;width:150px;height:auto}}';let ZG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=On({type:t,selectors:[["app-new-eci-quest"]],decls:51,vars:0,consts:[["href","https://fonts.googleapis.com/css?family=Raleway","rel","stylesheet"],["onload","setBGColor()"],["id","title"],[1,"form-field"],["id","quizTitle"],["id","name","type","text","name","name","autofocus",""],["id","allQuestions"],["id","question-field"],["id","q1","type","text","autofocus","",1,"question"],["id","1a1","type","text","autofocus",""],["id","1a2","type","text","autofocus",""],["id","1a3","type","text","autofocus",""],["id","1a4","type","text","autofocus",""],["id","correct1","type","number","autofocus","",1,"correct"],["onclick","addQuestion()"],["onclick","updateDatabase()"],["onclick","cancelQuiz()"]],template:function(r,i){1&r&&(me(0,"html")(1,"head")(2,"title"),Me(3,"Creator | EciQuestClone"),ge(),ht(4,"link",0),ge(),me(5,"body",1)(6,"h1",2),Me(7,"Crear ECIQuest "),ge(),me(8,"div",3)(9,"label",4),Me(10,"ECIQuest Title"),ge(),ht(11,"input",5),ge(),ht(12,"br")(13,"br"),me(14,"div",6)(15,"div",7)(16,"label"),Me(17,"Question 1: "),ge(),ht(18,"input",8)(19,"br")(20,"br"),me(21,"label"),Me(22,"Answer 1: "),ge(),ht(23,"input",9),me(24,"label"),Me(25,"Answer 2: "),ge(),ht(26,"input",10)(27,"br")(28,"br"),me(29,"label"),Me(30,"Answer 3: "),ge(),ht(31,"input",11),me(32,"label"),Me(33,"Answer 4: "),ge(),ht(34,"input",12)(35,"br")(36,"br"),me(37,"label"),Me(38,"Correct Answer (1-4) :"),ge(),ht(39,"input",13),ge()(),ht(40,"br"),me(41,"button",14),Me(42,"Add another question"),ge(),ht(43,"br")(44,"br"),me(45,"div",3)(46,"button",15),Me(47,"Create Quiz"),ge()(),ht(48,"br"),me(49,"button",16),Me(50,"Cancel quiz and return to quiz selection"),ge()()())},styles:[NM,NM]})}return t})();class YG extends O{constructor(n,e){super()}schedule(n,e=0){return this}}const Sh={setInterval(t,n,...e){const{delegate:r}=Sh;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Sh;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class ny extends YG{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Sh.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Sh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,L(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}class ll{constructor(n,e=ll.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}ll.now=q_.now;class ry extends ll{constructor(n,e=ll.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const Ih=new ry(ny),QG=Ih;function xM(t=0,n,e=QG){let r=-1;return null!=n&&(Qo(n)?e=n:r=n),new Se(i=>{let o=function XG(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function FM(t,n=0){return function e3(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function Dh(t){return Array.isArray(t)?t:[t]}function Kt(t){return null==t?"":"string"==typeof t?t:`${t}px`}function ma(t){return t instanceof Qt?t.nativeElement:t}const t3=["addListener","removeListener"],n3=["addEventListener","removeEventListener"],r3=["on","off"];function iy(t,n,e,r){if(g(e)&&(r=e,e=void 0),r)return iy(t,n,e).pipe(Bm(r));const[i,o]=function a3(t){return g(t.addEventListener)&&g(t.removeEventListener)}(t)?n3.map(s=>a=>t[s](n,a,e)):function o3(t){return g(t.addListener)&&g(t.removeListener)}(t)?t3.map(LM(t,n)):function s3(t){return g(t.on)&&g(t.off)}(t)?r3.map(LM(t,n)):[];if(!i&&Ko(t))return jt(s=>iy(s,n,e))(Zt(t));if(!i)throw new TypeError("Invalid event target");return new Se(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function LM(t,n){return e=>r=>t[e](n,r)}const ul={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ul;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(o=>{e=void 0,t(o)});return new O(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=ul;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=ul;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class l3 extends ry{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class c3 extends ny{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=ul.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(ul.cancelAnimationFrame(e),n._scheduled=void 0)}});let oy,d3=1;const Mh={};function BM(t){return t in Mh&&(delete Mh[t],!0)}const h3={setImmediate(t){const n=d3++;return Mh[n]=!0,oy||(oy=Promise.resolve()),oy.then(()=>BM(n)&&t()),n},clearImmediate(t){BM(t)}},{setImmediate:f3,clearImmediate:p3}=h3,Rh={setImmediate(...t){const{delegate:n}=Rh;return(n?.setImmediate||f3)(...t)},clearImmediate(t){const{delegate:n}=Rh;return(n?.clearImmediate||p3)(t)},delegate:void 0};new class m3 extends ry{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class g3 extends ny{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Rh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Rh.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function UM(t,n=Ih){return function y3(t){return rt((n,e)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const h=i;i=null,e.next(h)}s&&e.complete()},u=()=>{o=null,s&&e.complete()};n.subscribe(ze(e,h=>{r=!0,i=h,o||Zt(t(h)).subscribe(o=ze(e,a,u))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>xM(t,n))}let sy;try{sy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sy=!1}let dl,Fo,ay,Yr=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function KH(t){return t===nS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(U(Fi))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oh(t){return function v3(){if(null==dl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dl=!0}))}finally{dl=dl||!1}return dl}()?t:!!t.capture}function C3(){if(null==Fo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fo=!1,Fo;if("scrollBehavior"in document.documentElement.style)Fo=!0;else{const t=Element.prototype.scrollTo;Fo=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Fo}function cy(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Ji(t){return t.composedPath?t.composedPath()[0]:t.target}function ly(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const w3=new le("cdk-dir-doc",{providedIn:"root",factory:function T3(){return ve(Je)}}),A3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let uy=(()=>{class t{constructor(e){this.value="ltr",this.change=new It,e&&(this.value=function S3(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?A3.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(U(w3,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})(),D3=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new je,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Se(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(UM(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(tn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=ma(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(U(qe),U(Yr),U(Je,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VM=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new je,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(U(Yr),U(qe),U(Je,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})(),$M=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[hl,jM,hl,jM]})}return t})();class dy{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class hy extends dy{constructor(n,e,r,i,o){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class zM extends dy{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class R3 extends dy{constructor(n){super(),this.element=n instanceof Qt?n.nativeElement:n}}class fy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof hy?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof zM?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof R3?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class O3 extends fy{constructor(n,e,r,i,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");a.parentNode.insertBefore(u,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=o}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||$t.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let py=(()=>{class t extends fy{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new It,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=r.createComponent(o,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Ps),Y(ar),Y(Je))};static#t=this.\u0275dir=Be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[at]})}return t})(),Ph=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({})}return t})();const GM=C3();class k3{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Kt(-this._previousScrollPosition.left),n.style.top=Kt(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),GM&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GM&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class P3{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(tn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KM{enable(){}disable(){}attach(){}}function gy(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function WM(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class N3{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();gy(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x3=(()=>{class t{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new KM,this.close=s=>new P3(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new k3(this._viewportRuler,this._document),this.reposition=s=>new N3(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(r){return new(r||t)(U(D3),U(VM),U(qe),U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qM{constructor(n){if(this.scrollStrategy=new KM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class F3{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let ZM=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),L3=(()=>{class t extends ZM{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(qe,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),B3=(()=>{class t extends ZM{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ji(o)},this._clickListener=o=>{const s=Ji(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let h=u.length-1;h>-1;h--){const f=u[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(s)||f.overlayElement.contains(a))break;const m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(Yr),U(qe,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nh=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ly()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),ly()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(Yr))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fl{constructor(n,e,r,i,o,s,a,u,h,f=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new je,this._attachments=new je,this._detachments=new je,this._locationChanges=O.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new je,this._outsidePointerEvents=new je,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_n(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Kt(this._config.width),n.height=Kt(this._config.height),n.minWidth=Kt(this._config.minWidth),n.minHeight=Kt(this._config.minHeight),n.maxWidth=Kt(this._config.maxWidth),n.maxHeight=Kt(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=Dh(e||[]).filter(o=>!!o);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(qd(ts(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const YM="cdk-overlay-connected-position-bounding-box",U3=/([A-Za-z%]+)$/;class H3{get positions(){return this._preferredPositions}constructor(n,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new je,this._resizeSubscription=O.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(YM),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(n,i,a),h=this._getOverlayPoint(u,e,a),f=this._getOverlayFit(h,e,r,a);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(f,h,r)?o.push({position:a,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:h,originPoint:u,position:a,overlayRect:e})}if(o.length){let a=null,u=-1;for(const h of o){const f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>u&&(u=f,a=h)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(YM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,o;if("center"==r.originX)i=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;i="start"==r.originX?s:a}return e.left<0&&(i-=e.left),o="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(n,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+o}}_getOverlayFit(n,e,r,i){const o=XM(e);let{x:s,y:a}=n,u=this._getOffset(i,"x"),h=this._getOffset(i,"y");u&&(s+=u),h&&(a+=h);let E=0-a,T=a+o.height-r.height,R=this._subtractOverflows(o.width,0-s,s+o.width-r.width),k=this._subtractOverflows(o.height,E,T),j=R*k;return{visibleArea:j,isCompletelyWithinViewport:o.width*o.height===j,fitsInViewportVertically:k===o.height,fitsInViewportHorizontally:R==o.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,s=QM(this._overlayRef.getConfig().minHeight),a=QM(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=i)&&(n.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=XM(e),o=this._viewportRect,s=Math.max(n.x+i.width-o.width,0),a=Math.max(n.y+i.height-o.height,0),u=Math.max(o.top-r.top-n.y,0),h=Math.max(o.left-r.left-n.x,0);let f=0,m=0;return f=i.width<=o.width?h||-s:n.x<this._viewportMargin?o.left-r.left-n.x:0,m=i.height<=o.height?u||-a:n.y<this._viewportMargin?o.top-r.top-n.y:0,this._previousPushAmount={x:f,y:m},{x:n.x+f,y:n.y+m}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new F3(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let o,s,a,f,m,E;if("top"===e.overlayY)s=n.y,o=r.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=r.height-n.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const T=Math.min(r.bottom-n.y+r.top,n.y),R=this._lastBoundingBoxSize.height;o=2*T,s=n.y-T,o>R&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-R/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)E=r.width-n.x+this._viewportMargin,f=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)m=n.x,f=r.right-n.x;else{const T=Math.min(r.right-n.x+r.left,n.x),R=this._lastBoundingBoxSize.width;f=2*T,m=n.x-T,f>R&&!this._isInitialRender&&!this._growAfterOpen&&(m=n.x-R/2)}return{top:s,left:m,bottom:a,right:E,width:f,height:o}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Kt(r.height),i.top=Kt(r.top),i.bottom=Kt(r.bottom),i.width=Kt(r.width),i.left=Kt(r.left),i.right=Kt(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Kt(o)),s&&(i.maxWidth=Kt(s))}this._lastBoundingBoxSize=r,Lo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Lo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const f=this._viewportRuler.getViewportScrollPosition();Lo(r,this._getExactOverlayY(e,n,f)),Lo(r,this._getExactOverlayX(e,n,f))}else r.position="static";let a="",u=this._getOffset(e,"x"),h=this._getOffset(e,"y");u&&(a+=`translateX(${u}px) `),h&&(a+=`translateY(${h}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Kt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Kt(s.maxWidth):o&&(r.maxWidth="")),Lo(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Kt(o.y),i}_getExactOverlayX(n,e,r){let s,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Kt(o.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WM(n,r),isOriginOutsideView:gy(n,r),isOverlayClipped:WM(e,r),isOverlayOutsideView:gy(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Dh(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Qt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function Lo(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function QM(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(U3);return e&&"px"!==e?null:parseFloat(n)}return t||null}function XM(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const JM="cdk-global-overlay-wrapper";class V3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(JM),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),h=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),f=this._xPosition,m=this._xOffset,E="rtl"===this._overlayRef.getConfig().direction;let T="",R="",k="";u?k="flex-start":"center"===f?(k="center",E?R=m:T=m):E?"left"===f||"end"===f?(k="flex-end",T=m):("right"===f||"start"===f)&&(k="flex-start",R=m):"left"===f||"start"===f?(k="flex-start",T=m):("right"===f||"end"===f)&&(k="flex-end",R=m),n.position=this._cssPosition,n.marginLeft=u?"0":T,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=u?"0":R,e.justifyContent=k,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(JM),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let j3=(()=>{class t{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new V3}flexibleConnectedTo(e){return new H3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(U(VM),U(Je),U(Yr),U(Nh))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$3=0,ya=(()=>{class t{constructor(e,r,i,o,s,a,u,h,f,m,E,T){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=u,this._document=h,this._directionality=f,this._location=m,this._outsideClickDispatcher=E,this._animationsModuleType=T}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new qM(e);return s.direction=s.direction||this._directionality.value,new fl(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+$3++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ui)),new O3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(U(x3),U(Nh),U(Ps),U(j3),U(L3),U($t),U(qe),U(Je),U(uy),U(Vi),U(B3),U(oc,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const K3={provide:new le("cdk-connected-overlay-scroll-strategy"),deps:[ya],useFactory:function G3(t){return()=>t.scrollStrategies.reposition()}};let e0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[ya,K3],imports:[hl,Ph,$M,$M]})}return t})();function n0(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function r0(t){return tn((n,e)=>t<=e)}let X3=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[X3]})}return t})();const o0=new Set;let Bo,tK=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rK}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function nK(t,n){if(!o0.has(t))try{Bo||(Bo=document.createElement("style"),n&&(Bo.nonce=n),Bo.setAttribute("type","text/css"),document.head.appendChild(Bo)),Bo.sheet&&(Bo.sheet.insertRule(`@media ${t} {body{ }}`,0),o0.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Yr),U(Rp,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rK(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let iK=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return s0(Dh(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=jd(s0(Dh(e)).map(s=>this._registerQuery(s).observable));return o=zd(o.pipe(_n(1)),o.pipe(r0(1),function eK(t,n=Ih){return rt((e,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const h=o;o=null,r.next(h)}};function u(){const h=s+t,f=n.now();if(f<h)return i=this.schedule(void 0,h-f),void r.add(i);a()}e.subscribe(ze(r,h=>{o=h,s=n.now(),i||(i=n.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Ke(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:h})=>{a.matches=a.matches||u,a.breakpoints[h]=u}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Se(s=>{const a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Kd(r),Ke(({matches:s})=>({query:e,matches:s})),qd(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(r){return new(r||t)(U(tK),U(qe))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s0(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}let xh=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function cK(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function aK(t){try{return t.frameElement}catch{return null}}(function mK(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(r&&(-1===u0(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),o=u0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function pK(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function gK(t){return!function uK(t){return function hK(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function lK(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function dK(t){return function fK(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||l0(t))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(r){return new(r||t)(U(Yr))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function l0(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function u0(t){if(!l0(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class _K{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,r,i,o=!1){this._element=n,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(n),!!r}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(_n(1)).subscribe(n)}}let my=(()=>{class t{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new _K(e,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(xh),U(qe),U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d0(t){return 0===t.buttons||0===t.detail}function h0(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const yK=new le("cdk-input-modality-detector-options"),vK={ignoreKeys:[18,17,224,91,16]},va=Oh({passive:!0,capture:!0});let CK=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Ot(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ji(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(d0(s)?"keyboard":"mouse"),this._mostRecentTarget=Ji(s))},this._onTouchstart=s=>{h0(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ji(s))},this._options={...vK,...o},this.modalityDetected=this._modality.pipe(r0(1)),this.modalityChanged=this.modalityDetected.pipe(Bl()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,va),i.addEventListener("mousedown",this._onMousedown,va),i.addEventListener("touchstart",this._onTouchstart,va)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,va),document.removeEventListener("mousedown",this._onMousedown,va),document.removeEventListener("touchstart",this._onTouchstart,va))}static#e=this.\u0275fac=function(r){return new(r||t)(U(Yr),U(qe),U(Je),U(yK,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bK=new le("cdk-focus-monitor-default-options"),Fh=Oh({passive:!0,capture:!0});let _y=(()=>{class t{constructor(e,r,i,o,s){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new je,this._rootNodeFocusAndBlurListener=a=>{for(let h=Ji(a);h;h=h.parentElement)"focus"===a.type?this._onFocus(a,h):this._onBlur(a,h)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,r=!1){const i=ma(e);if(!this._platform.isBrowser||1!==i.nodeType)return Ae();const o=function b3(t){if(function E3(){if(null==ay){const t=typeof document<"u"?document.head:null;ay=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ay}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new je,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const r=ma(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=ma(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Ji(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Fh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Fh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qd(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||t)(U(qe),U(Yr),U(CK),U(Je,8),U(bK,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const p0="cdk-high-contrast-black-on-white",g0="cdk-high-contrast-white-on-black",yy="cdk-high-contrast-active";let m0=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=ve(iK).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yy,p0,g0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(yy,p0):2===r&&e.add(yy,g0)}}static#e=this.\u0275fac=function(r){return new(r||t)(U(Yr),U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wK=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||t)(U(m0))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[J3]})}return t})();function TK(t,n){}class Lh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let _0=(()=>{class t extends fy{constructor(e,r,i,o,s,a,u,h){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=u,this._focusMonitor=h,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=f=>{this._portalOutlet.hasAttached();const m=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),m},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=cy(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=cy();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=cy())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Qt),Y(my),Y(Je,8),Y(Lh),Y(xh),Y(qe),Y(fl),Y(_y))};static#t=this.\u0275cmp=On({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&Vg(py,7),2&r){let o;id(o=od())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&sr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[at],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Co(0,TK,0,0,"ng-template",0)},dependencies:[py],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})();class vy{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new je,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!n0(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(n),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const y0=new le("DialogScrollStrategy"),AK=new le("DialogData"),SK=new le("DefaultDialogConfig"),DK={provide:y0,deps:[ya],useFactory:function IK(t){return()=>t.scrollStrategies.block()}};let MK=0,v0=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,i,o,s,a){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new je,this._afterOpenedAtThisLevel=new je,this._ariaHiddenElements=new Map,this.afterAllClosed=Gd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kd(void 0))),this._scrollStrategy=a}open(e,r){(r={...this._defaultOptions||new Lh,...r}).id=r.id||"cdk-dialog-"+MK++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new vy(s,r),u=this._attachContainer(s,a,r);return a.containerInstance=u,this._attachDialogContent(e,a,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Cy(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){Cy(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Cy(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new qM({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const o=i.injector||i.viewContainerRef?.injector,s=[{provide:Lh,useValue:i},{provide:vy,useValue:r},{provide:fl,useValue:e}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=_0;const u=new hy(a,i.viewContainerRef,$t.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,r,i,o){if(e instanceof zr){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new zM(e,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new hy(e,o.viewContainerRef,s,o.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(e,r,i,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:AK,useValue:e.data},{provide:vy,useValue:r}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(r,e,i)):a.push(...e.providers)),e.direction&&(!s||!s.get(uy,null,{optional:!0}))&&a.push({provide:uy,useValue:{value:e.direction,change:Ae()}}),$t.create({parent:s||o,providers:a})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||t)(U(ya),U($t),U(SK,8),U(t,12),U(Nh),U(y0))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();function Cy(t,n){let e=t.length;for(;e--;)n(t[e])}let RK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[v0,DK],imports:[e0,Ph,wK,Ph]})}return t})();const kK=new le("mat-sanity-checks",{providedIn:"root",factory:function OK(){return!0}});let b0=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ly()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||t)(U(m0),U(kK,8),U(Je))};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({imports:[hl,hl]})}return t})();const w0=Oh({passive:!0,capture:!0});class xK{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=Ji(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,r,i){const o=this._events.get(e);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,w0)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,w0)))}}class Ey{static#e=this._eventManager=new xK;constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ma(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...T0,...r.animation},s=r.radius||function LK(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),a=n-i.left,u=e-i.top,h=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-s+"px",f.style.top=u-s+"px",f.style.height=2*s+"px",f.style.width=2*s+"px",null!=r.color&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);const m=window.getComputedStyle(f),T=m.transitionDuration,R="none"===m.transitionProperty||"0s"===T||"0s, 0s"===T||0===i.width&&0===i.height,k=new NK(this,f,r,R);f.style.transform="scale3d(1, 1, 1)",k.state=0,r.persistent||(this._mostRecentTransientRipple=k);return!R&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const te=()=>this._finishRippleTransition(k),$=()=>this._destroyRipple(k);f.addEventListener("transitionend",te),f.addEventListener("transitioncancel",$)}),this._activeRipples.set(k,null),(R||!h)&&this._finishRippleTransition(k),k}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...T0,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=ma(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,S0.forEach(r=>{Ey._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{I0.forEach(e=>{this._triggerElement.addEventListener(e,this,A0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=d0(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!h0(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(S0.forEach(e=>Ey._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&I0.forEach(e=>n.removeEventListener(e,this,A0)))}}class D0{}class BK{}const bi="*";function O0(t,n=null){return{type:2,steps:t,options:n}}function Ca(t){return{type:6,styles:t,offset:null}}class gl{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class F0{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function HK(t,n){}class Bh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wy="mdc-dialog--open",L0="mdc-dialog--opening",B0="mdc-dialog--closing";let $K=(()=>{class t extends _0{constructor(e,r,i,o,s,a,u,h){super(e,r,i,o,s,a,u,h),this._animationStateChanged=new It}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Qt),Y(my),Y(Je,8),Y(Bh),Y(xh),Y(qe),Y(fl),Y(_y))};static#t=this.\u0275cmp=On({type:t,selectors:[["ng-component"]],features:[at],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();const U0="--mat-dialog-transition-duration";function H0(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?FM(t.substring(0,t.length-2)):t.endsWith("s")?1e3*FM(t.substring(0,t.length-1)):"0"===t?0:null}let zK=(()=>{class t extends $K{constructor(e,r,i,o,s,a,u,h,f){super(e,r,i,o,s,a,u,f),this._animationMode=h,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?H0(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?H0(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(U0,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(L0,wy)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(wy),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(wy),this._animationsEnabled?(this._hostElement.style.setProperty(U0,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(B0)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(L0,B0)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Qt),Y(my),Y(Je,8),Y(Bh),Y(xh),Y(qe),Y(fl),Y(oc,8),Y(_y))};static#t=this.\u0275cmp=On({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,i){2&r&&(wg("id",i._config.id),sr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),gi("_mat-animation-noopable",!i._animationsEnabled))},features:[at],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(me(0,"div",0)(1,"div",1),Co(2,HK,0,0,"ng-template",2),ge()())},dependencies:[py],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return t})();class V0{constructor(n,e,r){this._ref=n,this._containerInstance=r,this._afterOpened=new je,this._beforeClosed=new je,this._state=0,this.disableClose=e.disableClose,this.id=n.id,r._animationStateChanged.pipe(tn(i=>"opened"===i.state),_n(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(tn(i=>"closed"===i.state),_n(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ts(this.backdropClick(),this.keydownEvents().pipe(tn(i=>27===i.keyCode&&!this.disableClose&&!n0(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function GK(t,n,e){t._closeInteractionType=n,t.close(e)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(tn(e=>"closing"===e.state),_n(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const KK=new le("MatMdcDialogData"),WK=new le("mat-mdc-dialog-default-options"),j0=new le("mat-mdc-dialog-scroll-strategy"),ZK={provide:j0,deps:[ya],useFactory:function qK(t){return()=>t.scrollStrategies.block()}};let YK=0,QK=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,i,o,s,a,u,h,f,m){this._overlay=e,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=u,this._dialogContainerType=h,this._dialogDataToken=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new je,this._afterOpenedAtThisLevel=new je,this._idPrefix="mat-dialog-",this.dialogConfigClass=Bh,this.afterAllClosed=Gd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kd(void 0))),this._scrollStrategy=a,this._dialog=r.get(v0)}open(e,r){let i;(r={...this._defaultOptions||new Bh,...r}).id=r.id||`${this._idPrefix}${YK++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Lh,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static#e=this.\u0275fac=function(r){Zp()};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})(),$0=(()=>{class t extends QK{constructor(e,r,i,o,s,a,u,h){super(e,r,o,a,u,s,V0,zK,KK,h),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(r){return new(r||t)(U(ya),U($t),U(Vi,8),U(WK,8),U(j0),U(t,12),U(Nh),U(oc,8))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})(),XK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:[$0,ZK],imports:[RK,e0,Ph,b0,b0]})}return t})(),JK=(()=>{class t{constructor(e){this.dialogRef=e}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||t)(Y(V0))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-game-over-dialog"]],decls:6,vars:0,consts:[["mat-button","",3,"click"]],template:function(r,i){1&r&&(me(0,"h1"),Me(1,"Fin del Juego"),ge(),me(2,"p"),Me(3,"\xa1Gracias por jugar!"),ge(),me(4,"button",0),et("click",function(){return i.closeDialog()}),Me(5,"Cerrar"),ge())},styles:[".mat-dialog-container[_ngcontent-%COMP%]{border-radius:10px;padding:20px;box-shadow:0 4px 6px #0000001a;font-family:Arial,sans-serif}.mat-dialog-title[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px}.mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:20px}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}button[_ngcontent-%COMP%]{background-color:#5c6bc0;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#3949ab}"]})}return t})();const e4=["ruleta"];function t4(t,n){if(1&t&&(me(0,"div")(1,"p"),Me(2),ge(),me(3,"p"),Me(4),ge()()),2&t){const e=n.$implicit;dt(2),bo(e.nombre),dt(2),bo(e.score)}}function n4(t,n){if(1&t&&(me(0,"div")(1,"h1"),Me(2,"Top 3"),ge(),me(3,"div",18),Co(4,t4,5,2,"div",19),ge()()),2&t){const e=vc();dt(4),ln("ngForOf",e.top3)}}const r4=function(t){return{inactive:t}},G0=function(t){return{invisible:t}};let o4=(()=>{class t{constructor(e,r,i){this.sanitizer=e,this.data=r,this.dialog=i,this.spinSound=new Audio("/assets/audio/RULETA.mp3"),this.stopSound=new Audio("/assets/audio/stopWheel.mp3"),this.clock=new Audio("/assets/audio/temporizador.mp3"),this.clockend=new Audio("/assets/audio/temporizadorFin.mp3"),this.root=document.documentElement,this.sortenado=!1,this.countdown=null,this.preguntaGlobal="",this.opcionRespuesta=[],this.selectedOption=null,this.areLabelsDisabled=!1,this.botonActivo=!0,this.showformat=!1,this.repuestaEsperada="",this.opcionseleccionada="",this.idSala=0,this.puntaje=0,this.usuarioDb="prueba",this.passwordDb="prueba",this.puedeIniciar=!1,this.top3=[],this.userName="",this.colorList=["#126253","#FF0000","#00FF00","#0000FF","#FFFF00","#00FFFF","#FF00FF","#C0C0C0","#808080","#800000","#808000"],this.conceptos=[],this.subscription=new O,this.lastRotation=0}ngOnInit(){this.userName=this.data.getNombre(),this.conceptos=this.data.getCategoriest(),console.log(this.conceptos,"conceptos"),this.ajustarRuleta(),this.idSala=this.data.getSalaId(),this.data.setSalaBack(),this.subscription.add(this.data.sorteo$.subscribe(e=>{console.log("Sorteo recibido:",e),null!=e&&(console.log("Sorteo recibido:",e),this.sorteo(e))})),this.subscription.add(this.data.top3$.subscribe(e=>{this.top3=e})),this.subscription.add(this.data.puntaje$.subscribe(e=>{this.puntaje=e[0];const r=document.querySelector(".opcionsel.selected");e[1]?r&&r.classList.add("correct-answer"):r&&r.classList.add("incorrect-answer"),this.data.getOverState().subscribe(i=>{console.log("Datos de overstate recibidos:",i),i&&this.openGameOverDialog()}),setTimeout(()=>{r&&(r.classList.remove("correct-answer"),r.classList.remove("incorrect-answer"))},3e3)}))}openGameOverDialog(){this.dialog.open(JK,{width:"400px",height:"200px",position:{top:"30px"}})}validarRespuesta(){let e=this.data.validarRespuesta(this.opcionseleccionada);console.log(e,"respuesta"),e?this.puntaje+=10:console.log("!perdiste\xa1")}selectOption(e){this.selectedOption=e,console.log(this.opcionRespuesta[e]),this.opcionseleccionada=this.opcionRespuesta[e],this.areLabelsDisabled=!0}preguntasSeleccion(e){this.data.seleccionPregunta(e).subscribe({next:r=>{this.preguntaGlobal=r.pregunta,this.opcionRespuesta=r.respuestas,console.log("Pregunta recibida:",this.preguntaGlobal),console.log("Respuestas recibidas:",this.opcionRespuesta)},error:r=>console.error("Error al recibir la pregunta:",r)})}ngAfterViewInit(){console.log("AfterViewInit"),this.ruletaElementRef.nativeElement.addEventListener("animationend",()=>{this.lastRotation=this.getCurrentRotation(this.ruletaElementRef.nativeElement),console.log(`Animation ended at rotation: ${this.lastRotation}`),this.finishSpinSetup()})}finishSpinSetup(){const e=document.getElementById("ganadorTexto"),r=this.calculateWinningSegment(this.lastRotation);e&&(e.textContent=this.conceptos[r]),clearInterval(this.animacionCarga),this.spinSound.pause(),this.spinSound.currentTime=0,this.stopSound.play(),this.botonActivo=!0,this.preguntasSeleccion(this.conceptos[r]),this.startCountdown(),this.areLabelsDisabled=!1,this.showformat=!0}startCountdown(){this.countdown=10;const e=function JG(t=0,n=Ih){return t<0&&(t=0),xM(t,t,n)}(1e3).pipe(_n(10));this.countdownSubscription=e.subscribe(()=>{this.clock.play(),this.countdown&&(this.countdown-=1),0===this.countdown&&(this.stopCountdown(),console.log("final"),this.areLabelsDisabled=!0,this.clock.pause(),this.clock.currentTime=0,this.clockend.play(),this.clockend.currentTime=0,this.botonActivo=!0,this.validarRespuesta())})}stopCountdown(){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.ruletaElementRef.nativeElement.classList.remove("girar")}calculateWinningSegment(e){return Math.floor((360-e)%360/(360/this.conceptos.length))}ajustarRuleta(){let e=0,r=document.getElementById("ruleta");const i=document.createElement("div");i.id="opcionesContainer",r?.appendChild(i);for(let o=0;o<this.conceptos.length;o++){let s=document.createElement("div");s.classList.add("opcion"),i.appendChild(s);const a=this.getPosicionProbabilidad(100/this.conceptos.length);s.setAttribute("style",`background-color: ${this.colorList[o]};transform:rotate(${this.probabilidadAGrados(e)}deg);  ${a}`),e+=100/this.conceptos.length}}getPosicionProbabilidad(e){let r="";return 100===e?r="":e>=87.5?r=`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0 0, ${50*Math.tan(this.probabilidadARadianes(e))+50}% 0%, 50% 50%)`:e>=75?r=`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0% ${100-(50*Math.tan(this.probabilidadARadianes(e-75))+50)}%, 50% 50%)`:e>=62.5?r=`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0% ${100-100*(.5-.5/Math.tan(this.probabilidadARadianes(e)))}%, 50% 50%)`:e>=50||e>=37.5?r=`clip-path: polygon(50% 0, 100% 0, 100% 100%, ${100-(50*Math.tan(this.probabilidadARadianes(e))+50)}% 100%, 50% 50%)`:e>=25?r=`clip-path: polygon(50% 0, 100% 0, 100% ${50*Math.tan(this.probabilidadARadianes(e-25))+50}%, 50% 50%)`:e>=12.5?r=`clip-path: polygon(50% 0, 100% 0, 100% ${100*(.5-.5/Math.tan(this.probabilidadARadianes(e)))}%, 50% 50%)`:e>=0&&(r=`clip-path: polygon(50% 0, ${50*Math.tan(this.probabilidadARadianes(e))+50}% 0, 50% 50%)`),r}probabilidadARadianes(e){return e/100*2*Math.PI}probabilidadAGrados(e){return 360*e/100}sorteo(e){this.spinSound.play(),this.selectedOption=-1,this.showformat=!1,this.botonActivo=!1,this.sortenado=!0;let r=document.getElementById("ganadorTexto");r&&(r.textContent="."),console.log("Ganador: ",e),this.root.style.setProperty("--giroRuleta",3600+360*(1-e)+"deg"),this.ruletaElementRef.nativeElement.classList.add("girar"),this.animacionCarga=setInterval(()=>{r?.textContent&&(r.textContent=r.textContent.length<3?r.textContent+".":".")},500)}getCurrentRotation(e){var r=window.getComputedStyle(e,null),i=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform")||"none";if("none"!=i){var o=i.split("(")[1].split(")")[0].split(","),s=parseFloat(o[0]),a=parseFloat(o[1]),u=Math.round(Math.atan2(a,s)*(180/Math.PI));return u<0?u+360:u}return 0}connectToGame(){this.data.connectToGame(),this.data.reset()}ingresarSala(){this.data.setSalaBack()}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Lm),Y(Th),Y($0))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-sala"]],viewQuery:function(r,i){if(1&r&&Vg(e4,5),2&r){let o;id(o=od())&&(i.ruletaElementRef=o.first)}},decls:45,vars:35,consts:[[1,"header"],["for","sala"],["type","text","id","sala"],["for","puntaje"],["type","text","id","puntaje"],[1,"boton-sorteo"],[3,"ngClass","click"],["id","timer",3,"ngClass"],["id","total"],["id","container"],["id","ganador"],["id","cartelGanador"],["id","ganadorTexto"],["id","ruleta"],["ruleta",""],["id","formatoPreguntas",3,"ngClass"],[1,"opcionsel",3,"click"],[4,"ngIf"],["id","top3"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(me(0,"div",0)(1,"label",1),Me(2,"N\xfamero de Sala:"),ge(),me(3,"span",2),Me(4),ge(),ht(5,"br"),me(6,"label",1),Me(7,"Nombre usuario:"),ge(),me(8,"span",2),Me(9),ge(),ht(10,"br"),me(11,"label",3),Me(12,"Puntaje:"),ge(),me(13,"span",4),Me(14),ge()(),me(15,"div",5)(16,"button",6),et("click",function(){return i.connectToGame()}),Me(17,"Sorteo"),ge()(),me(18,"div",7)(19,"p"),Me(20),ge()(),me(21,"div",8)(22,"div",9)(23,"div",10)(24,"div",11)(25,"p",12),Me(26,"Click en 'Sorteo' para iniciar"),ge()()(),ht(27,"div",13,14),ge(),me(29,"div",15)(30,"h1"),Me(31),ge(),me(32,"label",16),et("click",function(){return i.selectOption(0)}),Me(33),ge(),ht(34,"br"),me(35,"label",16),et("click",function(){return i.selectOption(1)}),Me(36),ge(),ht(37,"br"),me(38,"label",16),et("click",function(){return i.selectOption(2)}),Me(39),ge(),ht(40,"br"),me(41,"label",16),et("click",function(){return i.selectOption(3)}),Me(42),ge(),ht(43,"br"),ge(),Co(44,n4,5,1,"div",17),ge()),2&r&&(dt(4),$r(" ",i.idSala,""),dt(5),$r(" ",i.userName,""),dt(5),bo(i.puntaje),dt(2),ln("ngClass",td(29,r4,!i.botonActivo)),dt(2),ln("ngClass",td(31,G0,!i.showformat)),dt(2),bo(i.countdown),dt(9),ln("ngClass",td(33,G0,!i.showformat)),dt(2),bo(i.preguntaGlobal),dt(1),gi("disabled",i.areLabelsDisabled)("selected",0===i.selectedOption),dt(1),$r(" ",i.opcionRespuesta[0]," "),dt(2),gi("disabled",i.areLabelsDisabled)("selected",1===i.selectedOption),dt(1),$r(" ",i.opcionRespuesta[1]," "),dt(2),gi("disabled",i.areLabelsDisabled)("selected",2===i.selectedOption),dt(1),$r(" ",i.opcionRespuesta[2]," "),dt(2),gi("disabled",i.areLabelsDisabled)("selected",3===i.selectedOption),dt(1),$r(" ",i.opcionRespuesta[3]," "),dt(2),ln("ngIf",i.top3.length>0))},dependencies:[Em,Sd,QA],styles:[":root{--escala: 300px;--giroRuleta: 0deg}#ruleta{position:relative;width:var(--escala);height:var(--escala);border:1px solid black;border-radius:50%;overflow:hidden}#total{display:flex;flex-direction:row;align-items:center;text-align:center;gap:30px}#formatoPreguntas{position:relative;align-items:center}.opcion{position:absolute;width:var(--escala);height:var(--escala)}#container{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;height:100%;top:60px}#cartelGanador{position:absolute;left:-70px;top:-40px;background-color:#f5e9e9;min-height:55px;width:150px;font-weight:700;text-align:center}#ganador{position:absolute;z-index:10;top:-20px;background-color:#000;height:50px;width:5px;pointer-events:none}.girar{animation-name:girar;animation-duration:5s;animation-fill-mode:forwards;animation-timing-function:cubic-beziercubic-bezier(0,0,.26,1.19)}@keyframes girar{to{transform:rotate(var(--giroRuleta))}}.opcionsel{display:block;background-color:#f7f7f7;padding:10px;margin-bottom:5px;border:1px solid #dcdcdc;border-radius:5px;cursor:pointer;transition:background-color .3s,box-shadow .3s}.opcionsel:hover{background-color:#e9e9e9;box-shadow:0 2px 4px #0000001a}.opcionsel.selected{background-color:#040cfb;color:#fff;border-color:#b6dcb6}.opcionsel.disabled{pointer-events:none;opacity:.5;cursor:default}.invisible{display:none}button.inactive{cursor:not-allowed;pointer-events:none}body{width:100%;height:100vh;display:flex;background-color:#f1ead9}@keyframes correctAnswerAnimation{0%{background-color:#28a745;opacity:.5}50%{opacity:1}to{opacity:.5}}@keyframes incorrectAnswerAnimation{0%{background-color:#fa0000;opacity:.5}50%{opacity:1}to{opacity:.5}}.correct-answer{animation:correctAnswerAnimation 1s linear 3;border:3px solid #28a745}.incorrect-answer{animation:incorrectAnswerAnimation 1s linear 3;border:3px solid #a70909}\n"],encapsulation:2})}return t})();const s4=function(t,n){return{"btn-secondary":t,"btn-primary":n}};function a4(t,n){if(1&t){const e=mg();me(0,"button",14),et("click",function(){const o=xf(e).$implicit;return Ff(vc().toggleCategory(o.value))}),Me(1),ge()}if(2&t){const e=n.$implicit,r=vc();ln("ngClass",mT(2,s4,!r.selectedCategories.includes(e.value),r.selectedCategories.includes(e.value))),dt(1),$r(" ",e.name," ")}}let c4=(()=>{class t{constructor(e,r){this.data=e,this.router=r,this.categories=[{name:"bases de datos",value:"bases de datos"},{name:"logica",value:"logica"},{name:"sistemas",value:"sistemas"},{name:"matematicas",value:"matematicas"},{name:"programacion",value:"programacion"}],this.selectedCategories=[],this.NumPreguntas=0,this.numJugadores=0}toggleCategory(e){if(this.selectedCategories.includes(e)){let r=this.selectedCategories.indexOf(e);this.selectedCategories.splice(r,1)}else this.selectedCategories.push(e)}sendData(){let e=Math.floor(1e4*Math.random());this.data.setSalaId(e),this.data.setCategories(this.selectedCategories),console.log(this.selectedCategories,"categorias"),this.data.setNumPreguntas(this.NumPreguntas),this.data.setNumJugadores(this.numJugadores),this.router.navigate(["/SalaComponent"])}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Th),Y(Jt))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-crear-sala"]],decls:27,vars:3,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css","rel","stylesheet"],[1,"container"],[1,"form-group"],["for","categoria"],["id","categoria",1,"btn-group"],["type","button","class","btn",3,"ngClass","click",4,"ngFor","ngForOf"],["for","numPreguntas"],["type","number","id","numPreguntas","name","numPreguntas","placeholder","Numero de preguntas",1,"form-control",3,"ngModel","ngModelChange"],["for","numJugadores"],["type","number","id","numJugadores","name","numJugadores","placeholder","Numero de jugadores",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn",3,"ngClass","click"]],template:function(r,i){1&r&&(me(0,"html",0)(1,"head"),ht(2,"meta",1)(3,"meta",2),me(4,"title"),Me(5,"Crear sala"),ge(),ht(6,"link",3),ge(),me(7,"body")(8,"div",4)(9,"h1"),Me(10,"Crear sala"),ge(),me(11,"form")(12,"div",5)(13,"label",6),Me(14,"Categor\xeda"),ge(),me(15,"div",7),Co(16,a4,2,5,"button",8),ge()(),me(17,"div",5)(18,"label",9),Me(19,"Numero de preguntas"),ge(),me(20,"input",10),et("ngModelChange",function(s){return i.NumPreguntas=s}),ge()(),me(21,"div",5)(22,"label",11),Me(23,"Numero de jugadores"),ge(),me(24,"input",12),et("ngModelChange",function(s){return i.numJugadores=s}),ge()(),me(25,"button",13),et("click",function(){return i.sendData()}),Me(26,"Crear sala"),ge()()()()()),2&r&&(dt(16),ln("ngForOf",i.categories),dt(4),ln("ngModel",i.NumPreguntas),dt(4),ln("ngModel",i.numJugadores))},dependencies:[Em,Sd,Vc,ea,Qm,kd,xc,Hc,Do],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:gray;color:#000}.btn[_ngcontent-%COMP%]{margin:5px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f9;color:#333;padding:20px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#45a049}label[_ngcontent-%COMP%]{margin-top:20px;font-weight:700}",".container[_ngcontent-%COMP%] {\n            margin-top: 20px;\n        }\n        #categoria[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n            margin: 5px;\n        }"]})}return t})(),l4=(()=>{class t{constructor(e,r){this.data=e,this.router=r,this.categorias=[],this.salaId=0,this.codigoSala=0}ngOnInit(){this.data.getCategories().subscribe(e=>{e&&(this.categorias=e,console.log(this.categorias,"categorias obtenidas"))})}sendData(){let e=0;this.data.setSalaId(this.codigoSala),this.data.getOcupacion().subscribe(r=>{e=r,console.log(e),e?this.data.getCategories().subscribe(i=>{console.log(i,"categorias");let o=this.data.getNumPreguntas(),s=this.data.getNumJugadores();this.data.setNumPreguntas(o),this.data.setNumJugadores(s),this.data.setCategories(i),this.router.navigate(["/SalaComponent"])}):alert("sala llena")})}static#e=this.\u0275fac=function(r){return new(r||t)(Y(Th),Y(Jt))};static#t=this.\u0275cmp=On({type:t,selectors:[["app-unir-sala"]],decls:17,vars:1,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"form-group"],["for","codigoSala"],["type","text","id","codigoSala","name","codigoSala","placeholder","C\xf3digo de la sala",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(me(0,"html",0)(1,"head"),ht(2,"meta",1)(3,"meta",2),me(4,"title"),Me(5,"Unir Sala"),ge()(),me(6,"body")(7,"div",3)(8,"h1"),Me(9,"Unir Sala"),ge(),me(10,"form")(11,"div",4)(12,"label",5),Me(13,"C\xf3digo de la sala"),ge(),me(14,"input",6),et("ngModelChange",function(s){return i.codigoSala=s}),ge()(),me(15,"button",7),et("click",function(){return i.sendData()}),Me(16,"Unir sala"),ge()()()()()),2&r&&(dt(14),ln("ngModel",i.codigoSala))},dependencies:[Vc,ea,kd,xc,Hc,Do],styles:["body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f4f4f4;color:#333;padding:20px}.container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto;background-color:#fff;padding:20px;box-shadow:0 0 10px #0000001a}h1[_ngcontent-%COMP%]{color:#5d3fd3;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#5d3fd3;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#4a2da0}"]})}return t})();function K0(t){return new l(3e3,!1)}function eo(t){switch(t.length){case 0:return new gl;case 1:return t[0];default:return new F0(t)}}function W0(t,n,e=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(n.forEach(u=>{const h=u.get("offset"),f=h==s,m=f&&a||new Map;u.forEach((E,T)=>{let R=T,k=E;if("offset"!==T)switch(R=t.normalizePropertyName(R,i),k){case"!":k=e.get(T);break;case bi:k=r.get(T);break;default:k=t.normalizeStyleValue(T,R,k,i)}m.set(R,k)}),f||o.push(m),a=m,s=h}),i.length)throw function k4(t){return new l(3502,!1)}();return o}function Ty(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&Ay(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Ay(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Ay(e,"destroy",t)))}}function Ay(t,n,e){const o=Sy(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function Sy(t,n,e,r,i="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function qn(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function q0(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const z4=(()=>typeof document>"u"?null:document.documentElement)();function Iy(t){const n=t.parentNode||t.host||null;return n===z4?null:n}let Uo=null,Z0=!1;function Y0(t,n){for(;n;){if(n===t)return!0;n=Iy(n)}return!1}function Q0(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let X0=(()=>{class t{validateStyleProperty(e){return function K4(t){Uo||(Uo=function W4(){return typeof document<"u"?document.body:null}()||{},Z0=!!Uo.style&&"WebkitAppearance"in Uo.style);let n=!0;return Uo.style&&!function G4(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Uo.style,!n&&Z0&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Uo.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Y0(e,r)}getParentElement(e){return Iy(e)}query(e,r,i){return Q0(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],u){return new gl(i,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})(),Dy=(()=>{class t{static#e=this.NOOP=new X0}return t})();const q4=1e3,My="ng-enter",Uh="ng-leave",Hh="ng-trigger",Vh=".ng-trigger",eR="ng-animating",Ry=".ng-animating";function wi(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Oy(parseFloat(n[1]),n[2])}function Oy(t,n){return"s"===n?t*q4:t}function jh(t,n,e){return t.hasOwnProperty("duration")?t:function Y4(t,n,e){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(K0()),{duration:0,delay:0,easing:""};i=Oy(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(o=Oy(parseFloat(u),a[4]));const h=a[5];h&&(s=h)}else i=t;if(!e){let a=!1,u=n.length;i<0&&(n.push(function u4(){return new l(3100,!1)}()),a=!0),o<0&&(n.push(function d4(){return new l(3101,!1)}()),a=!0),a&&n.splice(u,0,K0())}return{duration:i,delay:o,easing:s}}(t,n,e)}function ml(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function tR(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function to(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function Qr(t,n,e){n.forEach((r,i)=>{const o=Py(i);e&&!e.has(i)&&e.set(i,t.style[o]),t.style[o]=r})}function Ho(t,n){n.forEach((e,r)=>{const i=Py(r);t.style[i]=""})}function _l(t){return Array.isArray(t)?1==t.length?t[0]:O0(t):t}const ky=new RegExp("{{\\s*(.+?)\\s*}}","g");function rR(t){let n=[];if("string"==typeof t){let e;for(;e=ky.exec(t);)n.push(e[1]);ky.lastIndex=0}return n}function yl(t,n,e){const r=t.toString(),i=r.replace(ky,(o,s)=>{let a=n[s];return null==a&&(e.push(function f4(t){return new l(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function $h(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const J4=/-+([a-z0-9])/g;function Py(t){return t.replace(J4,(...n)=>n[1].toUpperCase())}function Zn(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function p4(t){return new l(3004,!1)}()}}function iR(t,n){return window.getComputedStyle(t)[n]}const zh="*";function nW(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function rW(t,n,e){if(":"==t[0]){const u=function iW(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function D4(t){return new l(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof u)return void n.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function I4(t){return new l(3015,!1)}()),n;const i=r[1],o=r[2],s=r[3];n.push(oR(i,s));"<"==o[0]&&!(i==zh&&s==zh)&&n.push(oR(s,i))}(r,e,n)):e.push(t),e}const Gh=new Set(["true","1"]),Kh=new Set(["false","0"]);function oR(t,n){const e=Gh.has(t)||Kh.has(t),r=Gh.has(n)||Kh.has(n);return(i,o)=>{let s=t==zh||t==i,a=n==zh||n==o;return!s&&e&&"boolean"==typeof i&&(s=i?Gh.has(t):Kh.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Gh.has(n):Kh.has(n)),s&&a}}const oW=new RegExp("s*:selfs*,?","g");function Ny(t,n,e,r){return new sW(t).build(n,e,r)}class sW{constructor(n){this._driver=n}build(n,e,r){const i=new lW(e);return this._resetContextStyleTimingState(i),Zn(this,_l(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function m4(){return new l(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const u=a,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,e))}),u.name=h}else if(1==a.type){const u=this.visitTransition(a,e);r+=u.queryCount,i+=u.depCount,s.push(u)}else e.errors.push(function _4(){return new l(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{rR(u).forEach(h=>{s.hasOwnProperty(h)||o.add(h)})})}),o.size&&($h(o.values()),e.errors.push(function y4(t,n){return new l(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Zn(this,_l(n.animation),e);return{type:1,matchers:nW(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Vo(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Zn(this,r,e)),options:Vo(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const o=n.steps.map(s=>{e.currentTime=r;const a=Zn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Vo(n.options)}}visitAnimate(n,e){const r=function dW(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return xy(jh(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=xy(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=jh(e,n);return xy(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,o=n.styles?n.styles:Ca({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;const h={};r.easing&&(h.easing=r.easing),s=Ca(h)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(s,e);u.isEmptyStep=a,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===bi?r.push(a):e.errors.push(new l(3002,!1)):r.push(tR(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let u of a.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{const h=e.collectedStyles.get(e.currentQuerySelector),f=h.get(u);let m=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push(function C4(t,n,e,r,i){return new l(3010,!1)}()),m=!1),o=f.startTime),m&&h.set(u,{startTime:o,endTime:i}),e.options&&function X4(t,n,e){const r=n.params||{},i=rR(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function h4(t){return new l(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function E4(){return new l(3011,!1)}()),r;let o=0;const s=[];let a=!1,u=!1,h=0;const f=n.steps.map(te=>{const $=this._makeStyleAst(te,e);let pe=null!=$.offset?$.offset:function uW(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}($.styles),be=0;return null!=pe&&(o++,be=$.offset=pe),u=u||be<0||be>1,a=a||be<h,h=be,s.push(be),$});u&&e.errors.push(function b4(){return new l(3012,!1)}()),a&&e.errors.push(function w4(){return new l(3200,!1)}());const m=n.steps.length;let E=0;o>0&&o<m?e.errors.push(function T4(){return new l(3202,!1)}()):0==o&&(E=1/(m-1));const T=m-1,R=e.currentTime,k=e.currentAnimateTimings,j=k.duration;return f.forEach((te,$)=>{const pe=E>0?$==T?1:E*$:s[$],be=pe*j;e.currentTime=R+k.delay+be,k.duration=be,this._validateStyleAst(te,e),te.offset=pe,r.styles.push(te)}),r}visitReference(n,e){return{type:8,animation:Zn(this,_l(n.animation),e),options:Vo(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Vo(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Vo(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function aW(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(oW,"")),t=t.replace(/@\*/g,Vh).replace(/@\w+/g,e=>Vh+"-"+e.slice(1)).replace(/:animating/g,Ry),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+o:o,qn(e.collectedStyles,e.currentQuerySelector,new Map);const a=Zn(this,_l(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Vo(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function A4(){return new l(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:jh(n.timings,e.errors,!0);return{type:12,animation:Zn(this,_l(n.animation),e),timings:r,options:null}}}class lW{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vo(t){return t?(t=ml(t)).params&&(t.params=function cW(t){return t?ml(t):null}(t.params)):t={},t}function xy(t,n,e){return{duration:t,delay:n,easing:e}}function Fy(t,n,e,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Wh{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const pW=new RegExp(":enter","g"),mW=new RegExp(":leave","g");function Ly(t,n,e,r,i,o=new Map,s=new Map,a,u,h=[]){return(new _W).buildKeyframes(t,n,e,r,i,o,s,a,u,h)}class _W{buildKeyframes(n,e,r,i,o,s,a,u,h,f=[]){h=h||new Wh;const m=new By(n,e,h,i,o,f,[]);m.options=u;const E=u.delay?wi(u.delay):0;m.currentTimeline.delayNextStep(E),m.currentTimeline.setStyles([s],null,m.errors,u),Zn(this,r,m);const T=m.timelines.filter(R=>R.containsAnimation());if(T.length&&a.size){let R;for(let k=T.length-1;k>=0;k--){const j=T[k];if(j.element===e){R=j;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([a],null,m.errors,u)}return T.length?T.map(R=>R.buildKeyframes()):[Fy(e,[],[],[],0,E,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const o=i?.delay;if(o){const s="number"==typeof o?o:wi(yl(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?wi(r.duration):null,a=null!=r.delay?wi(r.delay):null;return 0!==s&&n.forEach(u=>{const h=e.appendInstructionToTimeline(u,s,a);o=Math.max(o,h.duration+h.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Zn(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const o=n.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qh);const s=wi(o.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Zn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?wi(n.options.delay):0;n.steps.forEach(s=>{const a=e.createSubContext(n.options);o&&a.delayNextStep(o),Zn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return jh(e.params?yl(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(u=>{a.forwardTime((u.offset||0)*o),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},o=i.delay?wi(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qh);let s=r;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const m=e.createSubContext(n.options,h);o&&m.delayNextStep(o),h===e.element&&(u=m.currentTimeline),Zn(this,n.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let u=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const m=f.currentTime;Zn(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const qh={};class By{constructor(n,e,r,i,o,s,a,u){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Zh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=wi(r.duration)),null!=r.delay&&(i.delay=wi(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=yl(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,o=new By(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=qh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new yW(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,o,s){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(pW,"."+this._enterClassName)).replace(mW,"."+this._leaveClassName);let h=this._driver.query(this.element,n,1!=r);0!==r&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),a.push(...h)}return!o&&0==a.length&&s.push(function S4(t){return new l(3014,!1)}()),a}}class Zh{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Zh(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||bi),this._currentKeyframe.set(e,bi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function vW(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)e.set(o,bi)}else to(i,e)}),e}(n,this._globalTimelineStyles);for(let[a,u]of s){const h=yl(u,o,r);this._pendingStyles.set(a,h),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??bi),this._updateStyle(a,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const h=to(a,new Map,this._backFill);h.forEach((f,m)=>{"!"===f?n.add(m):f===bi&&e.add(m)}),r||h.set("offset",u/this.duration),i.push(h)});const o=n.size?$h(n.values()):[],s=e.size?$h(e.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Fy(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class yW extends Zh{constructor(n,e,r,i,o,s,a=!1){super(n,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,u=to(n[0]);u.set("offset",0),o.push(u);const h=to(n[0]);h.set("offset",cR(a)),o.push(h);const f=n.length-1;for(let m=1;m<=f;m++){let E=to(n[m]);const T=E.get("offset");E.set("offset",cR((e+T*r)/s)),o.push(E)}r=s,e=0,i="",n=o}return Fy(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function cR(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class Uy{}const CW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class EW extends Uy{normalizePropertyName(n,e){return Py(n)}normalizeStyleValue(n,e,r,i){let o="";const s=r.toString().trim();if(CW.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function g4(t,n){return new l(3005,!1)}())}return s+o}}function lR(t,n,e,r,i,o,s,a,u,h,f,m,E){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:m,errors:E}}const Hy={};class uR{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function bW(t,n,e,r,i){return t.some(o=>o(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,o,s,a,u,h,f){const m=[],E=this.ast.options&&this.ast.options.params||Hy,R=this.buildStyles(r,a&&a.params||Hy,m),k=u&&u.params||Hy,j=this.buildStyles(i,k,m),te=new Set,$=new Map,pe=new Map,be="void"===i,He={params:wW(k,E),delay:this.ast.options?.delay},_t=f?[]:Ly(n,e,this.ast.animation,o,s,R,j,He,h,m);let St=0;if(_t.forEach(Yn=>{St=Math.max(Yn.duration+Yn.delay,St)}),m.length)return lR(e,this._triggerName,r,i,be,R,j,[],[],$,pe,St,m);_t.forEach(Yn=>{const Dr=Yn.element,Jh=qn($,Dr,new Set);Yn.preStyleProps.forEach(jo=>Jh.add(jo));const Cl=qn(pe,Dr,new Set);Yn.postStyleProps.forEach(jo=>Cl.add(jo)),Dr!==e&&te.add(Dr)});const un=$h(te.values());return lR(e,this._triggerName,r,i,be,R,j,_t,un,$,pe,St)}}function wW(t,n){const e=ml(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class TW{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=ml(this.defaultParams);return Object.keys(n).forEach(o=>{const s=n[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=yl(s,i,e));const u=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,u,s,e),r.set(a,s)})}),r}}class SW{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new TW(i.style,i.options&&i.options.params||{},r))}),dR(this.states,"true","1"),dR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new uR(n,i,this.states))}),this.fallbackTransition=function IW(t,n,e){return new uR(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(s=>s.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function dR(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const DW=new Wh;class MW{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],o=Ny(this._driver,e,r,[]);if(r.length)throw function P4(t){return new l(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,r){const i=n.element,o=W0(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=Ly(this._driver,e,o,My,Uh,new Map,new Map,r,DW,i),s.forEach(f=>{const m=qn(a,f.element,new Map);f.postStyleProps.forEach(E=>m.set(E,null))})):(i.push(function N4(){return new l(3300,!1)}()),s=[]),i.length)throw function x4(t){return new l(3504,!1)}();a.forEach((f,m)=>{f.forEach((E,T)=>{f.set(T,this._driver.computeStyle(m,T,bi))})});const h=eo(s.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,new Map,m)}));return this._playersById.set(n,h),h.onDestroy(()=>this.destroy(n)),this.players.push(h),h}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function F4(t){return new l(3301,!1)}();return e}listen(n,e,r,i){const o=Sy(e,"","","");return Ty(this._getPlayer(n),r,o,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const hR="ng-animate-queued",Vy="ng-animate-disabled",NW=[],fR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ir="__ng_removed";class jy{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function UW(t){return t??null}(r?n.value:n),r){const o=ml(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const vl="void",$y=new jy(vl);class FW{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,dr(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function L4(t,n){return new l(3302,!1)}();if(null==r||0==r.length)throw function B4(t){return new l(3303,!1)}();if(!function HW(t){return"start"==t||"done"==t}(r))throw function U4(t,n){return new l(3400,!1)}();const o=qn(this._elementListeners,n,[]),s={name:e,phase:r,callback:i};o.push(s);const a=qn(this._engine.statesByElement,n,new Map);return a.has(e)||(dr(n,Hh),dr(n,Hh+"-"+e),a.set(e,$y)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function H4(t){return new l(3401,!1)}();return e}trigger(n,e,r,i=!0){const o=this._getTrigger(e),s=new zy(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(dr(n,Hh),dr(n,Hh+"-"+e),this._engine.statesByElement.set(n,a=new Map));let u=a.get(e);const h=new jy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),a.set(e,h),u||(u=$y),h.value!==vl&&u.value===h.value){if(!function $W(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(u.params,h.params)){const k=[],j=o.matchStyles(u.value,u.params,k),te=o.matchStyles(h.value,h.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Ho(n,j),Qr(n,te)})}return}const E=qn(this._engine.playersByElement,n,[]);E.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let T=o.matchTransition(u.value,h.value,n,h.params),R=!1;if(!T){if(!i)return;T=o.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:T,fromState:u,toState:h,player:s,isFallbackTransition:R}),R||(dr(n,hR),s.onStart(()=>{Ea(n,hR)})),s.onDone(()=>{let k=this.players.indexOf(s);k>=0&&this.players.splice(k,1);const j=this._engine.playersByElement.get(n);if(j){let te=j.indexOf(s);te>=0&&j.splice(te,1)}}),this.players.push(s),E.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,Vh,!0);r.forEach(i=>{if(i[Ir])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((u,h)=>{if(s.set(h,u.value),this._triggers.has(h)){const f=this.trigger(n,h,vl,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),r&&eo(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const u=this._triggers.get(s).fallbackTransition,h=r.get(s)||$y,f=new jy(vl),m=new zy(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:u,fromState:h,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Ir];(!o||o===fR)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){dr(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const u=Sy(o,r.triggerName,r.fromState.value,r.toState.value);u._data=n,Ty(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class LW{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new FW(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const u=i.get(a);if(u){const h=r.indexOf(u);r.splice(h+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(n,e,r,i){if(Yh(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!Yh(e))return;const o=e[Ir];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),dr(n,Vy)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Ea(n,Vy))}removeNode(n,e,r){if(Yh(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,o){this.collectedLeaveElements.push(e),e[Ir]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,r,i,o){return Yh(e)?this._fetchNamespace(n).listen(e,r,i,o):()=>{}}_buildInstruction(n,e,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,Vh,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Ry,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return eo(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Ir];if(e&&e.setForRemoval){if(n[Ir]=fR,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Vy)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?eo(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function V4(t){return new l(3402,!1)}()}_flushAnimations(n,e){const r=new Wh,i=[],o=new Map,s=[],a=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(Ie=>{f.add(Ie);const Pe=this.driver.query(Ie,".ng-animate-queued",!0);for(let Fe=0;Fe<Pe.length;Fe++)f.add(Pe[Fe])});const m=this.bodyNode,E=Array.from(this.statesByElement.keys()),T=mR(E,this.collectedEnterElements),R=new Map;let k=0;T.forEach((Ie,Pe)=>{const Fe=My+k++;R.set(Pe,Fe),Ie.forEach(ct=>dr(ct,Fe))});const j=[],te=new Set,$=new Set;for(let Ie=0;Ie<this.collectedLeaveElements.length;Ie++){const Pe=this.collectedLeaveElements[Ie],Fe=Pe[Ir];Fe&&Fe.setForRemoval&&(j.push(Pe),te.add(Pe),Fe.hasAnimation?this.driver.query(Pe,".ng-star-inserted",!0).forEach(ct=>te.add(ct)):$.add(Pe))}const pe=new Map,be=mR(E,Array.from(te));be.forEach((Ie,Pe)=>{const Fe=Uh+k++;pe.set(Pe,Fe),Ie.forEach(ct=>dr(ct,Fe))}),n.push(()=>{T.forEach((Ie,Pe)=>{const Fe=R.get(Pe);Ie.forEach(ct=>Ea(ct,Fe))}),be.forEach((Ie,Pe)=>{const Fe=pe.get(Pe);Ie.forEach(ct=>Ea(ct,Fe))}),j.forEach(Ie=>{this.processLeaveNode(Ie)})});const He=[],_t=[];for(let Ie=this._namespaceList.length-1;Ie>=0;Ie--)this._namespaceList[Ie].drainQueuedTransitions(e).forEach(Fe=>{const ct=Fe.player,nn=Fe.element;if(He.push(ct),this.collectedEnterElements.length){const vn=nn[Ir];if(vn&&vn.setForMove){if(vn.previousTriggersValues&&vn.previousTriggersValues.has(Fe.triggerName)){const $o=vn.previousTriggersValues.get(Fe.triggerName),hr=this.statesByElement.get(Fe.element);if(hr&&hr.has(Fe.triggerName)){const ef=hr.get(Fe.triggerName);ef.value=$o,hr.set(Fe.triggerName,ef)}}return void ct.destroy()}}const Xr=!m||!this.driver.containsElement(m,nn),Qn=pe.get(nn),no=R.get(nn),Nt=this._buildInstruction(Fe,r,no,Qn,Xr);if(Nt.errors&&Nt.errors.length)return void _t.push(Nt);if(Xr)return ct.onStart(()=>Ho(nn,Nt.fromStyles)),ct.onDestroy(()=>Qr(nn,Nt.toStyles)),void i.push(ct);if(Fe.isFallbackTransition)return ct.onStart(()=>Ho(nn,Nt.fromStyles)),ct.onDestroy(()=>Qr(nn,Nt.toStyles)),void i.push(ct);const IR=[];Nt.timelines.forEach(vn=>{vn.stretchStartingKeyframe=!0,this.disabledNodes.has(vn.element)||IR.push(vn)}),Nt.timelines=IR,r.append(nn,Nt.timelines),s.push({instruction:Nt,player:ct,element:nn}),Nt.queriedElements.forEach(vn=>qn(a,vn,[]).push(ct)),Nt.preStyleProps.forEach((vn,$o)=>{if(vn.size){let hr=u.get($o);hr||u.set($o,hr=new Set),vn.forEach((ef,Wy)=>hr.add(Wy))}}),Nt.postStyleProps.forEach((vn,$o)=>{let hr=h.get($o);hr||h.set($o,hr=new Set),vn.forEach((ef,Wy)=>hr.add(Wy))})});if(_t.length){const Ie=[];_t.forEach(Pe=>{Ie.push(function j4(t,n){return new l(3505,!1)}())}),He.forEach(Pe=>Pe.destroy()),this.reportError(Ie)}const St=new Map,un=new Map;s.forEach(Ie=>{const Pe=Ie.element;r.has(Pe)&&(un.set(Pe,Pe),this._beforeAnimationBuild(Ie.player.namespaceId,Ie.instruction,St))}),i.forEach(Ie=>{const Pe=Ie.element;this._getPreviousPlayers(Pe,!1,Ie.namespaceId,Ie.triggerName,null).forEach(ct=>{qn(St,Pe,[]).push(ct),ct.destroy()})});const Yn=j.filter(Ie=>yR(Ie,u,h)),Dr=new Map;gR(Dr,this.driver,$,h,bi).forEach(Ie=>{yR(Ie,u,h)&&Yn.push(Ie)});const Cl=new Map;T.forEach((Ie,Pe)=>{gR(Cl,this.driver,new Set(Ie),u,"!")}),Yn.forEach(Ie=>{const Pe=Dr.get(Ie),Fe=Cl.get(Ie);Dr.set(Ie,new Map([...Pe?.entries()??[],...Fe?.entries()??[]]))});const jo=[],AR=[],SR={};s.forEach(Ie=>{const{element:Pe,player:Fe,instruction:ct}=Ie;if(r.has(Pe)){if(f.has(Pe))return Fe.onDestroy(()=>Qr(Pe,ct.toStyles)),Fe.disabled=!0,Fe.overrideTotalTime(ct.totalTime),void i.push(Fe);let nn=SR;if(un.size>1){let Qn=Pe;const no=[];for(;Qn=Qn.parentNode;){const Nt=un.get(Qn);if(Nt){nn=Nt;break}no.push(Qn)}no.forEach(Nt=>un.set(Nt,nn))}const Xr=this._buildAnimation(Fe.namespaceId,ct,St,o,Cl,Dr);if(Fe.setRealPlayer(Xr),nn===SR)jo.push(Fe);else{const Qn=this.playersByElement.get(nn);Qn&&Qn.length&&(Fe.parentPlayer=eo(Qn)),i.push(Fe)}}else Ho(Pe,ct.fromStyles),Fe.onDestroy(()=>Qr(Pe,ct.toStyles)),AR.push(Fe),f.has(Pe)&&i.push(Fe)}),AR.forEach(Ie=>{const Pe=o.get(Ie.element);if(Pe&&Pe.length){const Fe=eo(Pe);Ie.setRealPlayer(Fe)}}),i.forEach(Ie=>{Ie.parentPlayer?Ie.syncPlayerEvents(Ie.parentPlayer):Ie.destroy()});for(let Ie=0;Ie<j.length;Ie++){const Pe=j[Ie],Fe=Pe[Ir];if(Ea(Pe,Uh),Fe&&Fe.hasAnimation)continue;let ct=[];if(a.size){let Xr=a.get(Pe);Xr&&Xr.length&&ct.push(...Xr);let Qn=this.driver.query(Pe,Ry,!0);for(let no=0;no<Qn.length;no++){let Nt=a.get(Qn[no]);Nt&&Nt.length&&ct.push(...Nt)}}const nn=ct.filter(Xr=>!Xr.destroyed);nn.length?VW(this,Pe,nn):this.processLeaveNode(Pe)}return j.length=0,jo.forEach(Ie=>{this.players.push(Ie),Ie.onDone(()=>{Ie.destroy();const Pe=this.players.indexOf(Ie);this.players.splice(Pe,1)}),Ie.play()}),jo}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const u=!o||o==vl;a.forEach(h=>{h.queued||!u&&h.triggerName!=i||s.push(h)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(n,e,r){const o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const h=u.element,f=h!==o,m=qn(r,h,[]);this._getPreviousPlayers(h,f,s,a,e.toState).forEach(T=>{const R=T.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),T.destroy(),m.push(T)})}Ho(o,e.fromStyles)}_buildAnimation(n,e,r,i,o,s){const a=e.triggerName,u=e.element,h=[],f=new Set,m=new Set,E=e.timelines.map(R=>{const k=R.element;f.add(k);const j=k[Ir];if(j&&j.removedBeforeQueried)return new gl(R.duration,R.delay);const te=k!==u,$=function jW(t){const n=[];return _R(t,n),n}((r.get(k)||NW).map(St=>St.getRealPlayer())).filter(St=>!!St.element&&St.element===k),pe=o.get(k),be=s.get(k),He=W0(this._normalizer,R.keyframes,pe,be),_t=this._buildPlayer(R,He,$);if(R.subTimeline&&i&&m.add(k),te){const St=new zy(n,a,k);St.setRealPlayer(_t),h.push(St)}return _t});h.forEach(R=>{qn(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function BW(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,R.element,R))}),f.forEach(R=>dr(R,eR));const T=eo(E);return T.onDestroy(()=>{f.forEach(R=>Ea(R,eR)),Qr(u,e.toStyles)}),m.forEach(R=>{qn(i,R,[]).push(T)}),T}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new gl(n.duration,n.delay)}}class zy{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new gl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Ty(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){qn(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Yh(t){return t&&1===t.nodeType}function pR(t,n){const e=t.style.display;return t.style.display=n??"none",e}function gR(t,n,e,r,i){const o=[];e.forEach(u=>o.push(pR(u)));const s=[];r.forEach((u,h)=>{const f=new Map;u.forEach(m=>{const E=n.computeStyle(h,m,i);f.set(m,E),(!E||0==E.length)&&(h[Ir]=xW,s.push(h))}),t.set(h,f)});let a=0;return e.forEach(u=>pR(u,o[a++])),s}function mR(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const i=new Set(n),o=new Map;function s(a){if(!a)return 1;let u=o.get(a);if(u)return u;const h=a.parentNode;return u=e.has(h)?h:i.has(h)?1:s(h),o.set(a,u),u}return n.forEach(a=>{const u=s(a);1!==u&&e.get(u).push(a)}),e}function dr(t,n){t.classList?.add(n)}function Ea(t,n){t.classList?.remove(n)}function VW(t,n,e){eo(e).onDone(()=>t.processLeaveNode(n))}function _R(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof F0?_R(r.players,n):n.push(r)}}function yR(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(o=>i.add(o)):n.set(t,r),e.delete(t),!0}class Qh{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new LW(n,e,r),this._timelineEngine=new MW(n,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,e,r,i,o){const s=n+"-"+i;let a=this._triggerCache[s];if(!a){const u=[],f=Ny(this._driver,o,u,[]);if(u.length)throw function O4(t,n){return new l(3404,!1)}();a=function AW(t,n,e){return new SW(t,n,e)}(i,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[o,s]=q0(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=q0(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let GW=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qr(this._element,this._initialStyles),this._endStyles&&(Qr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ho(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),Qr(this._element,this._initialStyles),this._state=3)}}return t})();function Gy(t){let n=null;return t.forEach((e,r)=>{(function KW(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class vR{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:iR(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class WW{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Y0(n,e)}getParentElement(n){return Iy(n)}query(n,e,r){return Q0(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,o,s=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const h=new Map,f=s.filter(T=>T instanceof vR);(function eW(t,n){return 0===t||0===n})(r,i)&&f.forEach(T=>{T.currentSnapshot.forEach((R,k)=>h.set(k,R))});let m=function Q4(t){return t.length?t[0]instanceof Map?t:t.map(n=>tR(n)):[]}(e).map(T=>to(T));m=function tW(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<n.length;o++){let s=n[o];i.forEach(a=>s.set(a,iR(t,a)))}}return n}(n,m,h);const E=function zW(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=Gy(n[0]),n.length>1&&(r=Gy(n[n.length-1]))):n instanceof Map&&(e=Gy(n)),e||r?new GW(t,e,r):null}(n,m);return new vR(n,m,u,E)}}let qW=(()=>{class t extends D0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:er.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?O0(e):e;return CR(this._renderer,null,r,"register",[i]),new ZW(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(U(cc),U(Je))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();class ZW extends BK{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new YW(this._id,n,e||{},this._renderer)}}class YW{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return CR(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CR(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const ER="@.disabled";let QW=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(o);return f||(f=new bR("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,f)),f}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(s,a,e,f.name,f)};return r.data.animation.forEach(u),new XW(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(U(cc),U(Qh),U(qe))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})();class bR{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==ER?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class XW extends bR{constructor(n,e,r,i,o){super(e,r,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ER?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function JW(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function e8(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,e,r)}}const wR=[{provide:D0,useClass:qW},{provide:Uy,useFactory:function n8(){return new EW}},{provide:Qh,useClass:(()=>{class t extends Qh{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(U(Je),U(Dy),U(Uy),U(Ui))};static#t=this.\u0275prov=fe({token:t,factory:t.\u0275fac})}return t})()},{provide:cc,useFactory:function r8(t,n,e){return new QW(t,n,e)},deps:[Pm,Qh,qe]}],Ky=[{provide:Dy,useFactory:()=>new WW},{provide:oc,useValue:"BrowserAnimations"},...wR],TR=[{provide:Dy,useClass:X0},{provide:oc,useValue:"NoopAnimations"},...wR];let i8=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?TR:Ky}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t});static#n=this.\u0275inj=Dt({providers:Ky,imports:[ES]})}return t})();const o8=[{path:"",component:DM},{path:"inicio",component:MM},{path:"new",component:ZG},{path:"profile",component:OM},{path:"SalaComponent",component:o4},{path:"CrearSala",component:c4},{path:"UnirSala",component:l4}];let s8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kt({type:t,bootstrap:[GG]});static#n=this.\u0275inj=Dt({providers:[{provide:$D,useClass:UG,multi:!0},Xi,SM,Ah],imports:[HG.forRoot(new ty({auth:{clientId:"933b58cd-d2c8-4c61-b229-f95d28c0bf40",authority:"https://login.microsoftonline.com/46def668-48dd-404a-8d73-43fc6a155b04",redirectUri:"https://eciquestv3.azurewebsites.net"},cache:{cacheLocation:tt.Ix.LocalStorage,storeAuthStateInCookie:!0},system:{loggerOptions:{loggerCallback:()=>{},piiLoggingEnabled:!1}}}),{interactionType:tt.s_.Redirect},{interactionType:tt.s_.Redirect,protectedResourceMap:new Map([["https://graph.microsoft.com/v1.0/me",["user.read"]],["https://api.myapplication.com/users/*",["customscope.read"]]])}),ES,Y2,XK,jz,zG,I_.forRoot(o8),i8]})}return t})();BV().bootstrapModule(s8).catch(t=>console.error(t))},6475:(ke,oe,w)=>{w.d(oe,{k:()=>v});class v{constructor(){this.cache=new Map}getItem(D){return this.cache.get(D)||null}setItem(D,N){this.cache.set(D,N)}removeItem(D){this.cache.delete(D)}getKeys(){const D=[];return this.cache.forEach((N,L)=>{D.push(L)}),D}containsKey(D){return this.cache.has(D)}clear(){this.cache.clear()}}},7803:(ke,oe,w)=>{w.d(oe,{Is:()=>K,_7:()=>ee});var v=w(5500),g=w(6132),D=w(2286),N=w(4630),L=w(6703),O=w(5140),B=w(5841);const y={sendGetRequestAsync:()=>Promise.reject((0,O.zP)(B.M2)),sendPostRequestAsync:()=>Promise.reject((0,O.zP)(B.M2))};var I=w(7979);class X{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class x{generateId(){return"callback-id"}startMeasurement(de,he){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:I.$L.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:de,startTimeMs:Date.now(),correlationId:he||""},measurement:new X}}startPerformanceMeasurement(){return new X}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var ne=w(4680),Ce=w(7299),ue=w(8593);class P{navigateInternal(de,he){return P.defaultNavigateWindow(de,he)}navigateExternal(de,he){return P.defaultNavigateWindow(de,he)}static defaultNavigateWindow(de,he){return he.noHistory?window.location.replace(de):window.location.assign(de),new Promise(G=>{setTimeout(()=>{G(!0)},he.timeout)})}}var De=w(5861),b=w(8293),M=w(7377);class J{sendGetRequestAsync(de,he){var G=this;return(0,De.Z)(function*(){let se;try{se=yield fetch(de,{method:ue.EC.GET,headers:G.getFetchHeaders(he)})}catch{throw window.navigator.onLine?(0,b.Z_)(M.C8):(0,b.Z_)(M.Mq)}try{return{headers:G.getHeaderDict(se.headers),body:yield se.json(),status:se.status}}catch{throw(0,b.Z_)(M.w6)}})()}sendPostRequestAsync(de,he){var G=this;return(0,De.Z)(function*(){const se=he&&he.body||v.gT.EMPTY_STRING;let ce;try{ce=yield fetch(de,{method:ue.EC.POST,headers:G.getFetchHeaders(he),body:se})}catch{throw window.navigator.onLine?(0,b.Z_)(M.Dc):(0,b.Z_)(M.Mq)}try{return{headers:G.getHeaderDict(ce.headers),body:yield ce.json(),status:ce.status}}catch{throw(0,b.Z_)(M.w6)}})()}getFetchHeaders(de){const he=new Headers;if(!de||!de.headers)return he;const G=de.headers;return Object.keys(G).forEach(se=>{he.append(se,G[se])}),he}getHeaderDict(de){const he={};return de.forEach((G,se)=>{he[se]=G}),he}}const Q=6e4,K=1e4,re=3e4,V=2e3;function ee({auth:ie,cache:de,system:he,telemetry:G},se){const ce={clientId:v.gT.EMPTY_STRING,authority:`${v.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:v.gT.EMPTY_STRING,authorityMetadata:v.gT.EMPTY_STRING,redirectUri:v.gT.EMPTY_STRING,postLogoutRedirectUri:v.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:g.A.AAD,OIDCOptions:{serverResponseType:v.rg.FRAGMENT,defaultScopes:[v.gT.OPENID_SCOPE,v.gT.PROFILE_SCOPE,v.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:D.z.None,tenant:v.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},_e={cacheLocation:ue.Ix.SessionStorage,temporaryCacheLocation:ue.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!de||de.cacheLocation!==ue.Ix.LocalStorage),claimsBasedCachingEnabled:!1},Te={loggerCallback:()=>{},logLevel:N.i.Info,piiLoggingEnabled:!1},Se={...{...L.z,loggerOptions:Te,networkClient:se?new J:y,navigationClient:new P,loadFrameTimeout:0,windowHashTimeout:he?.loadFrameTimeout||Q,iframeHashTimeout:he?.loadFrameTimeout||K,navigateFrameWait:0,redirectNavigationTimeout:re,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:he?.nativeBrokerHandshakeTimeout||V,pollIntervalMilliseconds:ue.qx.DEFAULT_POLL_INTERVAL_MS},...he,loggerOptions:he?.loggerOptions||Te},nt={application:{appName:v.gT.EMPTY_STRING,appVersion:v.gT.EMPTY_STRING},client:new x};if(ie?.protocolMode!==g.A.OIDC&&ie?.OIDCOptions&&new N.Y(Se.loggerOptions).warning(JSON.stringify((0,ne.ei)(Ce.qz))),ie?.protocolMode&&ie.protocolMode!==g.A.AAD&&Se?.allowNativeBroker)throw(0,ne.ei)(Ce.Ol);return{auth:{...ce,...ie,OIDCOptions:{...ce.OIDCOptions,...ie?.OIDCOptions}},cache:{..._e,...de},system:Se,telemetry:{...nt,...G}}}},8913:(ke,oe,w)=>{w.r(oe),w.d(oe,{StandardController:()=>co});var v=w(5861),g=w(7883),D=w(8214),N=w(63),O=w(7581),B=w(5140),y=w(5500),I=w(1322),X=w(4680),x=w(6132),ne=w(2286),P=w(7979);const De=(H,c,l,d,p)=>(..._)=>{l.trace(`Executing function ${c}`);const C=d?.startMeasurement(c,p);if(p){const S=c+"CallCount";d?.incrementFields({[S]:1},p)}try{const S=H(..._);return C?.end({success:!0}),l.trace(`Returning result from ${c}`),S}catch(S){l.trace(`Error occurred in ${c}`);try{l.trace(JSON.stringify(S))}catch{l.trace("Unable to print error message.")}throw C?.end({success:!1},S),S}},b=(H,c,l,d,p)=>(..._)=>{l.trace(`Executing function ${c}`);const C=d?.startMeasurement(c,p);if(p){const S=c+"CallCount";d?.incrementFields({[S]:1},p)}return d?.setPreQueueTime(c,p),H(..._).then(S=>(l.trace(`Returning result from ${c}`),C?.end({success:!0}),S)).catch(S=>{l.trace(`Error occurred in ${c}`);try{l.trace(JSON.stringify(S))}catch{l.trace("Unable to print error message.")}throw C?.end({success:!1},S),S})};let M=(()=>{class H{constructor(l,d,p,_){this.networkInterface=l,this.logger=d,this.performanceClient=p,this.correlationId=_}detectRegion(l,d){var p=this;return(0,v.Z)(function*(){p.performanceClient?.addQueueMeasurement(P.Ak.RegionDiscoveryDetectRegion,p.correlationId);let _=l;if(_)d.region_source=y.W.ENVIRONMENT_VARIABLE;else{const C=H.IMDS_OPTIONS;try{const S=yield b(p.getRegionFromIMDS.bind(p),P.Ak.RegionDiscoveryGetRegionFromIMDS,p.logger,p.performanceClient,p.correlationId)(y.gT.IMDS_VERSION,C);if(S.status===y.YY.httpSuccess&&(_=S.body,d.region_source=y.W.IMDS),S.status===y.YY.httpBadRequest){const z=yield b(p.getCurrentVersion.bind(p),P.Ak.RegionDiscoveryGetCurrentVersion,p.logger,p.performanceClient,p.correlationId)(C);if(!z)return d.region_source=y.W.FAILED_AUTO_DETECTION,null;const q=yield b(p.getRegionFromIMDS.bind(p),P.Ak.RegionDiscoveryGetRegionFromIMDS,p.logger,p.performanceClient,p.correlationId)(z,C);q.status===y.YY.httpSuccess&&(_=q.body,d.region_source=y.W.IMDS)}}catch{return d.region_source=y.W.FAILED_AUTO_DETECTION,null}}return _||(d.region_source=y.W.FAILED_AUTO_DETECTION),_||null})()}getRegionFromIMDS(l,d){var p=this;return(0,v.Z)(function*(){return p.performanceClient?.addQueueMeasurement(P.Ak.RegionDiscoveryGetRegionFromIMDS,p.correlationId),p.networkInterface.sendGetRequestAsync(`${y.gT.IMDS_ENDPOINT}?api-version=${l}&format=text`,d,y.gT.IMDS_TIMEOUT)})()}getCurrentVersion(l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.RegionDiscoveryGetCurrentVersion,d.correlationId);try{const p=yield d.networkInterface.sendGetRequestAsync(`${y.gT.IMDS_ENDPOINT}?format=json`,l);return p.status===y.YY.httpBadRequest&&p.body&&p.body["newest-versions"]&&p.body["newest-versions"].length>0?p.body["newest-versions"][0]:null}catch{return null}})()}}return H.IMDS_OPTIONS={headers:{Metadata:"true"}},H})();var J=w(7481),Q=w(8821),K=w(5841),re=w(7299);class V{constructor(c,l,d,p,_,C,S,z){this.canonicalAuthority=c,this._canonicalAuthority.validateAsUri(),this.networkInterface=l,this.cacheManager=d,this.authorityOptions=p,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=_,this.performanceClient=S,this.correlationId=C,this.managedIdentity=z||!1,this.regionDiscovery=new M(l,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(c){if(c.HostNameAndPort.endsWith(y.gT.CIAM_AUTH_URL))return N.a.Ciam;const l=c.PathSegments;if(l.length)switch(l[0].toLowerCase()){case y.gT.ADFS:return N.a.Adfs;case y.gT.DSTS:return N.a.Dsts}return N.a.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(c){this._canonicalAuthority=new O.G(c),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw(0,B.zP)(K.HO)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw(0,B.zP)(K.HO)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw(0,B.zP)(K.HO)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw(0,B.zP)(K.ig);return this.replacePath(this.metadata.end_session_endpoint)}throw(0,B.zP)(K.HO)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw(0,B.zP)(K.HO)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw(0,B.zP)(K.HO)}canReplaceTenant(c){return 1===c.PathSegments.length&&!V.reservedTenantDomains.has(c.PathSegments[0])&&this.getAuthorityType(c)===N.a.Default&&this.protocolMode===x.A.AAD}replaceTenant(c){return c.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(c){let l=c;const p=new O.G(this.metadata.canonical_authority).getUrlComponents(),_=p.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((S,z)=>{let q=_[z];if(0===z&&this.canReplaceTenant(p)){const W=new O.G(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];q!==W&&(this.logger.verbose(`Replacing tenant domain name ${q} with id ${W}`),q=W)}S!==q&&(l=l.replace(`/${q}/`,`/${S}/`))}),this.replaceTenant(l)}get defaultOpenIdConfigurationEndpoint(){const c=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===N.a.Adfs||this.protocolMode!==x.A.AAD&&!this.isAliasOfKnownMicrosoftAuthority(c)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(P.Ak.AuthorityResolveEndpointsAsync,c.correlationId);const l=c.getCurrentMetadataEntity(),d=yield b(c.updateCloudDiscoveryMetadata.bind(c),P.Ak.AuthorityUpdateCloudDiscoveryMetadata,c.logger,c.performanceClient,c.correlationId)(l);c.canonicalAuthority=c.canonicalAuthority.replace(c.hostnameAndPort,l.preferred_network);const p=yield b(c.updateEndpointMetadata.bind(c),P.Ak.AuthorityUpdateEndpointMetadata,c.logger,c.performanceClient,c.correlationId)(l);c.updateCachedMetadata(l,d,{source:p}),c.performanceClient?.addFields({cloudDiscoverySource:d,authorityEndpointSource:p},c.correlationId)})()}getCurrentMetadataEntity(){let c=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return c||(c={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:(0,Q.Rw)(),jwks_uri:""}),c}updateCachedMetadata(c,l,d){l!==y.pQ.CACHE&&d?.source!==y.pQ.CACHE&&(c.expiresAt=(0,Q.Rw)(),c.canonical_authority=this.canonicalAuthority);const p=this.cacheManager.generateAuthorityMetadataCacheKey(c.preferred_cache);this.cacheManager.setAuthorityMetadata(p,c),this.metadata=c}updateEndpointMetadata(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.AuthorityUpdateEndpointMetadata,l.correlationId);const d=l.updateEndpointMetadataFromLocalSources(c);if(d){if(d.source===y.pQ.HARDCODED_VALUES&&l.authorityOptions.azureRegionConfiguration?.azureRegion&&d.metadata){const _=yield b(l.updateMetadataWithRegionalInformation.bind(l),P.Ak.AuthorityUpdateMetadataWithRegionalInformation,l.logger,l.performanceClient,l.correlationId)(d.metadata);(0,Q.xc)(c,_,!1),c.canonical_authority=l.canonicalAuthority}return d.source}let p=yield b(l.getEndpointMetadataFromNetwork.bind(l),P.Ak.AuthorityGetEndpointMetadataFromNetwork,l.logger,l.performanceClient,l.correlationId)();if(p)return l.authorityOptions.azureRegionConfiguration?.azureRegion&&(p=yield b(l.updateMetadataWithRegionalInformation.bind(l),P.Ak.AuthorityUpdateMetadataWithRegionalInformation,l.logger,l.performanceClient,l.correlationId)(p)),(0,Q.xc)(c,p,!0),y.pQ.NETWORK;throw(0,B.zP)(K.Ce,l.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(c){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const l=this.getEndpointMetadataFromConfig();if(l)return this.logger.verbose("Found endpoint metadata in authority configuration"),(0,Q.xc)(c,l,!1),{source:y.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const p=this.getEndpointMetadataFromHardcodedValues();if(p)return(0,Q.xc)(c,p,!1),{source:y.pQ.HARDCODED_VALUES,metadata:p};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const d=(0,Q.k5)(c);return this.isAuthoritySameType(c)&&c.endpointsFromNetwork&&!d?(this.logger.verbose("Found endpoint metadata in the cache."),{source:y.pQ.CACHE}):(d&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(c){return new O.G(c.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw(0,X.ei)(re.zx)}return null}getEndpointMetadataFromNetwork(){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(P.Ak.AuthorityGetEndpointMetadataFromNetwork,c.correlationId);const l={},d=c.defaultOpenIdConfigurationEndpoint;c.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${d}`);try{const p=yield c.networkInterface.sendGetRequestAsync(d,l);return function L(H){return H.hasOwnProperty("authorization_endpoint")&&H.hasOwnProperty("token_endpoint")&&H.hasOwnProperty("issuer")&&H.hasOwnProperty("jwks_uri")}(p.body)?p.body:(c.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(p){return c.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${p}`),null}})()}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in I.Qh?I.Qh[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.AuthorityUpdateMetadataWithRegionalInformation,l.correlationId);const d=l.authorityOptions.azureRegionConfiguration?.azureRegion;if(d){if(d!==y.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return l.regionDiscoveryMetadata.region_outcome=y.ki.CONFIGURED_NO_AUTO_DETECTION,l.regionDiscoveryMetadata.region_used=d,V.replaceWithRegionalInformation(c,d);const p=yield b(l.regionDiscovery.detectRegion.bind(l.regionDiscovery),P.Ak.RegionDiscoveryDetectRegion,l.logger,l.performanceClient,l.correlationId)(l.authorityOptions.azureRegionConfiguration?.environmentRegion,l.regionDiscoveryMetadata);if(p)return l.regionDiscoveryMetadata.region_outcome=y.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,l.regionDiscoveryMetadata.region_used=p,V.replaceWithRegionalInformation(c,p);l.regionDiscoveryMetadata.region_outcome=y.ki.AUTO_DETECTION_REQUESTED_FAILED}return c})()}updateCloudDiscoveryMetadata(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.AuthorityUpdateCloudDiscoveryMetadata,l.correlationId);const d=l.updateCloudDiscoveryMetadataFromLocalSources(c);if(d)return d;const p=yield b(l.getCloudDiscoveryMetadataFromNetwork.bind(l),P.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,l.logger,l.performanceClient,l.correlationId)();if(p)return(0,Q.Cd)(c,p,!0),y.pQ.NETWORK;throw(0,X.ei)(re.o_)})()}updateCloudDiscoveryMetadataFromLocalSources(c){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||y.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||y.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${c.canonical_authority||y.gT.NOT_APPLICABLE}`);const l=this.getCloudDiscoveryMetadataFromConfig();if(l)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),(0,Q.Cd)(c,l,!1),y.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const p=(0,I.ix)(this.hostnameAndPort);if(p)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),(0,Q.Cd)(c,p,!1),y.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const d=(0,Q.k5)(c);return this.isAuthoritySameType(c)&&c.aliasesFromNetwork&&!d?(this.logger.verbose("Found cloud discovery metadata in the cache."),y.pQ.CACHE):(d&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===N.a.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),V.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const c=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),l=(0,I.eM)(c.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),l)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),l;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),(0,X.ei)(re.E)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),V.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(P.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,c.correlationId);const l=`${y.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${c.canonicalAuthority}oauth2/v2.0/authorize`,d={};let p=null;try{const _=yield c.networkInterface.sendGetRequestAsync(l,d);let C,S;if(function Ce(H){return H.hasOwnProperty("tenant_discovery_endpoint")&&H.hasOwnProperty("metadata")}(_.body))C=_.body,S=C.metadata,c.logger.verbosePii(`tenant_discovery_endpoint is: ${C.tenant_discovery_endpoint}`);else{if(!function ue(H){return H.hasOwnProperty("error")&&H.hasOwnProperty("error_description")}(_.body))return c.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(c.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${_.status}`),C=_.body,C.error===y.gT.INVALID_INSTANCE)return c.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;c.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${C.error}`),c.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${C.error_description}`),c.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),S=[]}c.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),p=(0,I.eM)(S,c.hostnameAndPort)}catch(_){return c.logger.error(_ instanceof J.l4?`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${_.errorCode}\nError Description: ${_.errorMessage}`:`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${_.name}\nError Description: ${_.message}`),null}return p||(c.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),c.logger.verbose("Creating custom Authority for custom domain scenario."),p=V.createCloudDiscoveryMetadataFromHost(c.hostnameAndPort)),p})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(l=>l&&O.G.getDomainFromUrl(l).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(c,l){let d;return l&&l.azureCloudInstance!==ne.z.None&&(d=`${l.azureCloudInstance}/${l.tenant?l.tenant:y.gT.DEFAULT_COMMON_TENANT}/`),d||c}static createCloudDiscoveryMetadataFromHost(c){return{preferred_network:c,preferred_cache:c,aliases:[c]}}getPreferredCache(){if(this.managedIdentity)return y.gT.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw(0,B.zP)(K.HO)}isAlias(c){return this.metadata.aliases.indexOf(c)>-1}isAliasOfKnownMicrosoftAuthority(c){return I.wn.has(c)}static isPublicCloudAuthority(c){return y.gT.KNOWN_PUBLIC_CLOUDS.indexOf(c)>=0}static buildRegionalAuthorityString(c,l,d){const p=new O.G(c);p.validateAsUri();const _=p.getUrlComponents();let C=`${l}.${_.HostNameAndPort}`;this.isPublicCloudAuthority(_.HostNameAndPort)&&(C=`${l}.${y.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const S=O.G.constructAuthorityUriFromObject({...p.getUrlComponents(),HostNameAndPort:C}).urlString;return d?`${S}?${d}`:S}static replaceWithRegionalInformation(c,l){const d={...c};return d.authorization_endpoint=V.buildRegionalAuthorityString(d.authorization_endpoint,l),d.token_endpoint=V.buildRegionalAuthorityString(d.token_endpoint,l),d.end_session_endpoint&&(d.end_session_endpoint=V.buildRegionalAuthorityString(d.end_session_endpoint,l)),d}static transformCIAMAuthority(c){let l=c;const p=new O.G(c).getUrlComponents();return 0===p.PathSegments.length&&p.HostNameAndPort.endsWith(y.gT.CIAM_AUTH_URL)&&(l=`${l}${p.HostNameAndPort.split(".")[0]}${y.gT.AAD_TENANT_DOMAIN_SUFFIX}`),l}}function ie(H){return H.endsWith(y.gT.FORWARD_SLASH)?H:`${H}${y.gT.FORWARD_SLASH}`}V.reservedTenantDomains=new Set(["{tenant}","{tenantid}",y.Nb.COMMON,y.Nb.CONSUMERS,y.Nb.ORGANIZATIONS]);var he=w(544),G=w(6603),se=w(6490),ce=w(9723),_e=w(9092);class Te{static setRequestState(c,l,d){const p=Te.generateLibraryState(c,d);return l?`${p}${y.gT.RESOURCE_DELIM}${l}`:p}static generateLibraryState(c,l){if(!c)throw(0,B.zP)(K.QL);const d={id:c.createNewGuid()};l&&(d.meta=l);const p=JSON.stringify(d);return c.base64Encode(p)}static parseRequestState(c,l){if(!c)throw(0,B.zP)(K.QL);if(!l)throw(0,B.zP)(K.r8);try{const d=l.split(y.gT.RESOURCE_DELIM),p=d[0],_=d.length>1?d.slice(1).join(y.gT.RESOURCE_DELIM):y.gT.EMPTY_STRING,C=c.base64Decode(p),S=JSON.parse(C);return{userRequestState:_||y.gT.EMPTY_STRING,libraryState:S}}catch{throw(0,B.zP)(K.r8)}}}var Se=w(9082);class nt{constructor(c,l,d,p,_){this.account=c||null,this.idToken=l||null,this.accessToken=d||null,this.refreshToken=p||null,this.appMetadata=_||null}}var Wt=w(8562),ye=w(8293),F=w(8593),je=w(3325),Mn=w(3094);class dn{constructor(c){this.validateWindowStorage(c),this.windowStorage=window[c]}validateWindowStorage(c){if(c!==F.Ix.LocalStorage&&c!==F.Ix.SessionStorage||!window[c])throw(0,je.Z1)(Mn.m4)}getItem(c){return this.windowStorage.getItem(c)}setItem(c,l){this.windowStorage.setItem(c,l)}removeItem(c){this.windowStorage.removeItem(c)}getKeys(){return Object.keys(this.windowStorage)}containsKey(c){return this.windowStorage.hasOwnProperty(c)}}var rt=w(6475);function ze(H,c){if(!c)return null;try{return Te.parseRequestState(H,c).libraryState.meta}catch{throw(0,B.zP)(K.r8)}}var qt=w(6787),Ke=w(1173),Re=w(7377);class ro extends ce.L{constructor(c,l,d,p,_,C){super(c,d,p,_),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=l,this.logger=p,this.internalStorage=new rt.k,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),l.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=C}setupBrowserStorage(c){switch(c){case F.Ix.LocalStorage:case F.Ix.SessionStorage:try{return new dn(c)}catch(l){this.logger.verbose(l);break}}return this.cacheConfig.cacheLocation=F.Ix.MemoryStorage,new rt.k}setupTemporaryCacheStorage(c,l){switch(l){case F.Ix.LocalStorage:case F.Ix.SessionStorage:try{return new dn(c||F.Ix.SessionStorage)}catch(d){return this.logger.verbose(d),this.internalStorage}default:return this.internalStorage}}migrateCacheEntries(){const l=`${y.gT.CACHE_PREFIX}.${y.Vi.CLIENT_INFO}`,d=`${y.gT.CACHE_PREFIX}.${y.Vi.ERROR}`,p=`${y.gT.CACHE_PREFIX}.${y.Vi.ERROR_DESC}`,q=[this.browserStorage.getItem(`${y.gT.CACHE_PREFIX}.${y.Vi.ID_TOKEN}`),this.browserStorage.getItem(l),this.browserStorage.getItem(d),this.browserStorage.getItem(p)];[y.Vi.ID_TOKEN,y.Vi.CLIENT_INFO,y.Vi.ERROR,y.Vi.ERROR_DESC].forEach((we,Ne)=>{const Ye=q[Ne];Ye&&this.setTemporaryCache(we,Ye,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const c=this.getItem(F.Oq.ACCOUNT_KEYS),l=this.getItem(`${F.Oq.TOKEN_KEYS}.${this.clientId}`);c&&l?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(p=>{if(this.isCredentialKey(p)){const _=this.getItem(p);if(_){const C=this.validateAndParseJson(_);if(C&&C.hasOwnProperty("credentialType"))switch(C.credentialType){case y.d3.ID_TOKEN:if(Q.Bq(C)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,C);return void this.addTokenKey(z,y.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${p}`);break;case y.d3.ACCESS_TOKEN:case y.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(Q.Om(C)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,C);return void this.addTokenKey(z,y.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${p}`);break;case y.d3.REFRESH_TOKEN:if(Q.x4(C)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,C);return void this.addTokenKey(z,y.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${p}`)}}}if(this.isAccountKey(p)){const _=this.getItem(p);if(_){const C=this.validateAndParseJson(_);C&&G.r.isAccountEntity(C)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${p} found, saving key to account key map`),this.addAccountKeyToMap(p))}}})}validateAndParseJson(c){try{const l=JSON.parse(c);return l&&"object"==typeof l?l:null}catch{return null}}getItem(c){return this.browserStorage.getItem(c)}setItem(c,l){this.browserStorage.setItem(c,l)}getAccount(c,l){this.logger.trace("BrowserCacheManager.getAccount called");const d=this.getCachedAccountEntity(c);return this.updateOutdatedCachedAccount(c,d,l)}getCachedAccountEntity(c){const l=this.getItem(c);if(!l)return this.removeAccountKeyFromMap(c),null;const d=this.validateAndParseJson(l);return d&&G.r.isAccountEntity(d)?ce.L.toObject(new G.r,d):(this.removeAccountKeyFromMap(c),null)}setAccount(c){this.logger.trace("BrowserCacheManager.setAccount called");const l=c.generateAccountKey();this.setItem(l,JSON.stringify(c)),this.addAccountKeyToMap(l)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const c=this.getItem(F.Oq.ACCOUNT_KEYS);return c?JSON.parse(c):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(c){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${c}`);const l=this.getAccountKeys();-1===l.indexOf(c)?(l.push(c),this.setItem(F.Oq.ACCOUNT_KEYS,JSON.stringify(l)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(c){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${c}`);const l=this.getAccountKeys(),d=l.indexOf(c);d>-1?(l.splice(d,1),this.setItem(F.Oq.ACCOUNT_KEYS,JSON.stringify(l)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(c){var l=()=>super.removeAccount,d=this;return(0,v.Z)(function*(){l().call(d,c),d.removeAccountKeyFromMap(c)})()}removeOutdatedAccount(c){this.removeItem(c),this.removeAccountKeyFromMap(c)}removeIdToken(c){super.removeIdToken(c),this.removeTokenKey(c,y.d3.ID_TOKEN)}removeAccessToken(c){var l=()=>super.removeAccessToken,d=this;return(0,v.Z)(function*(){l().call(d,c),d.removeTokenKey(c,y.d3.ACCESS_TOKEN)})()}removeRefreshToken(c){super.removeRefreshToken(c),this.removeTokenKey(c,y.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const c=this.getItem(`${F.Oq.TOKEN_KEYS}.${this.clientId}`);if(c){const l=this.validateAndParseJson(c);if(l&&l.hasOwnProperty("idToken")&&l.hasOwnProperty("accessToken")&&l.hasOwnProperty("refreshToken"))return l;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(c,l){this.logger.trace("BrowserCacheManager addTokenKey called");const d=this.getTokenKeys();switch(l){case y.d3.ID_TOKEN:-1===d.idToken.indexOf(c)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),d.idToken.push(c));break;case y.d3.ACCESS_TOKEN:-1===d.accessToken.indexOf(c)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),d.accessToken.push(c));break;case y.d3.REFRESH_TOKEN:-1===d.refreshToken.indexOf(c)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),d.refreshToken.push(c));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${l}`),(0,B.zP)(K.cy)}this.setItem(`${F.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(d))}removeTokenKey(c,l){this.logger.trace("BrowserCacheManager removeTokenKey called");const d=this.getTokenKeys();switch(l){case y.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${c} from map`);const p=d.idToken.indexOf(c);p>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),d.idToken.splice(p,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case y.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${c} from map`);const _=d.accessToken.indexOf(c);_>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),d.accessToken.splice(_,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case y.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${c} from map`);const C=d.refreshToken.indexOf(c);C>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),d.refreshToken.splice(C,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${l}`),(0,B.zP)(K.cy)}this.setItem(`${F.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(d))}getIdTokenCredential(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.ID_TOKEN),null;const d=this.validateAndParseJson(l);return d&&Q.Bq(d)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),d):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.ID_TOKEN),null)}setIdTokenCredential(c){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const l=Q.Mk(c);this.setItem(l,JSON.stringify(c)),this.addTokenKey(l,y.d3.ID_TOKEN)}getAccessTokenCredential(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.ACCESS_TOKEN),null;const d=this.validateAndParseJson(l);return d&&Q.Om(d)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),d):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(c){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const l=Q.Mk(c);this.setItem(l,JSON.stringify(c)),this.addTokenKey(l,y.d3.ACCESS_TOKEN)}getRefreshTokenCredential(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.REFRESH_TOKEN),null;const d=this.validateAndParseJson(l);return d&&Q.x4(d)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),d):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(c,y.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(c){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const l=Q.Mk(c);this.setItem(l,JSON.stringify(c)),this.addTokenKey(l,y.d3.REFRESH_TOKEN)}getAppMetadata(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const d=this.validateAndParseJson(l);return d&&Q.ZL(c,d)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),d):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(c){this.logger.trace("BrowserCacheManager.setAppMetadata called");const l=Q.Ox(c);this.setItem(l,JSON.stringify(c))}getServerTelemetry(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const d=this.validateAndParseJson(l);return d&&Q.Js(c,d)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),d):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(c,l){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(c,JSON.stringify(l))}getAuthorityMetadata(c){const l=this.internalStorage.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const d=this.validateAndParseJson(l);return d&&Q.FK(c,d)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),d):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(l=>this.isAuthorityMetadata(l))}setWrapperMetadata(c,l){this.internalStorage.setItem(F.Bs.WRAPPER_SKU,c),this.internalStorage.setItem(F.Bs.WRAPPER_VER,l)}getWrapperMetadata(){return[this.internalStorage.getItem(F.Bs.WRAPPER_SKU)||y.gT.EMPTY_STRING,this.internalStorage.getItem(F.Bs.WRAPPER_VER)||y.gT.EMPTY_STRING]}setAuthorityMetadata(c,l){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(c,JSON.stringify(l))}getActiveAccount(){const c=this.generateCacheKey(y.Vi.ACTIVE_ACCOUNT_FILTERS),l=this.getItem(c);if(!l){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const p=this.generateCacheKey(y.Vi.ACTIVE_ACCOUNT),_=this.getItem(p);if(!_)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const C=this.getAccountInfoFilteredBy({localAccountId:_});return C?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(C),C):null}const d=this.validateAndParseJson(l);return d?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:d.homeAccountId,localAccountId:d.localAccountId,tenantId:d.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(c){const l=this.generateCacheKey(y.Vi.ACTIVE_ACCOUNT_FILTERS),d=this.generateCacheKey(y.Vi.ACTIVE_ACCOUNT);c?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(l,JSON.stringify({homeAccountId:c.homeAccountId,localAccountId:c.localAccountId,tenantId:c.tenantId})),this.browserStorage.setItem(d,c.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(l),this.browserStorage.removeItem(d))}getThrottlingCache(c){const l=this.getItem(c);if(!l)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const d=this.validateAndParseJson(l);return d&&Q.VQ(c,d)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),d):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(c,l){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(c,JSON.stringify(l))}getTemporaryCache(c,l){const d=l?this.generateCacheKey(c):c;if(this.cacheConfig.storeAuthStateInCookie){const _=this.getItemCookie(d);if(_)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),_}const p=this.temporaryCacheStorage.getItem(d);if(!p){if(this.cacheConfig.cacheLocation===F.Ix.LocalStorage){const _=this.browserStorage.getItem(d);if(_)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),_}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),p}setTemporaryCache(c,l,d){const p=d?this.generateCacheKey(c):c;this.temporaryCacheStorage.setItem(p,l),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(p,l))}removeItem(c){this.browserStorage.removeItem(c)}removeTemporaryItem(c){this.temporaryCacheStorage.removeItem(c),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(c))}getKeys(){return this.browserStorage.getKeys()}clear(){var c=this;return(0,v.Z)(function*(){yield c.removeAllAccounts(),c.removeAppMetadata(),c.temporaryCacheStorage.getKeys().forEach(l=>{(-1!==l.indexOf(y.gT.CACHE_PREFIX)||-1!==l.indexOf(c.clientId))&&c.removeTemporaryItem(l)}),c.browserStorage.getKeys().forEach(l=>{(-1!==l.indexOf(y.gT.CACHE_PREFIX)||-1!==l.indexOf(c.clientId))&&c.browserStorage.removeItem(l)}),c.internalStorage.clear()})()}clearTokensAndKeysWithClaims(c){var l=this;return(0,v.Z)(function*(){c.addQueueMeasurement(P.Ak.ClearTokensAndKeysWithClaims);const d=l.getTokenKeys(),p=[];d.accessToken.forEach(_=>{const C=l.getAccessTokenCredential(_);C?.requestedClaimsHash&&_.includes(C.requestedClaimsHash.toLowerCase())&&p.push(l.removeAccessToken(_))}),yield Promise.all(p),p.length>0&&l.logger.warning(`${p.length} access tokens with claims in the cache keys have been removed from the cache.`)})()}setItemCookie(c,l,d){let p=`${encodeURIComponent(c)}=${encodeURIComponent(l)};path=/;SameSite=Lax;`;d&&(p+=`expires=${this.getCookieExpirationTime(d)};`),this.cacheConfig.secureCookies&&(p+="Secure;"),document.cookie=p}getItemCookie(c){const l=`${encodeURIComponent(c)}=`,d=document.cookie.split(";");for(let p=0;p<d.length;p++){let _=d[p];for(;" "===_.charAt(0);)_=_.substring(1);if(0===_.indexOf(l))return decodeURIComponent(_.substring(l.length,_.length))}return y.gT.EMPTY_STRING}clearMsalCookies(){const c=`${y.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(d=>{for(;" "===d.charAt(0);)d=d.substring(1);if(0===d.indexOf(c)){const p=d.split("=")[0];this.clearItemCookie(p)}})}clearItemCookie(c){this.setItemCookie(c,y.gT.EMPTY_STRING,-1)}getCookieExpirationTime(c){return new Date((new Date).getTime()+c*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(c){return this.validateAndParseJson(c)?JSON.stringify(c):_e.x.startsWith(c,y.gT.CACHE_PREFIX)||_e.x.startsWith(c,y.Vi.ADAL_ID_TOKEN)?c:`${y.gT.CACHE_PREFIX}.${this.clientId}.${c}`}generateAuthorityKey(c){const{libraryState:{id:l}}=Te.parseRequestState(this.cryptoImpl,c);return this.generateCacheKey(`${F.c4.AUTHORITY}.${l}`)}generateNonceKey(c){const{libraryState:{id:l}}=Te.parseRequestState(this.cryptoImpl,c);return this.generateCacheKey(`${F.c4.NONCE_IDTOKEN}.${l}`)}generateStateKey(c){const{libraryState:{id:l}}=Te.parseRequestState(this.cryptoImpl,c);return this.generateCacheKey(`${F.c4.REQUEST_STATE}.${l}`)}getCachedAuthority(c){const l=this.generateStateKey(c),d=this.getTemporaryCache(l);if(!d)return null;const p=this.generateAuthorityKey(d);return this.getTemporaryCache(p)}updateCacheEntries(c,l,d,p,_){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const C=this.generateStateKey(c);this.setTemporaryCache(C,c,!1);const S=this.generateNonceKey(c);this.setTemporaryCache(S,l,!1);const z=this.generateAuthorityKey(c);this.setTemporaryCache(z,d,!1),_?this.setTemporaryCache(F.c4.CCS_CREDENTIAL,JSON.stringify({credential:_.homeAccountId,type:"home_account_id"}),!0):p&&this.setTemporaryCache(F.c4.CCS_CREDENTIAL,JSON.stringify({credential:p,type:"UPN"}),!0)}resetRequestCache(c){this.logger.trace("BrowserCacheManager.resetRequestCache called"),c&&(this.temporaryCacheStorage.getKeys().forEach(l=>{-1!==l.indexOf(c)&&this.removeTemporaryItem(l)}),this.removeTemporaryItem(this.generateStateKey(c)),this.removeTemporaryItem(this.generateNonceKey(c)),this.removeTemporaryItem(this.generateAuthorityKey(c))),this.removeTemporaryItem(this.generateCacheKey(F.c4.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(F.c4.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(F.c4.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(F.c4.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(F.c4.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(F.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(c){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),c){const l=this.generateStateKey(c),d=this.temporaryCacheStorage.getItem(l);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${d}`),this.resetRequestCache(d||y.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(c){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(l=>{if(-1===l.indexOf(F.c4.REQUEST_STATE))return;const d=this.temporaryCacheStorage.getItem(l);if(!d)return;const p=ze(this.cryptoImpl,d);p&&p.interactionType===c&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${d}`),this.resetRequestCache(d))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(c){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const l=(0,Ke.h$)(JSON.stringify(c));this.setTemporaryCache(F.c4.REQUEST_PARAMS,l,!0)}getCachedRequest(c){this.logger.trace("BrowserCacheManager.getCachedRequest called");const l=this.getTemporaryCache(F.c4.REQUEST_PARAMS,!0);if(!l)throw(0,ye.Z_)(Re.QO);let d;try{d=JSON.parse((0,qt.t)(l))}catch(p){throw this.logger.errorPii(`Attempted to parse: ${l}`),this.logger.error(`Parsing cached token request threw with error: ${p}`),(0,ye.Z_)(Re.e$)}if(this.removeTemporaryItem(this.generateCacheKey(F.c4.REQUEST_PARAMS)),!d.authority){const p=this.generateAuthorityKey(c),_=this.getTemporaryCache(p);if(!_)throw(0,ye.Z_)(Re.dT);d.authority=_}return d}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const c=this.getTemporaryCache(F.c4.NATIVE_REQUEST,!0);return c?this.validateAndParseJson(c)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(c){const l=this.getInteractionInProgress();return c?l===this.clientId:!!l}getInteractionInProgress(){return this.getTemporaryCache(`${y.gT.CACHE_PREFIX}.${F.c4.INTERACTION_STATUS_KEY}`,!1)}setInteractionInProgress(c){const l=`${y.gT.CACHE_PREFIX}.${F.c4.INTERACTION_STATUS_KEY}`;if(c){if(this.getInteractionInProgress())throw(0,ye.Z_)(Re.Ck);this.setTemporaryCache(l,this.clientId,!1)}else!c&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(l)}getLegacyLoginHint(){const c=this.getTemporaryCache(y.Vi.ADAL_ID_TOKEN);c&&(this.browserStorage.removeItem(y.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const l=this.getTemporaryCache(y.Vi.ID_TOKEN,!0);l&&(this.browserStorage.removeItem(this.generateCacheKey(y.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const d=l||c;if(d){const p=Se.Z_(d,qt.t);if(p.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),p.preferred_username;if(p.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),p.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(c,l){const d=Q.Mk(l);if(c!==d){const p=this.getItem(c);if(p)return this.browserStorage.removeItem(c),this.setItem(d,p),this.logger.verbose(`Updated an outdated ${l.credentialType} cache key`),d;this.logger.error(`Attempted to update an outdated ${l.credentialType} cache key but no item matching the outdated key was found in storage`)}return c}hydrateCache(c,l){var d=this;return(0,v.Z)(function*(){const p=Q.Md(c.account?.homeAccountId,c.account?.environment,c.idToken,d.clientId,c.tenantId);let _;l.claims&&(_=yield d.cryptoImpl.hashString(l.claims));const C=Q.Ds(c.account?.homeAccountId,c.account.environment,c.accessToken,d.clientId,c.tenantId,c.scopes.join(" "),c.expiresOn?.getTime()||0,c.extExpiresOn?.getTime()||0,qt.t,void 0,c.tokenType,void 0,l.sshKid,l.claims,_),S=new nt(void 0,p,C);return d.saveCacheRecord(S)})()}saveCacheRecord(c,l,d){var p=()=>super.saveCacheRecord,_=this;return(0,v.Z)(function*(){try{yield p().call(_,c,l,d)}catch(C){if(C instanceof Wt.ju&&_.performanceClient&&d)try{const S=_.getTokenKeys();_.performanceClient.addFields({cacheRtCount:S.refreshToken.length,cacheIdCount:S.idToken.length,cacheAtCount:S.accessToken.length},d)}catch{}throw C}})()}}var vt=w(5291),xe=w(6097),ba=w(4076),Jr=w(4498);class fr{static generateThrottlingStorageKey(c){return`${y.bb.THROTTLING_PREFIX}.${JSON.stringify(c)}`}static preProcess(c,l){const d=fr.generateThrottlingStorageKey(l),p=c.getThrottlingCache(d);if(p){if(p.throttleTime<Date.now())return void c.removeItem(d);throw new Jr.n(p.errorCodes?.join(" ")||y.gT.EMPTY_STRING,p.errorMessage,p.subError)}}static postProcess(c,l,d){if(fr.checkResponseStatus(d)||fr.checkResponseForRetryAfter(d)){const p={throttleTime:fr.calculateThrottleTime(parseInt(d.headers[y.SZ.RETRY_AFTER])),error:d.body.error,errorCodes:d.body.error_codes,errorMessage:d.body.error_description,subError:d.body.suberror};c.setThrottlingCache(fr.generateThrottlingStorageKey(l),p)}}static checkResponseStatus(c){return 429===c.status||c.status>=500&&c.status<600}static checkResponseForRetryAfter(c){return!!c.headers&&c.headers.hasOwnProperty(y.SZ.RETRY_AFTER)&&(c.status<200||c.status>=300)}static calculateThrottleTime(c){const l=c<=0?0:c,d=Date.now()/1e3;return Math.floor(1e3*Math.min(d+(l||y.bb.DEFAULT_THROTTLE_TIME_SECONDS),d+y.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(c,l,d,p){const C=this.generateThrottlingStorageKey({clientId:l,authority:d.authority,scopes:d.scopes,homeAccountIdentifier:p,claims:d.claims,authenticationScheme:d.authenticationScheme,resourceRequestMethod:d.resourceRequestMethod,resourceRequestUri:d.resourceRequestUri,shrClaims:d.shrClaims,sshKid:d.sshKid});c.removeItem(C)}}var wa=w(6703);class qy{constructor(c,l){this.networkClient=c,this.cacheManager=l}sendPostRequest(c,l,d){var p=this;return(0,v.Z)(function*(){let _;fr.preProcess(p.cacheManager,c);try{_=yield p.networkClient.sendPostRequestAsync(l,d)}catch(C){throw C instanceof J.l4?C:(0,B.zP)(K.EF)}return fr.postProcess(p.cacheManager,c,_),_})()}}var tf=w(4630),Ta=w(1667),Mr=w(1758),ei=w(8404);function El(H,c,l,d,p,_,C){return oo.apply(this,arguments)}function oo(){return(oo=(0,v.Z)(function*(H,c,l,d,p,_,C){C?.addQueueMeasurement(P.Ak.AuthorityFactoryCreateDiscoveredInstance,_);const S=V.transformCIAMAuthority(ie(H)),z=new V(S,c,l,d,p,_,C);try{return yield b(z.resolveEndpointsAsync.bind(z),P.Ak.AuthorityResolveEndpointsAsync,p,C,_)(),z}catch{throw(0,B.zP)(K.HO)}})).apply(this,arguments)}class zo{constructor(c,l){this.config=(0,wa.j6)(c),this.logger=new tf.Y(this.config.loggerOptions,Ta.u,Ta.i),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new qy(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=l}createTokenRequestHeaders(c){const l={};if(l[y.SZ.CONTENT_TYPE]=y.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case"home_account_id":try{const d=(0,Mr.j)(c.credential);l[y.SZ.CCS_HEADER]=`Oid:${d.uid}@${d.utid}`}catch(d){this.logger.verbose("Could not parse home account ID for CCS Header: "+d)}break;case"UPN":l[y.SZ.CCS_HEADER]=`UPN: ${c.credential}`}return l}executePostToTokenEndpoint(c,l,d,p,_,C){var S=this;return(0,v.Z)(function*(){C&&S.performanceClient?.addQueueMeasurement(C,_);const z=yield S.networkManager.sendPostRequest(p,c,{body:l,headers:d});return S.performanceClient?.addFields({refreshTokenSize:z.body.refresh_token?.length||0,httpVerToken:z.headers?.[y.SZ.X_MS_HTTP_VERSION]||""},_),S.config.serverTelemetryManager&&z.status<500&&429!==z.status&&S.config.serverTelemetryManager.clearTelemetryCache(),z})()}updateAuthority(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.UpdateTokenEndpointAuthority,l);const p=`https://${c}/${d.authority.tenant}/`,_=yield El(p,d.networkClient,d.cacheManager,d.authority.options,d.logger,l,d.performanceClient);d.authority=_})()}createTokenQueryParameters(c){const l=new ei.H;return c.tokenQueryParameters&&l.addExtraQueryParameters(c.tokenQueryParameters),l.createQueryString()}}var ti=w(1155),Un=w(7795),pr=w(4441);class ni{constructor(c,l){this.cryptoUtils=c,this.performanceClient=l}generateCnf(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.PopTokenGenerateCnf,c.correlationId);const p=yield b(d.generateKid.bind(d),P.Ak.PopTokenGenerateCnf,l,d.performanceClient,c.correlationId)(c),_=d.cryptoUtils.base64Encode(JSON.stringify(p));return{kid:p.kid,reqCnfString:_,reqCnfHash:yield d.cryptoUtils.hashString(_)}})()}generateKid(c){var l=this;return(0,v.Z)(function*(){return l.performanceClient?.addQueueMeasurement(P.Ak.PopTokenGenerateKid,c.correlationId),{kid:yield l.cryptoUtils.getPublicKeyThumbprint(c),xms_ksl:"sw"}})()}signPopToken(c,l,d){var p=this;return(0,v.Z)(function*(){return p.signPayload(c,l,d)})()}signPayload(c,l,d,p){var _=this;return(0,v.Z)(function*(){const{resourceRequestMethod:C,resourceRequestUri:S,shrClaims:z,shrNonce:q,shrOptions:W}=d,Ne=(S?new O.G(S):void 0)?.getUrlComponents();return _.cryptoUtils.signJwt({at:c,ts:(0,pr.HY)(),m:C?.toUpperCase(),u:Ne?.HostNameAndPort,nonce:q||_.cryptoUtils.createNewGuid(),p:Ne?.AbsolutePath,q:Ne?.QueryString?[[],Ne.QueryString]:void 0,client_claims:z||void 0,...p},l,W,d.correlationId)})()}}class nf{constructor(c,l){this.cache=c,this.hasChanged=l}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}var bl=w(8683),Aa=w(2581);class ri{constructor(c,l,d,p,_,C,S){this.clientId=c,this.cacheStorage=l,this.cryptoObj=d,this.logger=p,this.serializableCache=_,this.persistencePlugin=C,this.performanceClient=S}validateServerAuthorizationCodeResponse(c,l){if(!c.state||!l)throw(0,B.zP)(K.LV,c.state?"Cached State":"Server State");let d,p;try{d=decodeURIComponent(c.state)}catch{throw(0,B.zP)(K.r8,c.state)}try{p=decodeURIComponent(l)}catch{throw(0,B.zP)(K.r8,c.state)}if(d!==p)throw(0,B.zP)(K.Tu);if(c.error||c.error_description||c.suberror){const _=function rf(H){const l=H.error_uri?.lastIndexOf("code=");return l&&l>=0?H.error_uri?.substring(l+5):void 0}(c);throw(0,he.Cf)(c.error,c.error_description,c.suberror)?new he.Yo(c.error||"",c.error_description,c.suberror,c.timestamp||"",c.trace_id||"",c.correlation_id||"",c.claims||"",_):new Jr.n(c.error||"",c.error_description,c.suberror,_)}}validateTokenResponse(c,l){if(c.error||c.error_description||c.suberror){const d=`${c.error_codes} - [${c.timestamp}]: ${c.error_description} - Correlation ID: ${c.correlation_id} - Trace ID: ${c.trace_id}`,p=c.error_codes?.length?c.error_codes[0]:void 0,_=new Jr.n(c.error,d,c.suberror,p);if(l&&c.status&&c.status>=y.oj.SERVER_ERROR_RANGE_START&&c.status<=y.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${_}`);if(l&&c.status&&c.status>=y.oj.CLIENT_ERROR_RANGE_START&&c.status<=y.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${_}`);throw(0,he.Cf)(c.error,c.error_description,c.suberror)?new he.Yo(c.error,c.error_description,c.suberror,c.timestamp||y.gT.EMPTY_STRING,c.trace_id||y.gT.EMPTY_STRING,c.correlation_id||y.gT.EMPTY_STRING,c.claims||y.gT.EMPTY_STRING,p):_}}handleServerTokenResponse(c,l,d,p,_,C,S,z,q){var W=this;return(0,v.Z)(function*(){let we,Ne;if(W.performanceClient?.addQueueMeasurement(P.Ak.HandleServerTokenResponse,c.correlation_id),c.id_token){if(we=(0,Se.Z_)(c.id_token||y.gT.EMPTY_STRING,W.cryptoObj.base64Decode),_&&_.nonce&&we.nonce!==_.nonce)throw(0,B.zP)(K.vR);if(p.maxAge||0===p.maxAge){const xt=we.auth_time;if(!xt)throw(0,B.zP)(K.w7);(0,Se.ky)(xt,p.maxAge)}}W.homeAccountIdentifier=G.r.generateHomeAccountId(c.client_info||y.gT.EMPTY_STRING,l.authorityType,W.logger,W.cryptoObj,we),_&&_.state&&(Ne=Te.parseRequestState(W.cryptoObj,_.state)),c.key_id=c.key_id||p.sshKid||void 0;const Ye=W.generateCacheRecord(c,l,d,p,we,C,_);let Ct;try{if(W.persistencePlugin&&W.serializableCache&&(W.logger.verbose("Persistence enabled, calling beforeCacheAccess"),Ct=new nf(W.serializableCache,!0),yield W.persistencePlugin.beforeCacheAccess(Ct)),S&&!z&&Ye.account){const xt=Ye.account.generateAccountKey();if(!W.cacheStorage.getAccount(xt,W.logger))return W.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield ri.generateAuthenticationResult(W.cryptoObj,l,Ye,!1,p,we,Ne,void 0,q)}yield W.cacheStorage.saveCacheRecord(Ye,p.storeInCache,p.correlationId)}finally{W.persistencePlugin&&W.serializableCache&&Ct&&(W.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield W.persistencePlugin.afterCacheAccess(Ct))}return ri.generateAuthenticationResult(W.cryptoObj,l,Ye,!1,p,we,Ne,c,q)})()}generateCacheRecord(c,l,d,p,_,C,S){const z=l.getPreferredCache();if(!z)throw(0,B.zP)(K.Q9);const q=(0,bl.M)(_);let W,we;c.id_token&&_&&(W=(0,Q.Md)(this.homeAccountIdentifier,z,c.id_token,this.clientId,q||""),we=Sa(this.cacheStorage,l,this.homeAccountIdentifier,_,this.cryptoObj.base64Decode,c.client_info,z,q,S,void 0,this.logger));let Ne=null;if(c.access_token){const xt=c.scope?Un.i.fromString(c.scope):new Un.i(p.scopes||[]),hn=("string"==typeof c.expires_in?parseInt(c.expires_in,10):c.expires_in)||0,Ii=("string"==typeof c.ext_expires_in?parseInt(c.ext_expires_in,10):c.ext_expires_in)||0,lo=("string"==typeof c.refresh_in?parseInt(c.refresh_in,10):c.refresh_in)||void 0,Di=d+hn,rs=Di+Ii,is=lo&&lo>0?d+lo:void 0;Ne=(0,Q.Ds)(this.homeAccountIdentifier,z,c.access_token,this.clientId,q||l.tenant||"",xt.printScopes(),Di,rs,this.cryptoObj.base64Decode,is,c.token_type,C,c.key_id,p.claims,p.requestedClaimsHash)}let Ye=null;if(c.refresh_token){let xt;c.refresh_token_expires_in&&(xt=d+("string"==typeof c.refresh_token_expires_in?parseInt(c.refresh_token_expires_in,10):c.refresh_token_expires_in)),Ye=(0,Q.OJ)(this.homeAccountIdentifier,z,c.refresh_token,this.clientId,c.foci,C,xt)}let Ct=null;return c.foci&&(Ct={clientId:this.clientId,environment:z,familyId:c.foci}),new nt(we,W,Ne,Ye,Ct)}static generateAuthenticationResult(c,l,d,p,_,C,S,z,q){return(0,v.Z)(function*(){let Ye,Ct,W=y.gT.EMPTY_STRING,we=[],Ne=null,xt=y.gT.EMPTY_STRING;if(d.accessToken){if(d.accessToken.tokenType===y.hO.POP){const Di=new ni(c),{secret:rs,keyId:is}=d.accessToken;if(!is)throw(0,B.zP)(K.Of);W=yield Di.signPopToken(rs,is,_)}else W=d.accessToken.secret;we=Un.i.fromString(d.accessToken.target).asArray(),Ne=new Date(1e3*Number(d.accessToken.expiresOn)),Ye=new Date(1e3*Number(d.accessToken.extendedExpiresOn)),d.accessToken.refreshOn&&(Ct=new Date(1e3*Number(d.accessToken.refreshOn)))}d.appMetadata&&(xt=d.appMetadata.familyId===y.ch?y.ch:"");const hn=C?.oid||C?.sub||"",Ii=C?.tid||"";z?.spa_accountid&&d.account&&(d.account.nativeAccountId=z?.spa_accountid);const lo=d.account?(0,Aa.$f)(d.account.getAccountInfo(),void 0,C,d.idToken?.secret):null;return{authority:l.canonicalAuthority,uniqueId:hn,tenantId:Ii,scopes:we,account:lo,idToken:d?.idToken?.secret||"",idTokenClaims:C||{},accessToken:W,fromCache:p,expiresOn:Ne,extExpiresOn:Ye,refreshOn:Ct,correlationId:_.correlationId,requestId:q||y.gT.EMPTY_STRING,familyId:xt,tokenType:d.accessToken?.tokenType||y.gT.EMPTY_STRING,state:S?S.userRequestState:y.gT.EMPTY_STRING,cloudGraphHostName:d.account?.cloudGraphHostName||y.gT.EMPTY_STRING,msGraphHost:d.account?.msGraphHost||y.gT.EMPTY_STRING,code:z?.spa_code,fromNativeBroker:!1}})()}}function Sa(H,c,l,d,p,_,C,S,z,q,W){W?.verbose("setCachedAccount called");const Ne=H.getAccountKeys().find(hn=>hn.startsWith(l));let Ye=null;Ne&&(Ye=H.getAccount(Ne,W));const Ct=Ye||G.r.createAccount({homeAccountId:l,idTokenClaims:d,clientInfo:_,environment:C,cloudGraphHostName:z?.cloud_graph_host_name,msGraphHost:z?.msgraph_host,nativeAccountId:q},c,p),xt=Ct.tenantProfiles||[];if(S&&!xt.find(hn=>hn.tenantId===S)){const hn=(0,Aa.SI)(l,d);xt.push(hn)}return Ct.tenantProfiles=xt,Ct}var sf=w(9573);function wl(H,c,l){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,v.Z)(function*(H,c,l){return"string"==typeof H?H:H({clientId:c,tokenEndpoint:l})})).apply(this,arguments)}class Tl extends zo{constructor(c,l){super(c,l),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.GetAuthCodeUrl,c.correlationId);const d=yield b(l.createAuthCodeUrlQueryString.bind(l),P.Ak.AuthClientCreateQueryString,l.logger,l.performanceClient,c.correlationId)(c);return O.G.appendQueryString(l.authority.authorizationEndpoint,d)})()}acquireToken(c,l){var d=this;return(0,v.Z)(function*(){if(d.performanceClient?.addQueueMeasurement(P.Ak.AuthClientAcquireToken,c.correlationId),!c.code)throw(0,B.zP)(K.FU);const p=(0,pr.HY)(),_=yield b(d.executeTokenRequest.bind(d),P.Ak.AuthClientExecuteTokenRequest,d.logger,d.performanceClient,c.correlationId)(d.authority,c),C=_.headers?.[y.SZ.X_MS_REQUEST_ID],S=new ri(d.config.authOptions.clientId,d.cacheManager,d.cryptoUtils,d.logger,d.config.serializableCache,d.config.persistencePlugin,d.performanceClient);return S.validateTokenResponse(_.body),b(S.handleServerTokenResponse.bind(S),P.Ak.HandleServerTokenResponse,d.logger,d.performanceClient,c.correlationId)(_.body,d.authority,p,c,l,void 0,void 0,void 0,C)})()}handleFragmentResponse(c,l){if(new ri(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(c,l),!c.code)throw(0,B.zP)(K.Zv);return c}getLogoutUri(c){if(!c)throw(0,X.ei)(re.$h);const l=this.createLogoutUrlQueryString(c);return O.G.appendQueryString(this.authority.endSessionEndpoint,l)}executeTokenRequest(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.AuthClientExecuteTokenRequest,l.correlationId);const p=d.createTokenQueryParameters(l),_=O.G.appendQueryString(c.tokenEndpoint,p),C=yield b(d.createTokenRequestBody.bind(d),P.Ak.AuthClientCreateTokenRequestBody,d.logger,d.performanceClient,l.correlationId)(l);let S;if(l.clientInfo)try{const W=(0,Mr.B)(l.clientInfo,d.cryptoUtils.base64Decode);S={credential:`${W.uid}${y.Bv.CLIENT_INFO_SEPARATOR}${W.utid}`,type:"home_account_id"}}catch(W){d.logger.verbose("Could not parse client info for CCS Header: "+W)}const z=d.createTokenRequestHeaders(S||l.ccsCredential),q={clientId:l.tokenBodyParameters?.clientId||d.config.authOptions.clientId,authority:c.canonicalAuthority,scopes:l.scopes,claims:l.claims,authenticationScheme:l.authenticationScheme,resourceRequestMethod:l.resourceRequestMethod,resourceRequestUri:l.resourceRequestUri,shrClaims:l.shrClaims,sshKid:l.sshKid};return b(d.executePostToTokenEndpoint.bind(d),P.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint,d.logger,d.performanceClient,l.correlationId)(_,C,z,q,l.correlationId,P.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.AuthClientCreateTokenRequestBody,c.correlationId);const d=new ei.H;if(d.addClientId(c.tokenBodyParameters?.[ti.Cx]||l.config.authOptions.clientId),l.includeRedirectUri?d.addRedirectUri(c.redirectUri):sf.D.validateRedirectUri(c.redirectUri),d.addScopes(c.scopes,!0,l.oidcDefaultScopes),d.addAuthorizationCode(c.code),d.addLibraryInfo(l.config.libraryInfo),d.addApplicationTelemetry(l.config.telemetry.application),d.addThrottling(),l.serverTelemetryManager&&!(0,wa.lh)(l.config)&&d.addServerTelemetry(l.serverTelemetryManager),c.codeVerifier&&d.addCodeVerifier(c.codeVerifier),l.config.clientCredentials.clientSecret&&d.addClientSecret(l.config.clientCredentials.clientSecret),l.config.clientCredentials.clientAssertion){const C=l.config.clientCredentials.clientAssertion;d.addClientAssertion(yield wl(C.assertion,l.config.authOptions.clientId,c.resourceRequestUri)),d.addClientAssertionType(C.assertionType)}if(d.addGrantType(y.qJ.AUTHORIZATION_CODE_GRANT),d.addClientInfo(),c.authenticationScheme===y.hO.POP){const C=new ni(l.cryptoUtils,l.performanceClient),S=yield b(C.generateCnf.bind(C),P.Ak.PopTokenGenerateCnf,l.logger,l.performanceClient,c.correlationId)(c,l.logger);d.addPopToken(S.reqCnfString)}else if(c.authenticationScheme===y.hO.SSH){if(!c.sshJwk)throw(0,X.ei)(re.dK);d.addSshJwk(c.sshJwk)}const p=c.correlationId||l.config.cryptoInterface.createNewGuid();let _;if(d.addCorrelationId(p),(!_e.x.isEmptyObj(c.claims)||l.config.authOptions.clientCapabilities&&l.config.authOptions.clientCapabilities.length>0)&&d.addClaims(c.claims,l.config.authOptions.clientCapabilities),c.clientInfo)try{const C=(0,Mr.B)(c.clientInfo,l.cryptoUtils.base64Decode);_={credential:`${C.uid}${y.Bv.CLIENT_INFO_SEPARATOR}${C.utid}`,type:"home_account_id"}}catch(C){l.logger.verbose("Could not parse client info for CCS Header: "+C)}else _=c.ccsCredential;if(l.config.systemOptions.preventCorsPreflight&&_)switch(_.type){case"home_account_id":try{const C=(0,Mr.j)(_.credential);d.addCcsOid(C)}catch(C){l.logger.verbose("Could not parse home account ID for CCS Header: "+C)}break;case"UPN":d.addCcsUpn(_.credential)}return c.tokenBodyParameters&&d.addExtraQueryParameters(c.tokenBodyParameters),c.enableSpaAuthorizationCode&&(!c.tokenBodyParameters||!c.tokenBodyParameters[ti.Zb])&&d.addExtraQueryParameters({[ti.Zb]:"1"}),d.createQueryString()})()}createAuthCodeUrlQueryString(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.AuthClientCreateQueryString,c.correlationId);const d=new ei.H;d.addClientId(c.extraQueryParameters?.[ti.Cx]||l.config.authOptions.clientId);const p=[...c.scopes||[],...c.extraScopesToConsent||[]];d.addScopes(p,!0,l.oidcDefaultScopes),d.addRedirectUri(c.redirectUri);const _=c.correlationId||l.config.cryptoInterface.createNewGuid();if(d.addCorrelationId(_),d.addResponseMode(c.responseMode),d.addResponseTypeCode(),d.addLibraryInfo(l.config.libraryInfo),(0,wa.lh)(l.config)||d.addApplicationTelemetry(l.config.telemetry.application),d.addClientInfo(),c.codeChallenge&&c.codeChallengeMethod&&d.addCodeChallengeParams(c.codeChallenge,c.codeChallengeMethod),c.prompt&&d.addPrompt(c.prompt),c.domainHint&&d.addDomainHint(c.domainHint),c.prompt!==y.NJ.SELECT_ACCOUNT)if(c.sid&&c.prompt===y.NJ.NONE)l.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),d.addSid(c.sid);else if(c.account){const C=l.extractAccountSid(c.account);let S=l.extractLoginHint(c.account);if(S&&c.domainHint&&(l.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),S=null),S){l.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),d.addLoginHint(S);try{const z=(0,Mr.j)(c.account.homeAccountId);d.addCcsOid(z)}catch{l.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(C&&c.prompt===y.NJ.NONE){l.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),d.addSid(C);try{const z=(0,Mr.j)(c.account.homeAccountId);d.addCcsOid(z)}catch{l.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(c.loginHint)l.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),d.addLoginHint(c.loginHint),d.addCcsUpn(c.loginHint);else if(c.account.username){l.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),d.addLoginHint(c.account.username);try{const z=(0,Mr.j)(c.account.homeAccountId);d.addCcsOid(z)}catch{l.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else c.loginHint&&(l.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),d.addLoginHint(c.loginHint),d.addCcsUpn(c.loginHint));else l.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(c.nonce&&d.addNonce(c.nonce),c.state&&d.addState(c.state),(c.claims||l.config.authOptions.clientCapabilities&&l.config.authOptions.clientCapabilities.length>0)&&d.addClaims(c.claims,l.config.authOptions.clientCapabilities),c.extraQueryParameters&&d.addExtraQueryParameters(c.extraQueryParameters),c.nativeBroker&&(d.addNativeBroker(),c.authenticationScheme===y.hO.POP)){const C=new ni(l.cryptoUtils),S=yield b(C.generateCnf.bind(C),P.Ak.PopTokenGenerateCnf,l.logger,l.performanceClient,c.correlationId)(c,l.logger);d.addPopToken(S.reqCnfHash)}return d.createQueryString()})()}createLogoutUrlQueryString(c){const l=new ei.H;return c.postLogoutRedirectUri&&l.addPostLogoutRedirectUri(c.postLogoutRedirectUri),c.correlationId&&l.addCorrelationId(c.correlationId),c.idTokenHint&&l.addIdTokenHint(c.idTokenHint),c.state&&l.addState(c.state),c.logoutHint&&l.addLogoutHint(c.logoutHint),c.extraQueryParameters&&l.addExtraQueryParameters(c.extraQueryParameters),l.createQueryString()}extractAccountSid(c){return c.idTokenClaims?.sid||null}extractLoginHint(c){return c.idTokenClaims?.login_hint||null}}class Go{constructor(c,l){this.cacheOutcome=y.To.NOT_APPLICABLE,this.cacheManager=l,this.apiId=c.apiId,this.correlationId=c.correlationId,this.wrapperSKU=c.wrapperSKU||y.gT.EMPTY_STRING,this.wrapperVer=c.wrapperVer||y.gT.EMPTY_STRING,this.telemetryCacheKey=y.HN.CACHE_KEY+y.Bv.CACHE_KEY_SEPARATOR+c.clientId}generateCurrentRequestHeaderValue(){const c=`${this.apiId}${y.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,l=[this.wrapperSKU,this.wrapperVer].join(y.HN.VALUE_SEPARATOR),p=[c,this.getRegionDiscoveryFields()].join(y.HN.VALUE_SEPARATOR);return[y.HN.SCHEMA_VERSION,p,l].join(y.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const c=this.getLastRequests(),l=Go.maxErrorsToSend(c),d=c.failedRequests.slice(0,2*l).join(y.HN.VALUE_SEPARATOR),p=c.errors.slice(0,l).join(y.HN.VALUE_SEPARATOR),_=c.errors.length,S=[_,l<_?y.HN.OVERFLOW_TRUE:y.HN.OVERFLOW_FALSE].join(y.HN.VALUE_SEPARATOR);return[y.HN.SCHEMA_VERSION,c.cacheHits,d,p,S].join(y.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(c){const l=this.getLastRequests();l.errors.length>=y.HN.MAX_CACHED_ERRORS&&(l.failedRequests.shift(),l.failedRequests.shift(),l.errors.shift()),l.failedRequests.push(this.apiId,this.correlationId),c instanceof Error&&c&&c.toString()?l.errors.push(c instanceof J.l4?c.subError?c.subError:c.errorCode?c.errorCode:c.toString():c.toString()):l.errors.push(y.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,l)}incrementCacheHits(){const c=this.getLastRequests();return c.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c),c.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const c=this.getLastRequests(),l=Go.maxErrorsToSend(c);if(l===c.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const p={failedRequests:c.failedRequests.slice(2*l),errors:c.errors.slice(l),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,p)}}static maxErrorsToSend(c){let l,d=0,p=0;const _=c.errors.length;for(l=0;l<_;l++){const S=c.failedRequests[2*l+1]||y.gT.EMPTY_STRING,z=c.errors[l]||y.gT.EMPTY_STRING;if(p+=(c.failedRequests[2*l]||y.gT.EMPTY_STRING).toString().length+S.toString().length+z.length+3,!(p<y.HN.MAX_LAST_HEADER_BYTES))break;d+=1}return d}getRegionDiscoveryFields(){const c=[];return c.push(this.regionUsed||y.gT.EMPTY_STRING),c.push(this.regionSource||y.gT.EMPTY_STRING),c.push(this.regionOutcome||y.gT.EMPTY_STRING),c.join(",")}updateRegionDiscoveryMetadata(c){this.regionUsed=c.region_used,this.regionSource=c.region_source,this.regionOutcome=c.region_outcome}setCacheOutcome(c){this.cacheOutcome=c}}var Al=w(7580),gr=w(2690);class Ko{constructor(c,l,d,p,_,C,S,z,q){this.config=c,this.browserStorage=l,this.browserCrypto=d,this.networkClient=this.config.system.networkClient,this.eventHandler=_,this.navigationClient=C,this.nativeMessageHandler=z,this.correlationId=q||(0,gr.nn)(),this.logger=p.clone(F.qx.MSAL_SKU,Al.i,this.correlationId),this.performanceClient=S}clearCacheOnLogout(c){var l=this;return(0,v.Z)(function*(){if(c){G.r.accountInfoIsEqual(c,l.browserStorage.getActiveAccount(),!1)&&(l.logger.verbose("Setting active account to null"),l.browserStorage.setActiveAccount(null));try{yield l.browserStorage.removeAccount(G.r.generateAccountCacheKey(c)),l.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{l.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{l.logger.verbose("No account provided in logout request, clearing all cache items.",l.correlationId),yield l.browserStorage.clear(),yield l.browserCrypto.clearKeystore()}catch{l.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}getRedirectUri(c){this.logger.verbose("getRedirectUri called");const l=c||this.config.auth.redirectUri||(0,vt.Re)();return O.G.getAbsoluteUrl(l,(0,vt.Re)())}initializeServerTelemetryManager(c,l){this.logger.verbose("initializeServerTelemetryManager called");const d={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:c,forceRefresh:l||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Go(d,this.browserStorage)}getDiscoveredAuthority(c,l,d){var p=this;return(0,v.Z)(function*(){p.performanceClient.addQueueMeasurement(P.Ak.StandardInteractionClientGetDiscoveredAuthority,p.correlationId);const _={protocolMode:p.config.auth.protocolMode,OIDCOptions:p.config.auth.OIDCOptions,knownAuthorities:p.config.auth.knownAuthorities,cloudDiscoveryMetadata:p.config.auth.cloudDiscoveryMetadata,authorityMetadata:p.config.auth.authorityMetadata,skipAuthorityMetadataCache:p.config.auth.skipAuthorityMetadataCache},S=V.generateAuthority(c||p.config.auth.authority,l||p.config.auth.azureCloudOptions),z=yield b(El,P.Ak.AuthorityFactoryCreateDiscoveredInstance,p.logger,p.performanceClient,p.correlationId)(S,p.config.system.networkClient,p.browserStorage,_,p.logger,p.correlationId,p.performanceClient);if(d&&!z.isAlias(d.environment))throw(0,X.ei)(re.Hv);return z})()}}const Sl=32;function Il(H,c,l){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,v.Z)(function*(H,c,l){H.addQueueMeasurement(P.Ak.GeneratePkceCodes,l);const d=De(Dl,P.Ak.GenerateCodeVerifier,c,H,l)(H,c,l);return{verifier:d,challenge:yield b(af,P.Ak.GenerateCodeChallengeFromVerifier,c,H,l)(d,H,c,l)}})).apply(this,arguments)}function Dl(H,c,l){try{const d=new Uint8Array(Sl);return De(gr.PP,P.Ak.GetRandomValues,c,H,l)(d),(0,Ke.Wy)(d)}catch{throw(0,ye.Z_)(Re.vD)}}function af(H,c,l,d){return qo.apply(this,arguments)}function qo(){return(qo=(0,v.Z)(function*(H,c,l,d){c.addQueueMeasurement(P.Ak.GenerateCodeChallengeFromVerifier,d);try{const p=yield b(gr.Fv,P.Ak.Sha256Digest,l,c,d)(H,c,d);return(0,Ke.Wy)(new Uint8Array(p))}catch{throw(0,ye.Z_)(Re.vD)}})).apply(this,arguments)}function Zo(H,c,l,d){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,v.Z)(function*(H,c,l,d){l.addQueueMeasurement(P.Ak.InitializeBaseRequest,H.correlationId);const p=H.authority||c.auth.authority,_=[...H&&H.scopes||[]],C={...H,correlationId:H.correlationId,authority:p,scopes:_};if(C.authenticationScheme){if(C.authenticationScheme===y.hO.SSH){if(!H.sshJwk)throw(0,X.ei)(re.dK);if(!H.sshKid)throw(0,X.ei)(re.hI)}d.verbose(`Authentication Scheme set to "${C.authenticationScheme}" as configured in Auth request`)}else C.authenticationScheme=y.hO.BEARER,d.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return c.cache.claimsBasedCachingEnabled&&H.claims&&!_e.x.isEmptyObj(H.claims)&&(C.requestedClaimsHash=yield(0,gr.Wu)(H.claims)),C})).apply(this,arguments)}function Ml(H,c,l,d,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,v.Z)(function*(H,c,l,d,p){d.addQueueMeasurement(P.Ak.InitializeSilentRequest,H.correlationId);const _=yield b(Zo,P.Ak.InitializeBaseRequest,p,d,H.correlationId)(H,l,d,p);return{...H,..._,account:c,forceRefresh:H.forceRefresh||!1}})).apply(this,arguments)}class Ti extends Ko{initializeAuthorizationCodeRequest(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,l.correlationId);const d=yield b(Il,P.Ak.GeneratePkceCodes,l.logger,l.performanceClient,l.correlationId)(l.performanceClient,l.logger,l.correlationId),p={...c,redirectUri:c.redirectUri,code:y.gT.EMPTY_STRING,codeVerifier:d.verifier};return c.codeChallenge=d.challenge,c.codeChallengeMethod=y.gT.S256_CODE_CHALLENGE_METHOD,p})()}initializeLogoutRequest(c){this.logger.verbose("initializeLogoutRequest called",c?.correlationId);const l={correlationId:this.correlationId||(0,gr.nn)(),...c};if(c)if(c.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(c.account){const d=this.getLogoutHintFromIdTokenClaims(c.account);d&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),l.logoutHint=d)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return c&&null===c.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",l.correlationId):c&&c.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",l.correlationId),l.postLogoutRedirectUri=O.G.getAbsoluteUrl(c.postLogoutRedirectUri,(0,vt.Re)())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",l.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",l.correlationId),l.postLogoutRedirectUri=O.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,(0,vt.Re)())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",l.correlationId),l.postLogoutRedirectUri=O.G.getAbsoluteUrl((0,vt.Re)(),(0,vt.Re)())),l}getLogoutHintFromIdTokenClaims(c){const l=c.idTokenClaims;if(l){if(l.login_hint)return l.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(c,l,d,p){var _=this;return(0,v.Z)(function*(){_.performanceClient.addQueueMeasurement(P.Ak.StandardInteractionClientCreateAuthCodeClient,_.correlationId);const C=yield b(_.getClientConfiguration.bind(_),P.Ak.StandardInteractionClientGetClientConfiguration,_.logger,_.performanceClient,_.correlationId)(c,l,d,p);return new Tl(C,_.performanceClient)})()}getClientConfiguration(c,l,d,p){var _=this;return(0,v.Z)(function*(){_.performanceClient.addQueueMeasurement(P.Ak.StandardInteractionClientGetClientConfiguration,_.correlationId);const C=yield b(_.getDiscoveredAuthority.bind(_),P.Ak.StandardInteractionClientGetDiscoveredAuthority,_.logger,_.performanceClient,_.correlationId)(l,d,p),S=_.config.system.loggerOptions;return{authOptions:{clientId:_.config.auth.clientId,authority:C,clientCapabilities:_.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:_.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:S.loggerCallback,piiLoggingEnabled:S.piiLoggingEnabled,logLevel:S.logLevel,correlationId:_.correlationId},cacheOptions:{claimsBasedCachingEnabled:_.config.cache.claimsBasedCachingEnabled},cryptoInterface:_.browserCrypto,networkInterface:_.networkClient,storageInterface:_.browserStorage,serverTelemetryManager:c,libraryInfo:{sku:F.qx.MSAL_SKU,version:Al.i,cpu:y.gT.EMPTY_STRING,os:y.gT.EMPTY_STRING},telemetry:_.config.telemetry}})()}initializeAuthorizationRequest(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient.addQueueMeasurement(P.Ak.StandardInteractionClientInitializeAuthorizationRequest,d.correlationId);const p=d.getRedirectUri(c.redirectUri),C=Te.setRequestState(d.browserCrypto,c&&c.state||y.gT.EMPTY_STRING,{interactionType:l}),z={...yield b(Zo,P.Ak.InitializeBaseRequest,d.logger,d.performanceClient,d.correlationId)({...c,correlationId:d.correlationId},d.config,d.performanceClient,d.logger),redirectUri:p,state:C,nonce:c.nonce||(0,gr.nn)(),responseMode:d.config.auth.OIDCOptions.serverResponseType},q=c.account||d.browserStorage.getActiveAccount();if(q&&(d.logger.verbose("Setting validated request account",d.correlationId),d.logger.verbosePii(`Setting validated request account: ${q.homeAccountId}`,d.correlationId),z.account=q),!z.loginHint&&!q){const W=d.browserStorage.getLegacyLoginHint();W&&(z.loginHint=W)}return z})()}}var Rl=w(8012);const Ol="user_switch",Hn={[Ol]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Or extends J.l4{constructor(c,l,d){super(c,l),Object.setPrototypeOf(this,Or.prototype),this.name="NativeAuthError",this.ext=d}}function Si(H){return!!(H.ext&&H.ext.status&&("PERSISTENT_ERROR"===H.ext.status||"DISABLED"===H.ext.status)||H.ext&&H.ext.error&&-2147186943===H.ext.error)||"ContentError"===H.errorCode}function Qo(H,c,l){if(l&&l.status)switch(l.status){case"ACCOUNT_UNAVAILABLE":return(0,he.ip)(se.QP);case"USER_INTERACTION_REQUIRED":return new he.Yo(H,c);case"USER_CANCEL":return(0,ye.Z_)(Re.h7);case"NO_NETWORK":return(0,ye.Z_)(Re.Mq)}return new Or(H,Hn[H]||c,l)}class Xo extends zo{constructor(c,l){super(c,l)}acquireToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.RefreshTokenClientAcquireToken,c.correlationId);const d=(0,pr.HY)(),p=yield b(l.executeTokenRequest.bind(l),P.Ak.RefreshTokenClientExecuteTokenRequest,l.logger,l.performanceClient,c.correlationId)(c,l.authority),_=p.headers?.[y.SZ.X_MS_REQUEST_ID],C=new ri(l.config.authOptions.clientId,l.cacheManager,l.cryptoUtils,l.logger,l.config.serializableCache,l.config.persistencePlugin);return C.validateTokenResponse(p.body),b(C.handleServerTokenResponse.bind(C),P.Ak.HandleServerTokenResponse,l.logger,l.performanceClient,c.correlationId)(p.body,l.authority,d,c,void 0,void 0,!0,c.forceCache,_)})()}acquireTokenByRefreshToken(c){var l=this;return(0,v.Z)(function*(){if(!c)throw(0,X.ei)(re.dL);if(l.performanceClient?.addQueueMeasurement(P.Ak.RefreshTokenClientAcquireTokenByRefreshToken,c.correlationId),!c.account)throw(0,B.zP)(K.D7);if(l.cacheManager.isAppMetadataFOCI(c.account.environment))try{return yield b(l.acquireTokenWithCachedRefreshToken.bind(l),P.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,l.logger,l.performanceClient,c.correlationId)(c,!0)}catch(p){if(p instanceof he.Yo&&p.errorCode===se.I2||p instanceof Jr.n&&p.errorCode===y.D1.INVALID_GRANT_ERROR&&p.subError===y.D1.CLIENT_MISMATCH_ERROR)return b(l.acquireTokenWithCachedRefreshToken.bind(l),P.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,l.logger,l.performanceClient,c.correlationId)(c,!1);throw p}return b(l.acquireTokenWithCachedRefreshToken.bind(l),P.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,l.logger,l.performanceClient,c.correlationId)(c,!1)})()}acquireTokenWithCachedRefreshToken(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.correlationId);const p=De(d.cacheManager.getRefreshToken.bind(d.cacheManager),P.Ak.CacheManagerGetRefreshToken,d.logger,d.performanceClient,c.correlationId)(c.account,l,void 0,d.performanceClient,c.correlationId);if(!p)throw(0,he.ip)(se.I2);if(p.expiresOn&&(0,pr.pw)(p.expiresOn,c.refreshTokenExpirationOffsetSeconds||300))throw(0,he.ip)(se.Tw);const _={...c,refreshToken:p.secret,authenticationScheme:c.authenticationScheme||y.hO.BEARER,ccsCredential:{credential:c.account.homeAccountId,type:"home_account_id"}};try{return yield b(d.acquireToken.bind(d),P.Ak.RefreshTokenClientAcquireToken,d.logger,d.performanceClient,c.correlationId)(_)}catch(C){if(C instanceof he.Yo&&C.subError===se.nl){d.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const S=(0,Q.Mk)(p);d.cacheManager.removeRefreshToken(S)}throw C}})()}executeTokenRequest(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient?.addQueueMeasurement(P.Ak.RefreshTokenClientExecuteTokenRequest,c.correlationId);const p=d.createTokenQueryParameters(c),_=O.G.appendQueryString(l.tokenEndpoint,p),C=yield b(d.createTokenRequestBody.bind(d),P.Ak.RefreshTokenClientCreateTokenRequestBody,d.logger,d.performanceClient,c.correlationId)(c),S=d.createTokenRequestHeaders(c.ccsCredential),z={clientId:c.tokenBodyParameters?.clientId||d.config.authOptions.clientId,authority:l.canonicalAuthority,scopes:c.scopes,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid};return b(d.executePostToTokenEndpoint.bind(d),P.Ak.RefreshTokenClientExecutePostToTokenEndpoint,d.logger,d.performanceClient,c.correlationId)(_,C,S,z,c.correlationId,P.Ak.RefreshTokenClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.RefreshTokenClientCreateTokenRequestBody,c.correlationId);const d=c.correlationId,p=new ei.H;if(p.addClientId(c.tokenBodyParameters?.[ti.Cx]||l.config.authOptions.clientId),c.redirectUri&&p.addRedirectUri(c.redirectUri),p.addScopes(c.scopes,!0,l.config.authOptions.authority.options.OIDCOptions?.defaultScopes),p.addGrantType(y.qJ.REFRESH_TOKEN_GRANT),p.addClientInfo(),p.addLibraryInfo(l.config.libraryInfo),p.addApplicationTelemetry(l.config.telemetry.application),p.addThrottling(),l.serverTelemetryManager&&!(0,wa.lh)(l.config)&&p.addServerTelemetry(l.serverTelemetryManager),p.addCorrelationId(d),p.addRefreshToken(c.refreshToken),l.config.clientCredentials.clientSecret&&p.addClientSecret(l.config.clientCredentials.clientSecret),l.config.clientCredentials.clientAssertion){const _=l.config.clientCredentials.clientAssertion;p.addClientAssertion(yield wl(_.assertion,l.config.authOptions.clientId,c.resourceRequestUri)),p.addClientAssertionType(_.assertionType)}if(c.authenticationScheme===y.hO.POP){const _=new ni(l.cryptoUtils,l.performanceClient),C=yield b(_.generateCnf.bind(_),P.Ak.PopTokenGenerateCnf,l.logger,l.performanceClient,c.correlationId)(c,l.logger);p.addPopToken(C.reqCnfString)}else if(c.authenticationScheme===y.hO.SSH){if(!c.sshJwk)throw(0,X.ei)(re.dK);p.addSshJwk(c.sshJwk)}if((!_e.x.isEmptyObj(c.claims)||l.config.authOptions.clientCapabilities&&l.config.authOptions.clientCapabilities.length>0)&&p.addClaims(c.claims,l.config.authOptions.clientCapabilities),l.config.systemOptions.preventCorsPreflight&&c.ccsCredential)switch(c.ccsCredential.type){case"home_account_id":try{const _=(0,Mr.j)(c.ccsCredential.credential);p.addCcsOid(_)}catch(_){l.logger.verbose("Could not parse home account ID for CCS Header: "+_)}break;case"UPN":p.addCcsUpn(c.ccsCredential.credential)}return c.tokenBodyParameters&&p.addExtraQueryParameters(c.tokenBodyParameters),p.createQueryString()})()}}class so extends zo{constructor(c,l){super(c,l)}acquireToken(c){var l=this;return(0,v.Z)(function*(){try{const[d,p]=yield l.acquireCachedToken({...c,scopes:c.scopes?.length?c.scopes:[...y.f_]});return p===y.To.PROACTIVELY_REFRESHED&&(l.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Xo(l.config,l.performanceClient).acquireTokenByRefreshToken(c).catch(()=>{})),d}catch(d){if(d instanceof B.er&&d.errorCode===K.s$)return new Xo(l.config,l.performanceClient).acquireTokenByRefreshToken(c);throw d}})()}acquireCachedToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient?.addQueueMeasurement(P.Ak.SilentFlowClientAcquireCachedToken,c.correlationId);let d=y.To.NOT_APPLICABLE;if(c.forceRefresh||!l.config.cacheOptions.claimsBasedCachingEnabled&&!_e.x.isEmptyObj(c.claims))throw l.setCacheOutcome(y.To.FORCE_REFRESH_OR_CLAIMS,c.correlationId),(0,B.zP)(K.s$);if(!c.account)throw(0,B.zP)(K.D7);const p=c.account.tenantId||function ee(H){const d=new O.G(H).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(d){case y.Nb.COMMON:case y.Nb.ORGANIZATIONS:case y.Nb.CONSUMERS:return;default:return d}}(c.authority),_=l.cacheManager.getTokenKeys(),C=l.cacheManager.getAccessToken(c.account,c,_,p,l.performanceClient,c.correlationId);if(!C)throw l.setCacheOutcome(y.To.NO_CACHED_ACCESS_TOKEN,c.correlationId),(0,B.zP)(K.s$);if((0,pr.jx)(C.cachedAt)||(0,pr.pw)(C.expiresOn,l.config.systemOptions.tokenRenewalOffsetSeconds))throw l.setCacheOutcome(y.To.CACHED_ACCESS_TOKEN_EXPIRED,c.correlationId),(0,B.zP)(K.s$);C.refreshOn&&(0,pr.pw)(C.refreshOn,0)&&(d=y.To.PROACTIVELY_REFRESHED);const S=c.authority||l.authority.getPreferredCache(),z={account:l.cacheManager.readAccountFromCache(c.account),accessToken:C,idToken:l.cacheManager.getIdToken(c.account,_,p,l.performanceClient,c.correlationId),refreshToken:null,appMetadata:l.cacheManager.readAppMetadataFromCache(S)};return l.setCacheOutcome(d,c.correlationId),l.config.serverTelemetryManager&&l.config.serverTelemetryManager.incrementCacheHits(),[yield b(l.generateResultFromCacheRecord.bind(l),P.Ak.SilentFlowClientGenerateResultFromCacheRecord,l.logger,l.performanceClient,c.correlationId)(z,c),d]})()}setCacheOutcome(c,l){this.serverTelemetryManager?.setCacheOutcome(c),this.performanceClient?.addFields({cacheOutcome:c},l),c!==y.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${c}`)}generateResultFromCacheRecord(c,l){var d=this;return(0,v.Z)(function*(){let p;if(d.performanceClient?.addQueueMeasurement(P.Ak.SilentFlowClientGenerateResultFromCacheRecord,l.correlationId),c.idToken&&(p=(0,Se.Z_)(c.idToken.secret,d.config.cryptoInterface.base64Decode)),l.maxAge||0===l.maxAge){const _=p?.auth_time;if(!_)throw(0,B.zP)(K.w7);(0,Se.ky)(_,l.maxAge)}return ri.generateAuthenticationResult(d.cryptoUtils,d.authority,c,!0,l,p)})()}}class Pl extends Ti{acquireToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.SilentCacheClientAcquireToken,c.correlationId);const d=l.initializeServerTelemetryManager(F.WN.acquireTokenSilent_silentFlow),p=yield b(l.getClientConfiguration.bind(l),P.Ak.StandardInteractionClientGetClientConfiguration,l.logger,l.performanceClient,l.correlationId)(d,c.authority,c.azureCloudOptions,c.account),_=new so(p,l.performanceClient);l.logger.verbose("Silent auth client created");try{const S=(yield b(_.acquireCachedToken.bind(_),P.Ak.SilentFlowClientAcquireCachedToken,l.logger,l.performanceClient,c.correlationId)(c))[0];return l.performanceClient.addFields({fromCache:!0},c.correlationId),S}catch(C){throw C instanceof ye.Ut&&C.errorCode===Re.XM&&l.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),C}})()}logout(c){this.logger.verbose("logoutRedirect called");const l=this.initializeLogoutRequest(c);return this.clearCacheOnLogout(l?.account)}}class ii extends Ko{constructor(c,l,d,p,_,C,S,z,q,W,we,Ne){super(c,l,d,p,_,C,z,q,Ne),this.apiId=S,this.accountId=W,this.nativeMessageHandler=q,this.nativeStorageManager=we,this.silentCacheClient=new Pl(c,this.nativeStorageManager,d,p,_,C,z,q,Ne)}acquireToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.NativeInteractionClientAcquireToken,c.correlationId),l.logger.trace("NativeInteractionClient - acquireToken called.");const d=l.performanceClient.startMeasurement(P.Ak.NativeInteractionClientAcquireToken,c.correlationId),p=pr.HY(),_=yield l.initializeNativeRequest(c);try{const q=yield l.acquireTokensFromCache(l.accountId,_);return d.end({success:!0,isNativeBroker:!1,fromCache:!0}),q}catch{l.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const C={method:F.Ky.GetToken,request:_},S=yield l.nativeMessageHandler.sendMessage(C),z=l.validateNativeResponse(S);return l.handleNativeResponse(z,_,p).then(q=>(d.end({success:!0,isNativeBroker:!0,requestId:q.requestId}),q)).catch(q=>{throw d.end({success:!1,errorCode:q.errorCode,subErrorCode:q.subError,isNativeBroker:!0}),q})})()}createSilentCacheRequest(c,l){return{authority:c.authority,correlationId:this.correlationId,scopes:Un.i.fromString(c.scope).asArray(),account:l,forceRefresh:!1}}acquireTokensFromCache(c,l){var d=this;return(0,v.Z)(function*(){if(!c)throw d.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),(0,B.zP)(K.cX);const p=d.browserStorage.getBaseAccountInfo({nativeAccountId:c});if(!p)throw(0,B.zP)(K.cX);try{const _=d.createSilentCacheRequest(l,p),C=yield d.silentCacheClient.acquireToken(_),S={...p,idTokenClaims:C?.idTokenClaims,idToken:C?.idToken};return{...C,account:S}}catch(_){throw _}})()}acquireTokenRedirect(c){var l=this;return(0,v.Z)(function*(){l.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const d=yield l.initializeNativeRequest(c),p={method:F.Ky.GetToken,request:d};try{const S=yield l.nativeMessageHandler.sendMessage(p);l.validateNativeResponse(S)}catch(S){if(S instanceof Or&&Si(S))throw S}l.browserStorage.setTemporaryCache(F.c4.NATIVE_REQUEST,JSON.stringify(d),!0);const _={apiId:F.WN.acquireTokenRedirect,timeout:l.config.system.redirectNavigationTimeout,noHistory:!1},C=l.config.auth.navigateToLoginRequestUrl?window.location.href:l.getRedirectUri(c.redirectUri);yield l.navigationClient.navigateExternal(C,_)})()}handleRedirectPromise(c,l){var d=this;return(0,v.Z)(function*(){if(d.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!d.browserStorage.isInteractionInProgress(!0))return d.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const p=d.browserStorage.getCachedNativeRequest();if(!p)return d.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),c&&l&&c?.addFields({errorCode:"no_cached_request"},l),null;const{prompt:_,...C}=p;_&&d.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),d.browserStorage.removeItem(d.browserStorage.generateCacheKey(F.c4.NATIVE_REQUEST));const S={method:F.Ky.GetToken,request:C},z=pr.HY();try{d.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const q=yield d.nativeMessageHandler.sendMessage(S);d.validateNativeResponse(q);const W=d.handleNativeResponse(q,C,z);return d.browserStorage.setInteractionInProgress(!1),yield W}catch(q){throw d.browserStorage.setInteractionInProgress(!1),q}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(c,l,d){var p=this;return(0,v.Z)(function*(){p.logger.trace("NativeInteractionClient - handleNativeResponse called.");const _=Se.Z_(c.id_token,qt.t),C=p.createHomeAccountIdentifier(c,_),S=p.browserStorage.getAccountInfoFilteredBy({nativeAccountId:l.accountId})?.homeAccountId;if(C!==S&&c.account.id!==l.accountId)throw Qo(Ol);const z=yield p.getDiscoveredAuthority(l.authority),q=Sa(p.browserStorage,z,C,_,qt.t,c.client_info,void 0,_.tid,void 0,c.account.id,p.logger),W=yield p.generateAuthenticationResult(c,l,_,q,z.canonicalAuthority,d);return p.cacheAccount(q),p.cacheNativeTokens(c,l,C,_,W.accessToken,W.tenantId,d),W})()}createHomeAccountIdentifier(c,l){return G.r.generateHomeAccountId(c.client_info||y.gT.EMPTY_STRING,N.a.Default,this.logger,this.browserCrypto,l)}generateScopes(c,l){return Un.i.fromString(c.scope?c.scope:l.scope)}generatePopAccessToken(c,l){var d=this;return(0,v.Z)(function*(){if(l.tokenType===y.hO.POP){if(c.shr)return d.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),c.shr;const p=new ni(d.browserCrypto),_={resourceRequestMethod:l.resourceRequestMethod,resourceRequestUri:l.resourceRequestUri,shrClaims:l.shrClaims,shrNonce:l.shrNonce};if(!l.keyId)throw(0,B.zP)(K.Of);return p.signPopToken(c.access_token,l.keyId,_)}return c.access_token})()}generateAuthenticationResult(c,l,d,p,_,C){var S=this;return(0,v.Z)(function*(){const z=S.addTelemetryFromNativeResponse(c),q=Un.i.fromString(c.scope?c.scope:l.scope),W=c.account.properties||{},we=W.UID||d.oid||d.sub||y.gT.EMPTY_STRING,Ne=W.TenantId||d.tid||y.gT.EMPTY_STRING,Ye=(0,Aa.$f)(p.getAccountInfo(),void 0,d,c.id_token);Ye.nativeAccountId!==c.account.id&&(Ye.nativeAccountId=c.account.id);const Ct=yield S.generatePopAccessToken(c,l),xt=l.tokenType===y.hO.POP?y.hO.POP:y.hO.BEARER;return{authority:_,uniqueId:we,tenantId:Ne,scopes:q.asArray(),account:Ye,idToken:c.id_token,idTokenClaims:d,accessToken:Ct,fromCache:!!z&&S.isResponseFromCache(z),expiresOn:new Date(1e3*Number(C+c.expires_in)),tokenType:xt,correlationId:S.correlationId,state:c.state,fromNativeBroker:!0}})()}cacheAccount(c){this.browserStorage.setAccount(c),this.browserStorage.removeAccountContext(c).catch(l=>{this.logger.error(`Error occurred while removing account context from browser storage. ${l}`)})}cacheNativeTokens(c,l,d,p,_,C,S){const z=Q.Md(d,l.authority,c.id_token||"",l.clientId,p.tid||""),W=S+(l.tokenType===y.hO.POP?y.gT.SHR_NONCE_VALIDITY:("string"==typeof c.expires_in?parseInt(c.expires_in,10):c.expires_in)||0),we=this.generateScopes(c,l),Ne=Q.Ds(d,l.authority,_,l.clientId,p.tid||C,we.printScopes(),W,0,qt.t),Ye=new nt(void 0,z,Ne);this.nativeStorageManager.saveCacheRecord(Ye,l.storeInCache)}addTelemetryFromNativeResponse(c){const l=this.getMATSFromResponse(c);return l?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:l.broker_version,matsAccountJoinOnStart:l.account_join_on_start,matsAccountJoinOnEnd:l.account_join_on_end,matsDeviceJoin:l.device_join,matsPromptBehavior:l.prompt_behavior,matsApiErrorCode:l.api_error_code,matsUiVisible:l.ui_visible,matsSilentCode:l.silent_code,matsSilentBiSubCode:l.silent_bi_sub_code,matsSilentMessage:l.silent_message,matsSilentStatus:l.silent_status,matsHttpStatus:l.http_status,matsHttpEventCount:l.http_event_count},this.correlationId),l):null}validateNativeResponse(c){if(c.hasOwnProperty("access_token")&&c.hasOwnProperty("id_token")&&c.hasOwnProperty("client_info")&&c.hasOwnProperty("account")&&c.hasOwnProperty("scope")&&c.hasOwnProperty("expires_in"))return c;throw(0,J.MD)(Rl.g,"Response missing expected properties.")}getMATSFromResponse(c){if(c.properties.MATS)try{return JSON.parse(c.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(c){return typeof c.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!c.is_cached}initializeNativeRequest(c){var l=this;return(0,v.Z)(function*(){l.logger.trace("NativeInteractionClient - initializeNativeRequest called");const d=c.authority||l.config.auth.authority;c.account&&(yield l.getDiscoveredAuthority(d,c.azureCloudOptions,c.account));const p=new O.G(d);p.validateAsUri();const{scopes:_,...C}=c,S=new Un.i(_||[]);S.appendScopes(y.f_);const q={...C,accountId:l.accountId,clientId:l.config.auth.clientId,authority:p.urlString,scope:S.printScopes(),redirectUri:l.getRedirectUri(c.redirectUri),prompt:(()=>{switch(l.apiId){case F.WN.ssoSilent:case F.WN.acquireTokenSilent_silentFlow:return l.logger.trace("initializeNativeRequest: silent request sets prompt to none"),y.NJ.NONE}if(c.prompt)switch(c.prompt){case y.NJ.NONE:case y.NJ.CONSENT:case y.NJ.LOGIN:return l.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),c.prompt;default:throw l.logger.trace(`initializeNativeRequest: prompt = ${c.prompt} is not compatible with native flow`),(0,ye.Z_)(Re.o9)}else l.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:l.correlationId,tokenType:c.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...c.extraQueryParameters,...c.tokenQueryParameters},extendedExpiryToken:!1};if(l.handleExtraBrokerParams(q),q.extraParameters=q.extraParameters||{},q.extraParameters.telemetry=F.BD.MATS_TELEMETRY,c.authenticationScheme===y.hO.POP){const W={resourceRequestUri:c.resourceRequestUri,resourceRequestMethod:c.resourceRequestMethod,shrClaims:c.shrClaims,shrNonce:c.shrNonce},we=new ni(l.browserCrypto),Ne=yield b(we.generateCnf.bind(we),P.Ak.PopTokenGenerateCnf,l.logger,l.performanceClient,l.correlationId)(W,l.logger);q.reqCnf=Ne.reqCnfHash,q.keyId=Ne.kid}return q})()}handleExtraBrokerParams(c){if(c.extraParameters&&c.extraParameters.hasOwnProperty("brk_client_id")&&c.extraParameters.hasOwnProperty("brk_redirect_uri")&&c.extraParameters.hasOwnProperty(ti.Cx)){const p=c.extraParameters.brk_redirect_uri;c.extraParameters={child_client_id:c.extraParameters[ti.Cx],child_redirect_uri:c.redirectUri},c.redirectUri=p}}}class Xn{constructor(c,l,d,p){this.logger=c,this.handshakeTimeoutMs=l,this.extensionId=p,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=d,this.handshakeEvent=d.startMeasurement(P.Ak.NativeMessageHandlerHandshake)}sendMessage(c){var l=this;return(0,v.Z)(function*(){l.logger.trace("NativeMessageHandler - sendMessage called.");const d={channel:F.BD.CHANNEL_ID,extensionId:l.extensionId,responseId:(0,gr.nn)(),body:c};return l.logger.trace("NativeMessageHandler - Sending request to browser extension"),l.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(d)}`),l.messageChannel.port1.postMessage(d),new Promise((p,_)=>{l.resolvers.set(d.responseId,{resolve:p,reject:_})})})()}static createProvider(c,l,d){return(0,v.Z)(function*(){c.trace("NativeMessageHandler - createProvider called.");try{const p=new Xn(c,l,d,F.BD.PREFERRED_EXTENSION_ID);return yield p.sendHandshakeRequest(),p}catch{const _=new Xn(c,l,d);return yield _.sendHandshakeRequest(),_}})()}sendHandshakeRequest(){var c=this;return(0,v.Z)(function*(){c.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",c.windowListener,!1);const l={channel:F.BD.CHANNEL_ID,extensionId:c.extensionId,responseId:(0,gr.nn)(),body:{method:F.Ky.HandshakeRequest}};return c.handshakeEvent.add({extensionId:c.extensionId,extensionHandshakeTimeoutMs:c.handshakeTimeoutMs}),c.messageChannel.port1.onmessage=d=>{c.onChannelMessage(d)},window.postMessage(l,window.origin,[c.messageChannel.port2]),new Promise((d,p)=>{c.handshakeResolvers.set(l.responseId,{resolve:d,reject:p}),c.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",c.windowListener,!1),c.messageChannel.port1.close(),c.messageChannel.port2.close(),c.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),p((0,ye.Z_)(Re.hR)),c.handshakeResolvers.delete(l.responseId)},c.handshakeTimeoutMs)})})()}onWindowMessage(c){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),c.source!==window)return;const l=c.data;if(l.channel&&l.channel===F.BD.CHANNEL_ID&&(!l.extensionId||l.extensionId===this.extensionId)&&l.body.method===F.Ky.HandshakeRequest){const d=this.handshakeResolvers.get(l.responseId);if(!d)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${l.responseId}`);this.logger.verbose(l.extensionId?`Extension with id: ${l.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),d.reject((0,ye.Z_)(Re.Wb))}}onChannelMessage(c){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const l=c.data,d=this.resolvers.get(l.responseId),p=this.handshakeResolvers.get(l.responseId);try{const _=l.body.method;if(_===F.Ky.Response){if(!d)return;const C=l.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(C)}`),"Success"!==C.status)d.reject(Qo(C.code,C.description,C.ext));else{if(!C.result)throw(0,J.MD)(Rl.g,"Event does not contain result.");C.result.code&&C.result.description?d.reject(Qo(C.result.code,C.result.description,C.result.ext)):d.resolve(C.result)}this.resolvers.delete(l.responseId)}else if(_===F.Ky.HandshakeResponse){if(!p)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${l.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=l.extensionId,this.extensionVersion=l.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),p.resolve(),this.handshakeResolvers.delete(l.responseId)}}catch(_){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${_}`),this.logger.errorPii(`Unable to parse ${c}`),d?d.reject(_):p&&p.reject(_)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(c,l,d,p){if(l.trace("isNativeAvailable called"),!c.system.allowNativeBroker)return l.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!d)return l.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(p)switch(p){case y.hO.BEARER:case y.hO.POP:return l.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return l.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Ma{constructor(c,l,d,p,_){this.authModule=c,this.browserStorage=l,this.authCodeRequest=d,this.logger=p,this.performanceClient=_}handleCodeResponse(c,l){var d=this;return(0,v.Z)(function*(){let p;d.performanceClient.addQueueMeasurement(P.Ak.HandleCodeResponse,l.correlationId);try{p=d.authModule.handleFragmentResponse(c,l.state)}catch(_){throw _ instanceof Jr.n&&_.subError===Re.h7?(0,ye.Z_)(Re.h7):_}return b(d.handleCodeResponseFromServer.bind(d),P.Ak.HandleCodeResponseFromServer,d.logger,d.performanceClient,l.correlationId)(p,l)})()}handleCodeResponseFromServer(c,l,d=!0){var p=this;return(0,v.Z)(function*(){if(p.performanceClient.addQueueMeasurement(P.Ak.HandleCodeResponseFromServer,l.correlationId),p.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),p.authCodeRequest.code=c.code,c.cloud_instance_host_name&&(yield b(p.authModule.updateAuthority.bind(p.authModule),P.Ak.UpdateTokenEndpointAuthority,p.logger,p.performanceClient,l.correlationId)(c.cloud_instance_host_name,l.correlationId)),d&&(c.nonce=l.nonce||void 0),c.state=l.state,c.client_info)p.authCodeRequest.clientInfo=c.client_info;else{const C=p.createCcsCredentials(l);C&&(p.authCodeRequest.ccsCredential=C)}return yield b(p.authModule.acquireToken.bind(p.authModule),P.Ak.AuthClientAcquireToken,p.logger,p.performanceClient,l.correlationId)(p.authCodeRequest,c)})()}createCcsCredentials(c){return c.account?{credential:c.account.homeAccountId,type:"home_account_id"}:c.loginHint?{credential:c.loginHint,type:"UPN"}:null}}var es=w(1129);function Nl(H,c,l){const d=es.F(H);if(!d)throw es.q(H)?(l.error(`A ${c} is present in the iframe but it does not contain known properties. It's likely that the ${c} has been replaced by code running on the redirectUri page.`),l.errorPii(`The ${c} detected is: ${H}`),(0,ye.Z_)(Re.S_)):(l.error(`The request has returned to the redirectUri but a ${c} is not present. It's likely that the ${c} has been removed or the page has been redirected by code running on the redirectUri page.`),(0,ye.Z_)(Re.nF));return d}class hf extends Ti{constructor(c,l,d,p,_,C,S,z,q,W){super(c,l,d,p,_,C,S,q,W),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=z}acquireToken(c){try{const l=this.generatePopupName(c.scopes||y.f_,c.authority||this.config.auth.authority),d=c.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(c,l,d);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const p=this.openSizedPopup("about:blank",l,d);return this.acquireTokenPopupAsync(c,l,d,p)}}catch(l){return Promise.reject(l)}}logout(c){try{this.logger.verbose("logoutPopup called");const l=this.initializeLogoutRequest(c),d=this.generateLogoutPopupName(l),p=c&&c.authority,_=c&&c.mainWindowRedirectUri,C=c?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(l,d,C,p,void 0,_);{this.logger.verbose("asyncPopup set to false, opening popup");const S=this.openSizedPopup("about:blank",d,C);return this.logoutPopupAsync(l,d,C,p,S,_)}}catch(l){return Promise.reject(l)}}acquireTokenPopupAsync(c,l,d,p){var _=this;return(0,v.Z)(function*(){_.logger.verbose("acquireTokenPopupAsync called");const C=_.initializeServerTelemetryManager(F.WN.acquireTokenPopup),S=yield b(_.initializeAuthorizationRequest.bind(_),P.Ak.StandardInteractionClientInitializeAuthorizationRequest,_.logger,_.performanceClient,_.correlationId)(c,F.s_.Popup);(0,vt.$P)(S.authority);try{const z=yield b(_.initializeAuthorizationCodeRequest.bind(_),P.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,_.logger,_.performanceClient,_.correlationId)(S),q=yield b(_.createAuthCodeClient.bind(_),P.Ak.StandardInteractionClientCreateAuthCodeClient,_.logger,_.performanceClient,_.correlationId)(C,S.authority,S.azureCloudOptions,S.account),W=Xn.isNativeAvailable(_.config,_.logger,_.nativeMessageHandler,c.authenticationScheme);let we;W&&(we=_.performanceClient.startMeasurement(P.Ak.FetchAccountIdWithNativeBroker,c.correlationId));const Ne=yield q.getAuthCodeUrl({...S,nativeBroker:W}),Ye=new Ma(q,_.browserStorage,z,_.logger,_.performanceClient),xt=_.initiateAuthRequest(Ne,{popup:p,popupName:l,popupWindowAttributes:d});_.eventHandler.emitEvent(xe.t.POPUP_OPENED,F.s_.Popup,{popupWindow:xt},null);const hn=yield _.monitorPopupForHash(xt),Ii=De(Nl,P.Ak.DeserializeResponse,_.logger,_.performanceClient,_.correlationId)(hn,_.config.auth.OIDCOptions.serverResponseType,_.logger);if(fr.removeThrottle(_.browserStorage,_.config.auth.clientId,z),Ii.accountId){if(_.logger.verbose("Account id found in hash, calling WAM for token"),we&&we.end({success:!0,isNativeBroker:!0}),!_.nativeMessageHandler)throw(0,ye.Z_)(Re.V7);const Di=new ii(_.config,_.browserStorage,_.browserCrypto,_.logger,_.eventHandler,_.navigationClient,F.WN.acquireTokenPopup,_.performanceClient,_.nativeMessageHandler,Ii.accountId,_.nativeStorage,S.correlationId),{userRequestState:rs}=Te.parseRequestState(_.browserCrypto,S.state);return yield Di.acquireToken({...S,state:rs,prompt:void 0})}return yield Ye.handleCodeResponse(Ii,S)}catch(z){throw p&&p.close(),z instanceof J.l4&&(z.setCorrelationId(_.correlationId),C.cacheFailedRequest(z)),z}})()}logoutPopupAsync(c,l,d,p,_,C){var S=this;return(0,v.Z)(function*(){S.logger.verbose("logoutPopupAsync called"),S.eventHandler.emitEvent(xe.t.LOGOUT_START,F.s_.Popup,c);const z=S.initializeServerTelemetryManager(F.WN.logoutPopup);try{yield S.clearCacheOnLogout(c.account);const W=(yield b(S.createAuthCodeClient.bind(S),P.Ak.StandardInteractionClientCreateAuthCodeClient,S.logger,S.performanceClient,S.correlationId)(z,p,void 0,c.account||void 0)).getLogoutUri(c);S.eventHandler.emitEvent(xe.t.LOGOUT_SUCCESS,F.s_.Popup,c);const we=S.openPopup(W,{popupName:l,popupWindowAttributes:d,popup:_});if(S.eventHandler.emitEvent(xe.t.POPUP_OPENED,F.s_.Popup,{popupWindow:we},null),yield S.monitorPopupForHash(we).catch(()=>{}),C){const Ne={apiId:F.WN.logoutPopup,timeout:S.config.system.redirectNavigationTimeout,noHistory:!1},Ye=O.G.getAbsoluteUrl(C,(0,vt.Re)());S.logger.verbose("Redirecting main window to url specified in the request"),S.logger.verbosePii(`Redirecting main window to: ${Ye}`),yield S.navigationClient.navigateInternal(Ye,Ne)}else S.logger.verbose("No main window navigation requested")}catch(q){throw _&&_.close(),q instanceof J.l4&&(q.setCorrelationId(S.correlationId),z.cacheFailedRequest(q)),S.browserStorage.setInteractionInProgress(!1),S.eventHandler.emitEvent(xe.t.LOGOUT_FAILURE,F.s_.Popup,null,q),S.eventHandler.emitEvent(xe.t.LOGOUT_END,F.s_.Popup),q}S.eventHandler.emitEvent(xe.t.LOGOUT_END,F.s_.Popup)})()}initiateAuthRequest(c,l){if(c)return this.logger.infoPii(`Navigate to: ${c}`),this.openPopup(c,l);throw this.logger.error("Navigate url is empty"),(0,ye.Z_)(Re._c)}monitorPopupForHash(c){return new Promise((l,d)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const p=setInterval(()=>{if(c.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(p),void d((0,ye.Z_)(Re.h7));let _="";try{_=c.location.href}catch{}if(!_||"about:blank"===_)return;clearInterval(p);let C="";c&&(C=this.config.auth.OIDCOptions.serverResponseType===y.rg.QUERY?c.location.search:c.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),l(C)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(c)})}openPopup(c,l){try{let d;if(l.popup?(d=l.popup,this.logger.verbosePii(`Navigating popup window to: ${c}`),d.location.assign(c)):typeof l.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${c}`),d=this.openSizedPopup(c,l.popupName,l.popupWindowAttributes)),!d)throw(0,ye.Z_)(Re.H);return d.focus&&d.focus(),this.currentWindow=d,window.addEventListener("beforeunload",this.unloadWindow),d}catch(d){throw this.logger.error("error opening popup "+d.message),this.browserStorage.setInteractionInProgress(!1),(0,ye.Z_)(Re.E)}}openSizedPopup(c,l,d){const p=window.screenLeft?window.screenLeft:window.screenX,_=window.screenTop?window.screenTop:window.screenY,C=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,S=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let z=d.popupSize?.width,q=d.popupSize?.height,W=d.popupPosition?.top,we=d.popupPosition?.left;return(!z||z<0||z>C)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),z=F.qx.POPUP_WIDTH),(!q||q<0||q>S)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),q=F.qx.POPUP_HEIGHT),(!W||W<0||W>S)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),W=Math.max(0,S/2-F.qx.POPUP_HEIGHT/2+_)),(!we||we<0||we>C)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),we=Math.max(0,C/2-F.qx.POPUP_WIDTH/2+p)),window.open(c,l,`width=${z}, height=${q}, top=${W}, left=${we}, scrollbars=yes`)}unloadWindow(c){this.browserStorage.cleanRequestByInteractionType(F.s_.Popup),this.currentWindow&&this.currentWindow.close(),c.preventDefault()}cleanPopup(c){c&&c.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(c,l){return`${F.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${c.join("-")}.${l}.${this.correlationId}`}generateLogoutPopupName(c){return`${F.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${c.account&&c.account.homeAccountId}.${this.correlationId}`}}class Fl{constructor(c,l,d,p,_){this.authModule=c,this.browserStorage=l,this.authCodeRequest=d,this.logger=p,this.performanceClient=_}initiateAuthRequest(c,l){var d=this;return(0,v.Z)(function*(){if(d.logger.verbose("RedirectHandler.initiateAuthRequest called"),c){l.redirectStartPage&&(d.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),d.browserStorage.setTemporaryCache(F.c4.ORIGIN_URI,l.redirectStartPage,!0)),d.browserStorage.setTemporaryCache(F.c4.CORRELATION_ID,d.authCodeRequest.correlationId,!0),d.browserStorage.cacheCodeRequest(d.authCodeRequest),d.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${c}`);const p={apiId:F.WN.acquireTokenRedirect,timeout:l.redirectTimeout,noHistory:!1};return"function"==typeof l.onRedirectNavigate?(d.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==l.onRedirectNavigate(c)?(d.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield l.navigationClient.navigateExternal(c,p))):void d.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(d.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield l.navigationClient.navigateExternal(c,p)))}throw d.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),(0,ye.Z_)(Re._c)})()}handleCodeResponse(c,l){var d=this;return(0,v.Z)(function*(){d.logger.verbose("RedirectHandler.handleCodeResponse called"),d.browserStorage.setInteractionInProgress(!1);const p=d.browserStorage.generateStateKey(l),_=d.browserStorage.getTemporaryCache(p);if(!_)throw(0,B.zP)(K.LV,"Cached State");let C;try{C=d.authModule.handleFragmentResponse(c,_)}catch(W){throw W instanceof Jr.n&&W.subError===Re.h7?(0,ye.Z_)(Re.h7):W}const S=d.browserStorage.generateNonceKey(_),z=d.browserStorage.getTemporaryCache(S);if(d.authCodeRequest.code=C.code,C.cloud_instance_host_name&&(yield b(d.authModule.updateAuthority.bind(d.authModule),P.Ak.UpdateTokenEndpointAuthority,d.logger,d.performanceClient,d.authCodeRequest.correlationId)(C.cloud_instance_host_name,d.authCodeRequest.correlationId)),C.nonce=z||void 0,C.state=_,C.client_info)d.authCodeRequest.clientInfo=C.client_info;else{const W=d.checkCcsCredentials();W&&(d.authCodeRequest.ccsCredential=W)}const q=yield d.authModule.acquireToken(d.authCodeRequest,C);return d.browserStorage.cleanRequestByState(l),q})()}checkCcsCredentials(){const c=this.browserStorage.getTemporaryCache(F.c4.CCS_CREDENTIAL,!0);if(c)try{return JSON.parse(c)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${c}`)}return null}}class lt extends Ti{constructor(c,l,d,p,_,C,S,z,q,W){super(c,l,d,p,_,C,S,q,W),this.nativeStorage=z}acquireToken(c){var l=this;return(0,v.Z)(function*(){const d=yield b(l.initializeAuthorizationRequest.bind(l),P.Ak.StandardInteractionClientInitializeAuthorizationRequest,l.logger,l.performanceClient,l.correlationId)(c,F.s_.Redirect);l.browserStorage.updateCacheEntries(d.state,d.nonce,d.authority,d.loginHint||"",d.account||null);const p=l.initializeServerTelemetryManager(F.WN.acquireTokenRedirect),_=C=>{C.persisted&&(l.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),l.browserStorage.cleanRequestByState(d.state),l.eventHandler.emitEvent(xe.t.RESTORE_FROM_BFCACHE,F.s_.Redirect))};try{const C=yield b(l.initializeAuthorizationCodeRequest.bind(l),P.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,l.logger,l.performanceClient,l.correlationId)(d),S=yield b(l.createAuthCodeClient.bind(l),P.Ak.StandardInteractionClientCreateAuthCodeClient,l.logger,l.performanceClient,l.correlationId)(p,d.authority,d.azureCloudOptions,d.account),z=new Fl(S,l.browserStorage,C,l.logger,l.performanceClient),q=yield S.getAuthCodeUrl({...d,nativeBroker:Xn.isNativeAvailable(l.config,l.logger,l.nativeMessageHandler,c.authenticationScheme)}),W=l.getRedirectStartPage(c.redirectStartPage);return l.logger.verbosePii(`Redirect start page: ${W}`),window.addEventListener("pageshow",_),yield z.initiateAuthRequest(q,{navigationClient:l.navigationClient,redirectTimeout:l.config.system.redirectNavigationTimeout,redirectStartPage:W,onRedirectNavigate:c.onRedirectNavigate})}catch(C){throw C instanceof J.l4&&(C.setCorrelationId(l.correlationId),p.cacheFailedRequest(C)),window.removeEventListener("pageshow",_),l.browserStorage.cleanRequestByState(d.state),C}})()}handleRedirectPromise(c="",l){var d=this;return(0,v.Z)(function*(){const p=d.initializeServerTelemetryManager(F.WN.handleRedirectPromise);try{if(!d.browserStorage.isInteractionInProgress(!0))return d.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[_,C]=d.getRedirectResponse(c||"");if(!_)return d.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),d.browserStorage.cleanRequestByInteractionType(F.s_.Redirect),l.event.errorCode="no_server_response",null;const S=d.browserStorage.getTemporaryCache(F.c4.ORIGIN_URI,!0)||y.gT.EMPTY_STRING;if(O.G.removeHashFromUrl(S)===O.G.removeHashFromUrl(window.location.href)&&d.config.auth.navigateToLoginRequestUrl)return d.logger.verbose("Current page is loginRequestUrl, handling response"),S.indexOf("#")>-1&&(0,vt.tT)(S),yield d.handleResponse(_,p);if(!d.config.auth.navigateToLoginRequestUrl)return d.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield d.handleResponse(_,p);if(!(0,vt.zd)()||d.config.system.allowRedirectInIframe){d.browserStorage.setTemporaryCache(F.c4.URL_HASH,C,!0);const W={apiId:F.WN.handleRedirectPromise,timeout:d.config.system.redirectNavigationTimeout,noHistory:!0};let we=!0;if(S&&"null"!==S)d.logger.verbose(`Navigating to loginRequestUrl: ${S}`),we=yield d.navigationClient.navigateInternal(S,W);else{const Ne=(0,vt.fl)();d.browserStorage.setTemporaryCache(F.c4.ORIGIN_URI,Ne,!0),d.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),we=yield d.navigationClient.navigateInternal(Ne,W)}if(!we)return yield d.handleResponse(_,p)}return null}catch(_){throw _ instanceof J.l4&&(_.setCorrelationId(d.correlationId),p.cacheFailedRequest(_)),d.browserStorage.cleanRequestByInteractionType(F.s_.Redirect),_}})()}getRedirectResponse(c){this.logger.verbose("getRedirectResponseHash called");let l=c;l||(l=this.config.auth.OIDCOptions.serverResponseType===y.rg.QUERY?window.location.search:window.location.hash);let d=es.F(l);if(d){try{!function xl(H,c,l){if(!H.state)throw(0,ye.Z_)(Re.Xk);const d=ze(c,H.state);if(!d)throw(0,ye.Z_)(Re.$P);if(d.interactionType!==l)throw(0,ye.Z_)(Re.yK)}(d,this.browserCrypto,F.s_.Redirect)}catch(_){return _ instanceof J.l4&&this.logger.error(`Interaction type validation failed due to ${_.errorCode}: ${_.errorMessage}`),[null,""]}return(0,vt.hH)(window),this.logger.verbose("Hash contains known properties, returning response hash"),[d,l]}const p=this.browserStorage.getTemporaryCache(F.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(F.c4.URL_HASH)),p&&(d=es.F(p),d)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[d,p]):[null,""]}handleResponse(c,l){var d=this;return(0,v.Z)(function*(){const p=c.state;if(!p)throw(0,ye.Z_)(Re.Xk);const _=d.browserStorage.getCachedRequest(p);if(d.logger.verbose("handleResponse called, retrieved cached request"),c.accountId){if(d.logger.verbose("Account id found in hash, calling WAM for token"),!d.nativeMessageHandler)throw(0,ye.Z_)(Re.V7);const q=new ii(d.config,d.browserStorage,d.browserCrypto,d.logger,d.eventHandler,d.navigationClient,F.WN.acquireTokenPopup,d.performanceClient,d.nativeMessageHandler,c.accountId,d.nativeStorage,_.correlationId),{userRequestState:W}=Te.parseRequestState(d.browserCrypto,p);return q.acquireToken({..._,state:W,prompt:void 0}).finally(()=>{d.browserStorage.cleanRequestByState(p)})}const C=d.browserStorage.getCachedAuthority(p);if(!C)throw(0,ye.Z_)(Re.dT);const S=yield b(d.createAuthCodeClient.bind(d),P.Ak.StandardInteractionClientCreateAuthCodeClient,d.logger,d.performanceClient,d.correlationId)(l,C);return fr.removeThrottle(d.browserStorage,d.config.auth.clientId,_),new Fl(S,d.browserStorage,_,d.logger,d.performanceClient).handleCodeResponse(c,p)})()}logout(c){var l=this;return(0,v.Z)(function*(){l.logger.verbose("logoutRedirect called");const d=l.initializeLogoutRequest(c),p=l.initializeServerTelemetryManager(F.WN.logout);try{l.eventHandler.emitEvent(xe.t.LOGOUT_START,F.s_.Redirect,c),yield l.clearCacheOnLogout(d.account);const _={apiId:F.WN.logout,timeout:l.config.system.redirectNavigationTimeout,noHistory:!1},S=(yield b(l.createAuthCodeClient.bind(l),P.Ak.StandardInteractionClientCreateAuthCodeClient,l.logger,l.performanceClient,l.correlationId)(p,c&&c.authority,void 0,c&&c.account||void 0)).getLogoutUri(d);if(l.eventHandler.emitEvent(xe.t.LOGOUT_SUCCESS,F.s_.Redirect,d),!c||"function"!=typeof c.onRedirectNavigate)return l.browserStorage.getInteractionInProgress()||l.browserStorage.setInteractionInProgress(!0),void(yield l.navigationClient.navigateExternal(S,_));if(!1!==c.onRedirectNavigate(S))return l.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),l.browserStorage.getInteractionInProgress()||l.browserStorage.setInteractionInProgress(!0),void(yield l.navigationClient.navigateExternal(S,_));l.browserStorage.setInteractionInProgress(!1),l.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(_){throw _ instanceof J.l4&&(_.setCorrelationId(l.correlationId),p.cacheFailedRequest(_)),l.eventHandler.emitEvent(xe.t.LOGOUT_FAILURE,F.s_.Redirect,null,_),l.eventHandler.emitEvent(xe.t.LOGOUT_END,F.s_.Redirect),_}l.eventHandler.emitEvent(xe.t.LOGOUT_END,F.s_.Redirect)})()}getRedirectStartPage(c){const l=c||window.location.href;return O.G.getAbsoluteUrl(l,(0,vt.Re)())}}var ts=w(7803);function Ot(H,c,l,d,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,v.Z)(function*(H,c,l,d,p){if(c.addQueueMeasurement(P.Ak.SilentHandlerInitiateAuthRequest,d),!H)throw l.info("Navigate url is empty"),(0,ye.Z_)(Re._c);return p?b(en,P.Ak.SilentHandlerLoadFrame,l,c,d)(H,p,c,d):De(Bl,P.Ak.SilentHandlerLoadFrameSync,l,c,d)(H)})).apply(this,arguments)}function Ll(H,c,l,d,p,_,C){return ao.apply(this,arguments)}function ao(){return(ao=(0,v.Z)(function*(H,c,l,d,p,_,C){return d.addQueueMeasurement(P.Ak.SilentHandlerMonitorIframeForHash,_),new Promise((S,z)=>{c<ts.Is&&p.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${c}ms) than the default (${ts.Is}ms). This may result in timeouts.`);const q=window.setTimeout(()=>{window.clearInterval(W),z((0,ye.Z_)(Re.JA))},c),W=window.setInterval(()=>{let we="";const Ne=H.contentWindow;try{we=Ne?Ne.location.href:""}catch{}if(!we||"about:blank"===we)return;let Ye="";Ne&&(Ye=C===y.rg.QUERY?Ne.location.search:Ne.location.hash),window.clearTimeout(q),window.clearInterval(W),S(Ye)},l)}).finally(()=>{De(ft,P.Ak.RemoveHiddenIframe,p,d,_)(H)})})).apply(this,arguments)}function en(H,c,l,d){return l.addQueueMeasurement(P.Ak.SilentHandlerLoadFrame,d),new Promise((p,_)=>{const C=Ul();window.setTimeout(()=>{C?(C.src=H,p(C)):_("Unable to load iframe")},c)})}function Bl(H){const c=Ul();return c.src=H,c}function Ul(){const H=document.createElement("iframe");return H.className="msalSilentIframe",H.style.visibility="hidden",H.style.position="absolute",H.style.width=H.style.height="0",H.style.border="0",H.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(H),H}function ft(H){document.body===H.parentNode&&document.body.removeChild(H)}class ns extends Ti{constructor(c,l,d,p,_,C,S,z,q,W,we){super(c,l,d,p,_,C,z,W,we),this.apiId=S,this.nativeStorage=q}acquireToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.SilentIframeClientAcquireToken,c.correlationId),!c.loginHint&&!c.sid&&(!c.account||!c.account.username)&&l.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const d={...c};d.prompt?d.prompt!==y.NJ.NONE&&d.prompt!==y.NJ.NO_SESSION&&(l.logger.warning(`SilentIframeClient. Replacing invalid prompt ${d.prompt} with ${y.NJ.NONE}`),d.prompt=y.NJ.NONE):d.prompt=y.NJ.NONE;const p=yield b(l.initializeAuthorizationRequest.bind(l),P.Ak.StandardInteractionClientInitializeAuthorizationRequest,l.logger,l.performanceClient,c.correlationId)(d,F.s_.Silent);(0,vt.$P)(p.authority);const _=l.initializeServerTelemetryManager(l.apiId);try{const C=yield b(l.createAuthCodeClient.bind(l),P.Ak.StandardInteractionClientCreateAuthCodeClient,l.logger,l.performanceClient,c.correlationId)(_,p.authority,p.azureCloudOptions,p.account);return yield b(l.silentTokenHelper.bind(l),P.Ak.SilentIframeClientTokenHelper,l.logger,l.performanceClient,c.correlationId)(C,p)}catch(C){throw C instanceof J.l4&&(C.setCorrelationId(l.correlationId),_.cacheFailedRequest(C)),C}})()}logout(){return Promise.reject((0,ye.Z_)(Re.I9))}silentTokenHelper(c,l){var d=this;return(0,v.Z)(function*(){const p=l.correlationId;d.performanceClient.addQueueMeasurement(P.Ak.SilentIframeClientTokenHelper,p);const _=yield b(d.initializeAuthorizationCodeRequest.bind(d),P.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,d.logger,d.performanceClient,p)(l),C=yield b(c.getAuthCodeUrl.bind(c),P.Ak.GetAuthCodeUrl,d.logger,d.performanceClient,p)({...l,nativeBroker:Xn.isNativeAvailable(d.config,d.logger,d.nativeMessageHandler,l.authenticationScheme)}),S=new Ma(c,d.browserStorage,_,d.logger,d.performanceClient),z=yield b(Ot,P.Ak.SilentHandlerInitiateAuthRequest,d.logger,d.performanceClient,p)(C,d.performanceClient,d.logger,p,d.config.system.navigateFrameWait),q=d.config.auth.OIDCOptions.serverResponseType,W=yield b(Ll,P.Ak.SilentHandlerMonitorIframeForHash,d.logger,d.performanceClient,p)(z,d.config.system.iframeHashTimeout,d.config.system.pollIntervalMilliseconds,d.performanceClient,d.logger,p,q),we=De(Nl,P.Ak.DeserializeResponse,d.logger,d.performanceClient,d.correlationId)(W,q,d.logger);if(we.accountId){if(d.logger.verbose("Account id found in hash, calling WAM for token"),!d.nativeMessageHandler)throw(0,ye.Z_)(Re.V7);const Ne=new ii(d.config,d.browserStorage,d.browserCrypto,d.logger,d.eventHandler,d.navigationClient,d.apiId,d.performanceClient,d.nativeMessageHandler,we.accountId,d.browserStorage,p),{userRequestState:Ye}=Te.parseRequestState(d.browserCrypto,l.state);return b(Ne.acquireToken.bind(Ne),P.Ak.NativeInteractionClientAcquireToken,d.logger,d.performanceClient,p)({...l,state:Ye,prompt:l.prompt||y.NJ.NONE})}return b(S.handleCodeResponse.bind(S),P.Ak.HandleCodeResponse,d.logger,d.performanceClient,p)(we,l)})()}}class Bt extends Ti{acquireToken(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.SilentRefreshClientAcquireToken,c.correlationId);const d=yield b(Zo,P.Ak.InitializeBaseRequest,l.logger,l.performanceClient,c.correlationId)(c,l.config,l.performanceClient,l.logger),p={...c,...d};c.redirectUri&&(p.redirectUri=l.getRedirectUri(c.redirectUri));const _=l.initializeServerTelemetryManager(F.WN.acquireTokenSilent_silentFlow),C=yield l.createRefreshTokenClient(_,p.authority,p.azureCloudOptions,p.account);return b(C.acquireTokenByRefreshToken.bind(C),P.Ak.RefreshTokenClientAcquireTokenByRefreshToken,l.logger,l.performanceClient,c.correlationId)(p).catch(S=>{throw S.setCorrelationId(l.correlationId),_.cacheFailedRequest(S),S})})()}logout(){return Promise.reject((0,ye.Z_)(Re.I9))}createRefreshTokenClient(c,l,d,p){var _=this;return(0,v.Z)(function*(){const C=yield b(_.getClientConfiguration.bind(_),P.Ak.StandardInteractionClientGetClientConfiguration,_.logger,_.performanceClient,_.correlationId)(c,l,d,p);return new Xo(C,_.performanceClient)})()}}class Ra{constructor(c,l,d,p){this.isBrowserEnvironment=typeof window<"u",this.config=c,this.storage=l,this.logger=d,this.cryptoObj=p}loadExternalTokens(c,l,d){if(this.logger.info("TokenCache - loadExternalTokens called"),!l.id_token)throw(0,ye.Z_)(Re.Jd);const p=Se.Z_(l.id_token,qt.t);let _,C,S;if(c.account)S=G.r.createFromAccountInfo(c.account),_=new nt(S,this.loadIdToken(l.id_token,S.homeAccountId,c.account.environment,c.account.tenantId),this.loadAccessToken(c,l,S.homeAccountId,c.account.environment,c.account.tenantId,d),this.loadRefreshToken(c,l,S.homeAccountId,c.account.environment));else{if(!c.authority)throw(0,ye.Z_)(Re.Jd);{const z=V.generateAuthority(c.authority,c.azureCloudOptions);if(C=new V(z,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger,c.correlationId||(0,gr.nn)()),d.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),S=this.loadAccount(p,C,d.clientInfo),_=new nt(S,this.loadIdToken(l.id_token,S.homeAccountId,C.hostnameAndPort,C.tenant),this.loadAccessToken(c,l,S.homeAccountId,C.hostnameAndPort,C.tenant,d),this.loadRefreshToken(c,l,S.homeAccountId,C.hostnameAndPort));else{if(!l.client_info)throw(0,ye.Z_)(Re.Jd);this.logger.trace("TokenCache - homeAccountId from response"),S=this.loadAccount(p,C,l.client_info),_=new nt(S,this.loadIdToken(l.id_token,S.homeAccountId,C.hostnameAndPort,C.tenant),this.loadAccessToken(c,l,S.homeAccountId,C.hostnameAndPort,C.tenant,d),this.loadRefreshToken(c,l,S.homeAccountId,C.hostnameAndPort))}}}return this.generateAuthenticationResult(c,p,_,S,C)}loadAccount(c,l,d,p){if(this.isBrowserEnvironment){let _;if(this.logger.verbose("TokenCache - loading account"),p?_=p:void 0!==l.authorityType&&d&&(_=G.r.generateHomeAccountId(d,l.authorityType,this.logger,this.cryptoObj,c)),!_)throw(0,ye.Z_)(Re.Jd);const S=Sa(this.storage,l,_,c,qt.t,d,l.hostnameAndPort,c.tid,void 0,void 0,this.logger);return this.storage.setAccount(S),S}throw(0,ye.Z_)(Re.Jd)}loadIdToken(c,l,d,p){const _=Q.Md(l,d,c,this.config.auth.clientId,p);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(_),_;throw(0,ye.Z_)(Re.Jd)}loadAccessToken(c,l,d,p,_,C){if(!l.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!l.expires_in||!C.extendedExpiresOn)throw(0,ye.Z_)(Re.Jd);const S=new Un.i(c.scopes).printScopes(),z=C.expiresOn||l.expires_in+(new Date).getTime()/1e3,W=Q.Ds(d,p,l.access_token,this.config.auth.clientId,_,S,z,C.extendedExpiresOn,qt.t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(W),W;throw(0,ye.Z_)(Re.Jd)}loadRefreshToken(c,l,d,p){if(!l.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const _=Q.OJ(d,p,l.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(_),_;throw(0,ye.Z_)(Re.Jd)}generateAuthenticationResult(c,l,d,p,_){let q,C=y.gT.EMPTY_STRING,S=[],z=null;return d?.accessToken&&(C=d.accessToken.secret,S=Un.i.fromString(d.accessToken.target).asArray(),z=new Date(1e3*Number(d.accessToken.expiresOn)),q=new Date(1e3*Number(d.accessToken.extendedExpiresOn))),{authority:_?_.canonicalAuthority:y.gT.EMPTY_STRING,uniqueId:l.oid||l.sub||y.gT.EMPTY_STRING,tenantId:l.tid||y.gT.EMPTY_STRING,scopes:S,account:p.getAccountInfo(),idToken:d.idToken?.secret||"",idTokenClaims:l||{},accessToken:C,fromCache:!0,expiresOn:z,correlationId:c.correlationId||y.gT.EMPTY_STRING,requestId:y.gT.EMPTY_STRING,extExpiresOn:q,familyId:y.gT.EMPTY_STRING,tokenType:d?.accessToken?.tokenType||y.gT.EMPTY_STRING,state:y.gT.EMPTY_STRING,cloudGraphHostName:p.cloudGraphHostName||y.gT.EMPTY_STRING,msGraphHost:p.msGraphHost||y.gT.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}class ff extends Tl{constructor(c){super(c),this.includeRedirectUri=!1}}class yt extends Ti{constructor(c,l,d,p,_,C,S,z,q,W){super(c,l,d,p,_,C,z,q,W),this.apiId=S}acquireToken(c){var l=this;return(0,v.Z)(function*(){if(!c.code)throw(0,ye.Z_)(Re.Aj);const d=yield b(l.initializeAuthorizationRequest.bind(l),P.Ak.StandardInteractionClientInitializeAuthorizationRequest,l.logger,l.performanceClient,c.correlationId)(c,F.s_.Silent),p=l.initializeServerTelemetryManager(l.apiId);try{const _={...d,code:c.code},C=yield b(l.getClientConfiguration.bind(l),P.Ak.StandardInteractionClientGetClientConfiguration,l.logger,l.performanceClient,c.correlationId)(p,d.authority,d.azureCloudOptions,d.account),S=new ff(C);l.logger.verbose("Auth code client created");const z=new Ma(S,l.browserStorage,_,l.logger,l.performanceClient);return yield b(z.handleCodeResponseFromServer.bind(z),P.Ak.HandleCodeResponseFromServer,l.logger,l.performanceClient,c.correlationId)({code:c.code,msgraph_host:c.msGraphHost,cloud_graph_host_name:c.cloudGraphHostName,cloud_instance_host_name:c.cloudInstanceHostName},d,!1)}catch(_){throw _ instanceof J.l4&&(_.setCorrelationId(l.correlationId),p.cacheFailedRequest(_)),_}})()}logout(){return Promise.reject((0,ye.Z_)(Re.I9))}}function Oe(H){const c=H?.idTokenClaims;return c?.tfp||c?.acr?"B2C":c?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===c?.tid?"MSA":"AAD":void 0}class co{constructor(c){this.operatingContext=c,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=c.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new g.Q(this.logger,this.performanceClient):D.d,this.eventHandler=new ba.b(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new ro(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function de(H){const c=H.cloudDiscoveryMetadata;let l;if(c)try{l=JSON.parse(c)}catch{throw(0,X.ei)(re.E)}return{canonicalAuthority:H.authority?ie(H.authority):void 0,knownAuthorities:H.knownAuthorities,cloudDiscoveryMetadata:l}}(this.config.auth),this.performanceClient):((H,c)=>new ro(this.config.auth.clientId,{cacheLocation:F.Ix.MemoryStorage,temporaryCacheLocation:F.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},D.d,this.logger))(),this.nativeInternalStorage=new ro(this.config.auth.clientId,{cacheLocation:F.Ix.MemoryStorage,temporaryCacheLocation:F.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Ra(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(c){return(0,v.Z)(function*(){const l=new co(c);return yield l.initialize(),l})()}trackPageVisibility(c){c&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},c))}initialize(){var c=this;return(0,v.Z)(function*(){if(c.logger.trace("initialize called"),c.initialized)return void c.logger.info("initialize has already been called, exiting early.");const l=c.config.system.allowNativeBroker,d=c.performanceClient.startMeasurement(P.Ak.InitializeClientApplication);if(c.eventHandler.emitEvent(xe.t.INITIALIZE_START),l)try{c.nativeExtensionProvider=yield Xn.createProvider(c.logger,c.config.system.nativeBrokerHandshakeTimeout,c.performanceClient)}catch(p){c.logger.verbose(p)}c.config.cache.claimsBasedCachingEnabled||(c.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield b(c.browserStorage.clearTokensAndKeysWithClaims.bind(c.browserStorage),P.Ak.ClearTokensAndKeysWithClaims,c.logger,c.performanceClient)(c.performanceClient)),c.initialized=!0,c.eventHandler.emitEvent(xe.t.INITIALIZE_END),d.end({allowNativeBroker:l,success:!0})})()}handleRedirectPromise(c){var l=this;return(0,v.Z)(function*(){if(l.logger.verbose("handleRedirectPromise called"),(0,vt.eQ)(l.initialized),l.isBrowserEnvironment){const d=c||"";let p=l.redirectResponse.get(d);return typeof p>"u"?(p=l.handleRedirectPromiseInternal(c),l.redirectResponse.set(d,p),l.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):l.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),p}return l.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}handleRedirectPromiseInternal(c){var l=this;return(0,v.Z)(function*(){const d=l.getAllAccounts(),p=l.browserStorage.getCachedNativeRequest(),_=p&&Xn.isNativeAvailable(l.config,l.logger,l.nativeExtensionProvider)&&l.nativeExtensionProvider&&!c,C=_?p?.correlationId:l.browserStorage.getTemporaryCache(F.c4.CORRELATION_ID,!0)||"",S=l.performanceClient.startMeasurement("acquireTokenRedirect",C);let z;if(l.eventHandler.emitEvent(xe.t.HANDLE_REDIRECT_START,F.s_.Redirect),_&&l.nativeExtensionProvider){l.logger.trace("handleRedirectPromise - acquiring token from native platform");const q=new ii(l.config,l.browserStorage,l.browserCrypto,l.logger,l.eventHandler,l.navigationClient,F.WN.handleRedirectPromise,l.performanceClient,l.nativeExtensionProvider,p.accountId,l.nativeInternalStorage,p.correlationId);z=b(q.handleRedirectPromise.bind(q),P.Ak.HandleNativeRedirectPromiseMeasurement,l.logger,l.performanceClient,S.event.correlationId)(l.performanceClient,S.event.correlationId)}else{l.logger.trace("handleRedirectPromise - acquiring token from web flow");const q=l.createRedirectClient(C);z=b(q.handleRedirectPromise.bind(q),P.Ak.HandleRedirectPromiseMeasurement,l.logger,l.performanceClient,S.event.correlationId)(c,S)}return z.then(q=>(q?(d.length<l.getAllAccounts().length?(l.eventHandler.emitEvent(xe.t.LOGIN_SUCCESS,F.s_.Redirect,q),l.logger.verbose("handleRedirectResponse returned result, login success")):(l.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_SUCCESS,F.s_.Redirect,q),l.logger.verbose("handleRedirectResponse returned result, acquire token success")),S.end({success:!0,accountType:Oe(q.account)})):S.event.errorCode?S.end({success:!1}):S.discard(),l.eventHandler.emitEvent(xe.t.HANDLE_REDIRECT_END,F.s_.Redirect),q)).catch(q=>{const W=q;throw l.eventHandler.emitEvent(d.length>0?xe.t.ACQUIRE_TOKEN_FAILURE:xe.t.LOGIN_FAILURE,F.s_.Redirect,null,W),l.eventHandler.emitEvent(xe.t.HANDLE_REDIRECT_END,F.s_.Redirect),S.end({success:!1},W),q})})()}acquireTokenRedirect(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);l.logger.verbose("acquireTokenRedirect called",d),(0,vt.ER)(l.initialized,l.config),l.browserStorage.setInteractionInProgress(!0);const p=l.getAllAccounts().length>0;let _;return l.eventHandler.emitEvent(p?xe.t.ACQUIRE_TOKEN_START:xe.t.LOGIN_START,F.s_.Redirect,c),_=l.nativeExtensionProvider&&l.canUseNative(c)?new ii(l.config,l.browserStorage,l.browserCrypto,l.logger,l.eventHandler,l.navigationClient,F.WN.acquireTokenRedirect,l.performanceClient,l.nativeExtensionProvider,l.getNativeAccountId(c),l.nativeInternalStorage,d).acquireTokenRedirect(c).catch(S=>{if(S instanceof Or&&Si(S))return l.nativeExtensionProvider=void 0,l.createRedirectClient(d).acquireToken(c);if(S instanceof he.Yo)return l.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),l.createRedirectClient(d).acquireToken(c);throw l.browserStorage.setInteractionInProgress(!1),S}):l.createRedirectClient(d).acquireToken(c),_.catch(C=>{throw l.eventHandler.emitEvent(p?xe.t.ACQUIRE_TOKEN_FAILURE:xe.t.LOGIN_FAILURE,F.s_.Redirect,null,C),C})})()}acquireTokenPopup(c){const l=this.getRequestCorrelationId(c),d=this.performanceClient.startMeasurement(P.Ak.AcquireTokenPopup,l);d.add({scenarioId:c.scenarioId,accountType:Oe(c.account)});try{this.logger.verbose("acquireTokenPopup called",l),(0,vt.ZC)(this.initialized),this.browserStorage.setInteractionInProgress(!0)}catch(C){return Promise.reject(C)}const p=this.getAllAccounts();let _;return this.eventHandler.emitEvent(p.length>0?xe.t.ACQUIRE_TOKEN_START:xe.t.LOGIN_START,F.s_.Popup,c),_=this.canUseNative(c)?this.acquireTokenNative({...c,correlationId:l},F.WN.acquireTokenPopup).then(C=>(this.browserStorage.setInteractionInProgress(!1),d.end({success:!0,isNativeBroker:!0,requestId:C.requestId,accountType:Oe(C.account)}),C)).catch(C=>{if(C instanceof Or&&Si(C))return this.nativeExtensionProvider=void 0,this.createPopupClient(l).acquireToken(c);if(C instanceof he.Yo)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(l).acquireToken(c);throw this.browserStorage.setInteractionInProgress(!1),C}):this.createPopupClient(l).acquireToken(c),_.then(C=>(p.length<this.getAllAccounts().length?this.eventHandler.emitEvent(xe.t.LOGIN_SUCCESS,F.s_.Popup,C):this.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_SUCCESS,F.s_.Popup,C),d.end({success:!0,requestId:C.requestId,accessTokenSize:C.accessToken.length,idTokenSize:C.idToken.length,accountType:Oe(C.account)}),C)).catch(C=>(this.eventHandler.emitEvent(p.length>0?xe.t.ACQUIRE_TOKEN_FAILURE:xe.t.LOGIN_FAILURE,F.s_.Popup,null,C),d.end({success:!1},C),Promise.reject(C)))}trackPageVisibilityWithMeasurement(){const c=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;c&&(this.logger.info("Perf: Visibility change detected in ",c.event.name),c.increment({visibilityChangeCount:1}))}ssoSilent(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c),p={...c,prompt:c.prompt,correlationId:d};let _;return(0,vt.ZC)(l.initialized),l.ssoSilentMeasurement=l.performanceClient.startMeasurement(P.Ak.SsoSilent,d),l.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),l.ssoSilentMeasurement?.add({scenarioId:c.scenarioId,accountType:Oe(c.account)}),document.addEventListener("visibilitychange",l.trackPageVisibilityWithMeasurement),l.logger.verbose("ssoSilent called",d),l.eventHandler.emitEvent(xe.t.SSO_SILENT_START,F.s_.Silent,p),_=l.canUseNative(p)?l.acquireTokenNative(p,F.WN.ssoSilent).catch(C=>{if(C instanceof Or&&Si(C))return l.nativeExtensionProvider=void 0,l.createSilentIframeClient(p.correlationId).acquireToken(p);throw C}):l.createSilentIframeClient(p.correlationId).acquireToken(p),_.then(C=>(l.eventHandler.emitEvent(xe.t.SSO_SILENT_SUCCESS,F.s_.Silent,C),l.ssoSilentMeasurement?.end({success:!0,isNativeBroker:C.fromNativeBroker,requestId:C.requestId,accessTokenSize:C.accessToken.length,idTokenSize:C.idToken.length,accountType:Oe(C.account)}),C)).catch(C=>{throw l.eventHandler.emitEvent(xe.t.SSO_SILENT_FAILURE,F.s_.Silent,null,C),l.ssoSilentMeasurement?.end({success:!1},C),C}).finally(()=>{document.removeEventListener("visibilitychange",l.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);l.logger.trace("acquireTokenByCode called",d),(0,vt.ZC)(l.initialized),l.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_BY_CODE_START,F.s_.Silent,c);const p=l.performanceClient.startMeasurement(P.Ak.AcquireTokenByCode,d);p.add({scenarioId:c.scenarioId});try{if(c.code&&c.nativeAccountId)throw(0,ye.Z_)(Re.LL);if(c.code){const _=c.code;let C=l.hybridAuthCodeResponses.get(_);return C?(l.logger.verbose("Existing acquireTokenByCode request found",d),p.discard()):(l.logger.verbose("Initiating new acquireTokenByCode request",d),C=l.acquireTokenByCodeAsync({...c,correlationId:d}).then(S=>(l.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_BY_CODE_SUCCESS,F.s_.Silent,S),l.hybridAuthCodeResponses.delete(_),p.end({success:!0,isNativeBroker:S.fromNativeBroker,requestId:S.requestId,accessTokenSize:S.accessToken.length,idTokenSize:S.idToken.length,accountType:Oe(S.account)}),S)).catch(S=>{throw l.hybridAuthCodeResponses.delete(_),l.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,F.s_.Silent,null,S),p.end({success:!1},S),S}),l.hybridAuthCodeResponses.set(_,C)),yield C}if(c.nativeAccountId){if(l.canUseNative(c,c.nativeAccountId)){const _=yield l.acquireTokenNative({...c,correlationId:d},F.WN.acquireTokenByCode,c.nativeAccountId).catch(C=>{throw C instanceof Or&&Si(C)&&(l.nativeExtensionProvider=void 0),C});return p.end({accountType:Oe(_.account),success:!0}),_}throw(0,ye.Z_)(Re.KA)}throw(0,ye.Z_)(Re.Dy)}catch(_){throw l.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,F.s_.Silent,null,_),p.end({success:!1},_),_}})()}acquireTokenByCodeAsync(c){var l=this;return(0,v.Z)(function*(){return l.logger.trace("acquireTokenByCodeAsync called",c.correlationId),l.acquireTokenByCodeAsyncMeasurement=l.performanceClient.startMeasurement(P.Ak.AcquireTokenByCodeAsync,c.correlationId),l.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",l.trackPageVisibilityWithMeasurement),yield l.createSilentAuthCodeClient(c.correlationId).acquireToken(c).then(_=>(l.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:_.fromCache,isNativeBroker:_.fromNativeBroker,requestId:_.requestId}),_)).catch(_=>{throw l.acquireTokenByCodeAsyncMeasurement?.end({success:!1},_),_}).finally(()=>{document.removeEventListener("visibilitychange",l.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(c,l){var d=this;return(0,v.Z)(function*(){switch(d.performanceClient.addQueueMeasurement(P.Ak.AcquireTokenFromCache,c.correlationId),l){case F.lu.Default:case F.lu.AccessToken:case F.lu.AccessTokenAndRefreshToken:const p=d.createSilentCacheClient(c.correlationId);return b(p.acquireToken.bind(p),P.Ak.SilentCacheClientAcquireToken,d.logger,d.performanceClient,c.correlationId)(c);default:throw(0,B.zP)(K.s$)}})()}acquireTokenByRefreshToken(c,l){var d=this;return(0,v.Z)(function*(){switch(d.performanceClient.addQueueMeasurement(P.Ak.AcquireTokenByRefreshToken,c.correlationId),l){case F.lu.Default:case F.lu.AccessTokenAndRefreshToken:case F.lu.RefreshToken:case F.lu.RefreshTokenAndNetwork:const p=d.createSilentRefreshClient(c.correlationId);return b(p.acquireToken.bind(p),P.Ak.SilentRefreshClientAcquireToken,d.logger,d.performanceClient,c.correlationId)(c);default:throw(0,B.zP)(K.s$)}})()}acquireTokenBySilentIframe(c){var l=this;return(0,v.Z)(function*(){l.performanceClient.addQueueMeasurement(P.Ak.AcquireTokenBySilentIframe,c.correlationId);const d=l.createSilentIframeClient(c.correlationId);return b(d.acquireToken.bind(d),P.Ak.SilentIframeClientAcquireToken,l.logger,l.performanceClient,c.correlationId)(c)})()}logout(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);return l.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",d),l.logoutRedirect({correlationId:d,...c})})()}logoutRedirect(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);return(0,vt.ER)(l.initialized,l.config),l.browserStorage.setInteractionInProgress(!0),l.createRedirectClient(d).logout(c)})()}logoutPopup(c){try{const l=this.getRequestCorrelationId(c);return(0,vt.ZC)(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(l).logout(c)}catch(l){return Promise.reject(l)}}clearCache(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);return l.createSilentCacheClient(d).logout(c)})()}getAllAccounts(c){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(c):[]}getAccount(c){if(this.logger.trace("getAccount called"),0===Object.keys(c).length)return this.logger.warning("getAccount: No accountFilter provided"),null;const l=this.browserStorage.getAccountInfoFilteredBy(c);return l?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),l):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(c){if(this.logger.trace("getAccountByUsername called"),!c)return this.logger.warning("getAccountByUsername: No username provided"),null;const l=this.browserStorage.getAccountInfoFilteredBy({username:c});return l?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${c}`),l):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(c){if(this.logger.trace("getAccountByHomeId called"),!c)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const l=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:c});return l?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${c}`),l):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(c){if(this.logger.trace("getAccountByLocalId called"),!c)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const l=this.browserStorage.getAccountInfoFilteredBy({localAccountId:c});return l?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${c}`),l):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(c){this.browserStorage.setActiveAccount(c)}getActiveAccount(){return this.browserStorage.getActiveAccount()}hydrateCache(c,l){var d=this;return(0,v.Z)(function*(){d.logger.verbose("hydrateCache called");const p=G.r.createFromAccountInfo(c.account,c.cloudGraphHostName,c.msGraphHost);return d.browserStorage.setAccount(p),c.fromNativeBroker?(d.logger.verbose("Response was from native broker, storing in-memory"),d.nativeInternalStorage.hydrateCache(c,l)):d.browserStorage.hydrateCache(c,l)})()}acquireTokenNative(c,l,d){var p=this;return(0,v.Z)(function*(){if(p.logger.trace("acquireTokenNative called"),!p.nativeExtensionProvider)throw(0,ye.Z_)(Re.V7);return new ii(p.config,p.browserStorage,p.browserCrypto,p.logger,p.eventHandler,p.navigationClient,l,p.performanceClient,p.nativeExtensionProvider,d||p.getNativeAccountId(c),p.nativeInternalStorage,c.correlationId).acquireToken(c)})()}canUseNative(c,l){if(this.logger.trace("canUseNative called"),!Xn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,c.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(c.prompt)switch(c.prompt){case y.NJ.NONE:case y.NJ.CONSENT:case y.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${c.prompt} is not compatible with native flow, returning false`),!1}return!(!l&&!this.getNativeAccountId(c)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))}getNativeAccountId(c){const l=c.account||this.getAccount({loginHint:c.loginHint,sid:c.sid})||this.getActiveAccount();return l&&l.nativeAccountId||""}createPopupClient(c){return new hf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,c)}createRedirectClient(c){return new lt(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,c)}createSilentIframeClient(c){return new ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,F.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,c)}createSilentCacheClient(c){return new Pl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,c)}createSilentRefreshClient(c){return new Bt(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,c)}createSilentAuthCodeClient(c){return new yt(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,F.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,c)}addEventCallback(c){return this.eventHandler.addEventCallback(c)}removeEventCallback(c){this.eventHandler.removeEventCallback(c)}addPerformanceCallback(c){return this.performanceClient.addPerformanceCallback(c)}removePerformanceCallback(c){return this.performanceClient.removePerformanceCallback(c)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(c){this.logger=c}initializeWrapperLibrary(c,l){this.browserStorage.setWrapperMetadata(c,l)}setNavigationClient(c){this.navigationClient=c}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(c){return c?.correlationId?c.correlationId:this.isBrowserEnvironment?(0,gr.nn)():y.gT.EMPTY_STRING}loginRedirect(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c);return l.logger.verbose("loginRedirect called",d),l.acquireTokenRedirect({correlationId:d,...c||F.yo})})()}loginPopup(c){const l=this.getRequestCorrelationId(c);return this.logger.verbose("loginPopup called",l),this.acquireTokenPopup({correlationId:l,...c||F.yo})}acquireTokenSilent(c){var l=this;return(0,v.Z)(function*(){const d=l.getRequestCorrelationId(c),p=l.performanceClient.startMeasurement(P.Ak.AcquireTokenSilent,d);p.add({cacheLookupPolicy:c.cacheLookupPolicy,scenarioId:c.scenarioId}),(0,vt.ZC)(l.initialized),l.logger.verbose("acquireTokenSilent called",d);const _=c.account||l.getActiveAccount();if(!_)throw(0,ye.Z_)(Re.wH);p.add({accountType:Oe(_)});const S=JSON.stringify({clientId:l.config.auth.clientId,authority:c.authority||y.gT.EMPTY_STRING,scopes:c.scopes,homeAccountIdentifier:_.homeAccountId,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid,shrOptions:c.shrOptions}),z=l.activeSilentTokenRequests.get(S);if(typeof z>"u"){l.logger.verbose("acquireTokenSilent called for the first time, storing active request",d);const q=b(l.acquireTokenSilentAsync.bind(l),P.Ak.AcquireTokenSilentAsync,l.logger,l.performanceClient,d)({...c,correlationId:d},_).then(W=>(l.activeSilentTokenRequests.delete(S),p.end({success:!0,fromCache:W.fromCache,isNativeBroker:W.fromNativeBroker,cacheLookupPolicy:c.cacheLookupPolicy,requestId:W.requestId,accessTokenSize:W.accessToken.length,idTokenSize:W.idToken.length}),W)).catch(W=>{throw l.activeSilentTokenRequests.delete(S),p.end({success:!1},W),W});return l.activeSilentTokenRequests.set(S,q),{...yield q,state:c.state}}return l.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",d),p.discard(),{...yield z,state:c.state}})()}acquireTokenSilentAsync(c,l){var d=this;return(0,v.Z)(function*(){d.performanceClient.addQueueMeasurement(P.Ak.AcquireTokenSilentAsync,c.correlationId),d.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_START,F.s_.Silent,c),c.correlationId&&d.performanceClient.incrementFields({visibilityChangeCount:0},c.correlationId),document.addEventListener("visibilitychange",()=>d.trackPageVisibility(c.correlationId));const p=yield b(Ml,P.Ak.InitializeSilentRequest,d.logger,d.performanceClient,c.correlationId)(c,l,d.config,d.performanceClient,d.logger),_=c.cacheLookupPolicy||F.lu.Default;return d.acquireTokenSilentNoIframe(p,_).catch(function(){var S=(0,v.Z)(function*(z){if(function Oa(H,c){const p=!(H instanceof he.Yo&&H.subError!==se.nl)&&(H.errorCode===F.qx.INVALID_GRANT_ERROR||H.errorCode===K.s$)||H.errorCode===se.I2||H.errorCode===se.Tw,_=F.se.includes(c);return p&&_}(z,_)){if(d.activeIframeRequest){if(_!==F.lu.Skip){const[W,we]=d.activeIframeRequest;d.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${we}`,p.correlationId);const Ne=d.performanceClient.startMeasurement(P.Ak.AwaitConcurrentIframe,p.correlationId);Ne.add({awaitIframeCorrelationId:we});const Ye=yield W;if(Ne.end({success:Ye}),Ye)return d.logger.verbose(`Parallel iframe request with correlationId: ${we} succeeded. Retrying cache and/or RT redemption`,p.correlationId),d.acquireTokenSilentNoIframe(p,_);throw d.logger.info(`Iframe request with correlationId: ${we} failed. Interaction is required.`),z}return d.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",p.correlationId),b(d.acquireTokenBySilentIframe.bind(d),P.Ak.AcquireTokenBySilentIframe,d.logger,d.performanceClient,p.correlationId)(p)}{let W;return d.activeIframeRequest=[new Promise(we=>{W=we}),p.correlationId],d.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",p.correlationId),b(d.acquireTokenBySilentIframe.bind(d),P.Ak.AcquireTokenBySilentIframe,d.logger,d.performanceClient,p.correlationId)(p).then(we=>(W(!0),we)).catch(we=>{throw W(!1),we}).finally(()=>{d.activeIframeRequest=void 0})}}throw z});return function(z){return S.apply(this,arguments)}}()).then(S=>(d.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_SUCCESS,F.s_.Silent,S),c.correlationId&&d.performanceClient.addFields({fromCache:S.fromCache,isNativeBroker:S.fromNativeBroker,requestId:S.requestId},c.correlationId),S)).catch(S=>{throw d.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_FAILURE,F.s_.Silent,null,S),S}).finally(()=>{document.removeEventListener("visibilitychange",()=>d.trackPageVisibility(c.correlationId))})})()}acquireTokenSilentNoIframe(c,l){var d=this;return(0,v.Z)(function*(){return Xn.isNativeAvailable(d.config,d.logger,d.nativeExtensionProvider,c.authenticationScheme)&&c.account.nativeAccountId?(d.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),d.acquireTokenNative(c,F.WN.acquireTokenSilent_silentFlow).catch(function(){var p=(0,v.Z)(function*(_){throw _ instanceof Or&&Si(_)?(d.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),d.nativeExtensionProvider=void 0,(0,B.zP)(K.s$)):_});return function(_){return p.apply(this,arguments)}}())):(d.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),b(d.acquireTokenFromCache.bind(d),P.Ak.AcquireTokenFromCache,d.logger,d.performanceClient,c.correlationId)(c,l).catch(p=>{if(l===F.lu.AccessToken)throw p;return d.eventHandler.emitEvent(xe.t.ACQUIRE_TOKEN_NETWORK_START,F.s_.Silent,c),b(d.acquireTokenByRefreshToken.bind(d),P.Ak.AcquireTokenByRefreshToken,d.logger,d.performanceClient,c.correlationId)(c,l)}))})()}}},2690:(ke,oe,w)=>{w.d(oe,{$5:()=>ee,Au:()=>Q,Fv:()=>P,Mg:()=>re,PP:()=>b,Wu:()=>G,Xx:()=>de,nn:()=>J,qz:()=>ue});var v=w(5861),g=w(8293),D=w(7979),N=w(8593),L=w(1173),O=w(7377);const y="SHA-256",X=new Uint8Array([1,0,1]),x="0123456789abcdef",ne=new Uint32Array(1),Ce={name:"RSASSA-PKCS1-v1_5",hash:y,modulusLength:2048,publicExponent:X};function ue(ce){if(!("crypto"in window))throw ce.error("BrowserCrypto: crypto interface is unavailable"),(0,g.Z_)(O.TR);ce.verbose("BrowserCrypto: modern crypto interface available")}function P(ce,_e,Te){return De.apply(this,arguments)}function De(){return(De=(0,v.Z)(function*(ce,_e,Te){_e?.addQueueMeasurement(D.Ak.Sha256Digest,Te);const Se=(new TextEncoder).encode(ce);return window.crypto.subtle.digest(y,Se)})).apply(this,arguments)}function b(ce){return window.crypto.getRandomValues(ce)}function M(){return window.crypto.getRandomValues(ne),ne[0]}function J(){const ce=Date.now(),_e=1024*M()+(1023&M()),Te=new Uint8Array(16),Ze=Math.trunc(_e/2**30),Se=_e&2**30-1,nt=M();Te[0]=ce/2**40,Te[1]=ce/2**32,Te[2]=ce/2**24,Te[3]=ce/65536,Te[4]=ce/256,Te[5]=ce,Te[6]=112|Ze>>>8,Te[7]=Ze,Te[8]=128|Se>>>24,Te[9]=Se>>>16,Te[10]=Se>>>8,Te[11]=Se,Te[12]=nt>>>24,Te[13]=nt>>>16,Te[14]=nt>>>8,Te[15]=nt;let Wt="";for(let ye=0;ye<Te.length;ye++)Wt+=x.charAt(Te[ye]>>>4),Wt+=x.charAt(15&Te[ye]),(3===ye||5===ye||7===ye||9===ye)&&(Wt+="-");return Wt}function Q(ce,_e){return K.apply(this,arguments)}function K(){return(K=(0,v.Z)(function*(ce,_e){return window.crypto.subtle.generateKey(Ce,ce,_e)})).apply(this,arguments)}function re(ce){return V.apply(this,arguments)}function V(){return(V=(0,v.Z)(function*(ce){return window.crypto.subtle.exportKey(N.Mm,ce)})).apply(this,arguments)}function ee(ce,_e,Te){return ie.apply(this,arguments)}function ie(){return(ie=(0,v.Z)(function*(ce,_e,Te){return window.crypto.subtle.importKey(N.Mm,ce,Ce,_e,Te)})).apply(this,arguments)}function de(ce,_e){return he.apply(this,arguments)}function he(){return(he=(0,v.Z)(function*(ce,_e){return window.crypto.subtle.sign(Ce,ce,_e)})).apply(this,arguments)}function G(ce){return se.apply(this,arguments)}function se(){return(se=(0,v.Z)(function*(ce){const _e=yield P(ce),Te=new Uint8Array(_e);return(0,L.Wy)(Te)})).apply(this,arguments)}},7883:(ke,oe,w)=>{w.d(oe,{Q:()=>Q});var v=w(5861),g=w(7979),D=w(7481);const N="missing_kid_error",L="missing_alg_error",O={[N]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[L]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class B extends D.l4{constructor(V,ee){super(V,ee),this.name="JoseHeaderError",Object.setPrototypeOf(this,B.prototype)}}function y(re){return new B(re,O[re])}var I=w(5500);class X{constructor(V){this.typ=V.typ,this.alg=V.alg,this.kid=V.kid}static getShrHeaderString(V){if(!V.kid)throw y(N);if(!V.alg)throw y(L);const ee=new X({typ:V.typ||I.xd.Pop,kid:V.kid,alg:V.alg});return JSON.stringify(ee)}}var x=w(1173),ne=w(6787),Ce=w(2690),ue=w(8293),P=w(8593),De=w(7377);class b{constructor(){this.dbName=P.H4,this.version=P.kd,this.tableName=P.Gv,this.dbOpen=!1}open(){var V=this;return(0,v.Z)(function*(){return new Promise((ee,ie)=>{const de=window.indexedDB.open(V.dbName,V.version);de.addEventListener("upgradeneeded",he=>{he.target.result.createObjectStore(V.tableName)}),de.addEventListener("success",he=>{V.db=he.target.result,V.dbOpen=!0,ee()}),de.addEventListener("error",()=>ie((0,ue.Z_)(De.Pi)))})})()}closeConnection(){const V=this.db;V&&this.dbOpen&&(V.close(),this.dbOpen=!1)}validateDbIsOpen(){var V=this;return(0,v.Z)(function*(){if(!V.dbOpen)return V.open()})()}getItem(V){var ee=this;return(0,v.Z)(function*(){return yield ee.validateDbIsOpen(),new Promise((ie,de)=>{if(!ee.db)return de((0,ue.Z_)(De.IL));const se=ee.db.transaction([ee.tableName],"readonly").objectStore(ee.tableName).get(V);se.addEventListener("success",ce=>{const _e=ce;ee.closeConnection(),ie(_e.target.result)}),se.addEventListener("error",ce=>{ee.closeConnection(),de(ce)})})})()}setItem(V,ee){var ie=this;return(0,v.Z)(function*(){return yield ie.validateDbIsOpen(),new Promise((de,he)=>{if(!ie.db)return he((0,ue.Z_)(De.IL));const ce=ie.db.transaction([ie.tableName],"readwrite").objectStore(ie.tableName).put(ee,V);ce.addEventListener("success",()=>{ie.closeConnection(),de()}),ce.addEventListener("error",_e=>{ie.closeConnection(),he(_e)})})})()}removeItem(V){var ee=this;return(0,v.Z)(function*(){return yield ee.validateDbIsOpen(),new Promise((ie,de)=>{if(!ee.db)return de((0,ue.Z_)(De.IL));const se=ee.db.transaction([ee.tableName],"readwrite").objectStore(ee.tableName).delete(V);se.addEventListener("success",()=>{ee.closeConnection(),ie()}),se.addEventListener("error",ce=>{ee.closeConnection(),de(ce)})})})()}getKeys(){var V=this;return(0,v.Z)(function*(){return yield V.validateDbIsOpen(),new Promise((ee,ie)=>{if(!V.db)return ie((0,ue.Z_)(De.IL));const G=V.db.transaction([V.tableName],"readonly").objectStore(V.tableName).getAllKeys();G.addEventListener("success",se=>{const ce=se;V.closeConnection(),ee(ce.target.result)}),G.addEventListener("error",se=>{V.closeConnection(),ie(se)})})})()}containsKey(V){var ee=this;return(0,v.Z)(function*(){return yield ee.validateDbIsOpen(),new Promise((ie,de)=>{if(!ee.db)return de((0,ue.Z_)(De.IL));const se=ee.db.transaction([ee.tableName],"readonly").objectStore(ee.tableName).count(V);se.addEventListener("success",ce=>{const _e=ce;ee.closeConnection(),ie(1===_e.target.result)}),se.addEventListener("error",ce=>{ee.closeConnection(),de(ce)})})})()}deleteDatabase(){var V=this;return(0,v.Z)(function*(){return V.db&&V.dbOpen&&V.closeConnection(),new Promise((ee,ie)=>{const de=window.indexedDB.deleteDatabase(P.H4),he=setTimeout(()=>ie(!1),200);de.addEventListener("success",()=>(clearTimeout(he),ee(!0))),de.addEventListener("blocked",()=>(clearTimeout(he),ee(!0))),de.addEventListener("error",()=>(clearTimeout(he),ie(!1)))})})()}}var M=w(6475);class J{constructor(V){this.inMemoryCache=new M.k,this.indexedDBCache=new b,this.logger=V}handleDatabaseAccessError(V){if(!(V instanceof ue.Ut&&V.errorCode===De.Pi))throw V;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(V){var ee=this;return(0,v.Z)(function*(){const ie=ee.inMemoryCache.getItem(V);if(!ie)try{return ee.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield ee.indexedDBCache.getItem(V)}catch(de){ee.handleDatabaseAccessError(de)}return ie})()}setItem(V,ee){var ie=this;return(0,v.Z)(function*(){ie.inMemoryCache.setItem(V,ee);try{yield ie.indexedDBCache.setItem(V,ee)}catch(de){ie.handleDatabaseAccessError(de)}})()}removeItem(V){var ee=this;return(0,v.Z)(function*(){ee.inMemoryCache.removeItem(V);try{yield ee.indexedDBCache.removeItem(V)}catch(ie){ee.handleDatabaseAccessError(ie)}})()}getKeys(){var V=this;return(0,v.Z)(function*(){const ee=V.inMemoryCache.getKeys();if(0===ee.length)try{return V.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield V.indexedDBCache.getKeys()}catch(ie){V.handleDatabaseAccessError(ie)}return ee})()}containsKey(V){var ee=this;return(0,v.Z)(function*(){const ie=ee.inMemoryCache.containsKey(V);if(!ie)try{return ee.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield ee.indexedDBCache.containsKey(V)}catch(de){ee.handleDatabaseAccessError(de)}return ie})()}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){var V=this;return(0,v.Z)(function*(){try{V.logger.verbose("Deleting persistent keystore");const ee=yield V.indexedDBCache.deleteDatabase();return ee&&V.logger.verbose("Persistent keystore deleted"),ee}catch(ee){return V.handleDatabaseAccessError(ee),!1}})()}}let Q=(()=>{class re{constructor(ee,ie){this.logger=ee,(0,Ce.qz)(ee),this.cache=new J(this.logger),this.performanceClient=ie}createNewGuid(){return(0,Ce.nn)()}base64Encode(ee){return(0,x.h$)(ee)}base64Decode(ee){return(0,ne.t)(ee)}getPublicKeyThumbprint(ee){var ie=this;return(0,v.Z)(function*(){const de=ie.performanceClient?.startMeasurement(g.Ak.CryptoOptsGetPublicKeyThumbprint,ee.correlationId),he=yield(0,Ce.Au)(re.EXTRACTABLE,re.POP_KEY_USAGES),G=yield(0,Ce.Mg)(he.publicKey),ce=K({e:G.e,kty:G.kty,n:G.n}),_e=yield ie.hashString(ce),Te=yield(0,Ce.Mg)(he.privateKey),Ze=yield(0,Ce.$5)(Te,!1,["sign"]);return yield ie.cache.setItem(_e,{privateKey:Ze,publicKey:he.publicKey,requestMethod:ee.resourceRequestMethod,requestUri:ee.resourceRequestUri}),de&&de.end({success:!0}),_e})()}removeTokenBindingKey(ee){var ie=this;return(0,v.Z)(function*(){return yield ie.cache.removeItem(ee),!(yield ie.cache.containsKey(ee))})()}clearKeystore(){var ee=this;return(0,v.Z)(function*(){ee.cache.clearInMemory();try{return yield ee.cache.clearPersistent(),!0}catch(ie){return ie instanceof Error?ee.logger.error(`Clearing keystore failed with error: ${ie.message}`):ee.logger.error("Clearing keystore failed with unknown error"),!1}})()}signJwt(ee,ie,de,he){var G=this;return(0,v.Z)(function*(){const se=G.performanceClient?.startMeasurement(g.Ak.CryptoOptsSignJwt,he),ce=yield G.cache.getItem(ie);if(!ce)throw(0,ue.Z_)(De.XM);const _e=yield(0,Ce.Mg)(ce.publicKey),Te=K(_e),Ze=(0,x._j)(JSON.stringify({kid:ie})),Se=X.getShrHeaderString({...de?.header,alg:_e.alg,kid:Ze}),nt=(0,x._j)(Se);ee.cnf={jwk:JSON.parse(Te)};const ye=`${nt}.${(0,x._j)(JSON.stringify(ee))}`,je=(new TextEncoder).encode(ye),Mn=yield(0,Ce.Xx)(ce.privateKey,je),rt=`${ye}.${(0,x.Wy)(new Uint8Array(Mn))}`;return se&&se.end({success:!0}),rt})()}hashString(ee){return(0,v.Z)(function*(){return(0,Ce.Wu)(ee)})()}}return re.POP_KEY_USAGES=["sign","verify"],re.EXTRACTABLE=!0,re})();function K(re){return JSON.stringify(re,Object.keys(re).sort())}},6787:(ke,oe,w)=>{w.d(oe,{t:()=>D});var v=w(8293),g=w(7377);function D(L){return(new TextDecoder).decode(function N(L){let O=L.replace(/-/g,"+").replace(/_/g,"/");switch(O.length%4){case 0:break;case 2:O+="==";break;case 3:O+="=";break;default:throw(0,v.Z_)(g.lZ)}const B=atob(O);return Uint8Array.from(B,y=>y.codePointAt(0)||0)}(L))}},1173:(ke,oe,w)=>{function v(L){return encodeURIComponent(D(L).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function g(L){return N(L).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function D(L){return N((new TextEncoder).encode(L))}function N(L){const O=Array.from(L,B=>String.fromCodePoint(B)).join("");return btoa(O)}w.d(oe,{Wy:()=>g,_j:()=>v,h$:()=>D})},8293:(ke,oe,w)=>{w.d(oe,{Ut:()=>O,Z_:()=>B});var v=w(7481),g=w(7377);const D="For more visit: aka.ms/msaljs/browser-errors",N={[g.vD]:"The PKCE code challenge and verifier could not be generated.",[g.TR]:"The crypto object or function is not available.",[g._c]:"Navigation URI is empty. Please check stack trace for more info.",[g.nF]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${D}`,[g.Xk]:"Hash does not contain state. Please verify that the request originated from msal.",[g.S_]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${D}`,[g.$P]:"Unable to parse state. Please verify that the request originated from msal.",[g.yK]:"Hash contains state but the interaction type does not match the caller.",[g.Ck]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${D}`,[g.E]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[g.H]:"window.open returned null or undefined window object.",[g.h7]:"User cancelled the flow.",[g.ZT]:`Token acquisition in popup failed due to timeout.  ${D}`,[g.JA]:`Token acquisition in iframe failed due to timeout.  ${D}`,[g.b_]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[g.xO]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${D}`,[g.bj]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[g.h8]:"The iframe being monitored was closed prematurely.",[g.I9]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[g.wH]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[g.WQ]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[g.QO]:"No token request found in cache.",[g.e$]:"The cached token request could not be parsed.",[g.dT]:"No cached authority found.",[g.BO]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[g.Ut]:"Invalid cache type",[g.Dx]:"Login and token requests are not supported in non-browser environments.",[g.IL]:"Database is not open!",[g.Mq]:"No network connectivity. Check your internet connection.",[g.Dc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[g.C8]:"Network request failed. Please check the network trace to determine root cause.",[g.w6]:"Failed to parse network response. Check network trace.",[g.Jd]:"Error loading token to cache.",[g.XM]:"Cryptographic Key or Keypair not found in browser storage.",[g.Aj]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[g.Dy]:"An authorization code or nativeAccountId must be provided to this flow.",[g.LL]:"Request cannot contain both spa code and native account id.",[g.Pi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[g.KA]:`Unable to acquire token from native platform.  ${D}`,[g.hR]:"Timed out while attempting to establish connection to browser extension",[g.Wb]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[g.V7]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${D}`,[g.al]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${D}`,[g.o9]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[g.lZ]:"Invalid base64 encoded string."};class O extends v.l4{constructor(I){super(I,N[I]),Object.setPrototypeOf(this,O.prototype),this.name="BrowserAuthError"}}function B(y){return new O(y)}},7377:(ke,oe,w)=>{w.d(oe,{$P:()=>B,Aj:()=>nt,BO:()=>ie,C8:()=>_e,Ck:()=>I,Dc:()=>ce,Dx:()=>he,Dy:()=>Wt,E:()=>X,H:()=>x,I9:()=>J,IL:()=>G,JA:()=>ue,Jd:()=>Ze,KA:()=>je,LL:()=>ye,Mq:()=>se,Pi:()=>F,QO:()=>re,S_:()=>O,TR:()=>g,Ut:()=>de,V7:()=>rt,WQ:()=>K,Wb:()=>dn,XM:()=>Se,Xk:()=>L,ZT:()=>Ce,_c:()=>D,al:()=>ze,b_:()=>P,bj:()=>b,dT:()=>ee,e$:()=>V,h7:()=>ne,h8:()=>M,hR:()=>Mn,lZ:()=>Ke,nF:()=>N,o9:()=>qt,vD:()=>v,w6:()=>Te,wH:()=>Q,xO:()=>De,yK:()=>y});const v="pkce_not_created",g="crypto_nonexistent",D="empty_navigate_uri",N="hash_empty_error",L="no_state_in_hash",O="hash_does_not_contain_known_properties",B="unable_to_parse_state",y="state_interaction_type_mismatch",I="interaction_in_progress",X="popup_window_error",x="empty_window_error",ne="user_cancelled",Ce="monitor_popup_timeout",ue="monitor_window_timeout",P="redirect_in_iframe",De="block_iframe_reload",b="block_nested_popups",M="iframe_closed_prematurely",J="silent_logout_unsupported",Q="no_account_error",K="silent_prompt_value_error",re="no_token_request_cache_error",V="unable_to_parse_token_request_cache_error",ee="no_cached_authority_error",ie="auth_request_not_set_error",de="invalid_cache_type",he="non_browser_environment",G="database_not_open",se="no_network_connectivity",ce="post_request_failed",_e="get_request_failed",Te="failed_to_parse_response",Ze="unable_to_load_token",Se="crypto_key_not_found",nt="auth_code_required",Wt="auth_code_or_nativeAccountId_required",ye="spa_code_and_nativeAccountId_present",F="database_unavailable",je="unable_to_acquire_token_from_native_platform",Mn="native_handshake_timeout",dn="native_extension_not_installed",rt="native_connection_not_established",ze="uninitialized_public_client_application",qt="native_prompt_not_supported",Ke="invalid_base64_string"},3325:(ke,oe,w)=>{w.d(oe,{WK:()=>L,Z1:()=>O});var v=w(7481),g=w(3094);const D={[g.m4]:"Given storage configuration option was not supported.",[g.hJ]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[g.xC]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class L extends v.l4{constructor(y,I){super(y,I),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,L.prototype)}}function O(B){return new L(B,D[B])}},3094:(ke,oe,w)=>{w.d(oe,{hJ:()=>g,m4:()=>v,xC:()=>D});const v="storage_not_supported",g="stubbed_public_client_application_called",D="in_mem_redirect_unavailable"},4076:(ke,oe,w)=>{w.d(oe,{b:()=>O});var v=w(5500),g=w(6603),D=w(9723),N=w(6097),L=w(2690);class O{constructor(y,I){this.eventCallbacks=new Map,this.logger=y,this.browserCrypto=I,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(y){if(typeof window<"u"){const I=(0,L.nn)();return this.eventCallbacks.set(I,y),this.logger.verbose(`Event callback registered with id: ${I}`),I}return null}removeEventCallback(y){this.eventCallbacks.delete(y),this.logger.verbose(`Event callback ${y} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(y,I,X,x){if(typeof window<"u"){const ne={eventType:y,interactionType:I||null,payload:X||null,error:x||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${y}`),this.eventCallbacks.forEach((Ce,ue)=>{this.logger.verbose(`Emitting event to callback ${ue}: ${y}`),Ce.apply(null,[ne])})}}handleAccountCacheChange(y){try{y.key?.includes(v.Vi.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(N.t.ACTIVE_ACCOUNT_CHANGED);const I=y.newValue||y.oldValue;if(!I)return;const X=JSON.parse(I);if("object"!=typeof X||!g.r.isAccountEntity(X))return;const ne=D.L.toObject(new g.r,X).getAccountInfo();!y.oldValue&&y.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(N.t.ACCOUNT_ADDED,void 0,ne)):!y.newValue&&y.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(N.t.ACCOUNT_REMOVED,void 0,ne))}catch{return}}}},6097:(ke,oe,w)=>{w.d(oe,{t:()=>v});const v={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"}},7580:(ke,oe,w)=>{w.d(oe,{i:()=>g,u:()=>v});const v="@azure/msal-browser",g="3.14.0"},8593:(ke,oe,w)=>{w.d(oe,{$H:()=>ne,BD:()=>D,Bs:()=>I,EC:()=>O,Gv:()=>M,H4:()=>De,Ix:()=>L,Ky:()=>N,Mm:()=>ue,Oq:()=>y,PK:()=>re,WN:()=>X,bg:()=>K,c4:()=>B,kd:()=>b,lA:()=>P,lu:()=>J,qx:()=>g,s_:()=>x,se:()=>Q,yo:()=>Ce});var v=w(5500);const g={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},D={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},N={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},L={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},O={GET:"GET",POST:"POST"},B={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},y={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},I={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},X={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var x=function(ee){return ee.Redirect="redirect",ee.Popup="popup",ee.Silent="silent",ee.None="none",ee}(x||{});const ne={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Ce={scopes:v.f_},ue="jwk",P={React:"@azure/msal-react",Angular:"@azure/msal-angular"},De="msal.db",b=1,M=`${De}.keys`,J={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Q=[J.Default,J.Skip,J.RefreshTokenAndNetwork],K="msal.browser.log.level",re="msal.browser.log.pii"},5291:(ke,oe,w)=>{w.d(oe,{$P:()=>Q,ER:()=>J,Re:()=>x,ZC:()=>M,eQ:()=>b,fl:()=>ne,hH:()=>B,tT:()=>y,zd:()=>I});var v=w(7581),g=w(8293),D=w(8593),N=w(3325),L=w(7377),O=w(3094);function B(re){re.location.hash="","function"==typeof re.history.replaceState&&re.history.replaceState(null,"",`${re.location.origin}${re.location.pathname}${re.location.search}`)}function y(re){const V=re.split("#");V.shift(),window.location.hash=V.length>0?V.join("#"):""}function I(){return window.parent!==window}function x(){return window.location.href.split("?")[0].split("#")[0]}function ne(){const V=new v.G(window.location.href).getUrlComponents();return`${V.Protocol}//${V.HostNameAndPort}/`}function b(re){if(!re)throw(0,g.Z_)(L.al)}function M(re){(function De(){if(typeof window>"u")throw(0,g.Z_)(L.Dx)})(),function Ce(){if(v.G.hashContainsKnownProperties(window.location.hash)&&I())throw(0,g.Z_)(L.xO)}(),function P(){if(function X(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(`${D.qx.POPUP_NAME_PREFIX}.`)}())throw(0,g.Z_)(L.bj)}(),b(re)}function J(re,V){if(M(re),function ue(re){if(I()&&!re)throw(0,g.Z_)(L.b_)}(V.system.allowRedirectInIframe),V.cache.cacheLocation===D.Ix.MemoryStorage&&!V.cache.storeAuthStateInCookie)throw(0,N.Z1)(O.xC)}function Q(re){const V=document.createElement("link");V.rel="preconnect",V.href=new URL(re).origin,V.crossOrigin="anonymous",document.head.appendChild(V),window.setTimeout(()=>{try{document.head.removeChild(V)}catch{}},1e4)}},2581:(ke,oe,w)=>{function v(N,L){return!!N&&!!L&&N===L.split(".")[1]}function g(N,L){const{oid:O,sub:B,tid:y,name:I,tfp:X,acr:x}=L,ne=y||X||x||"";return{tenantId:ne,localAccountId:O||B||"",name:I,isHomeTenant:v(ne,N)}}function D(N,L,O,B){let y=N;if(L){const{isHomeTenant:I,...X}=L;y={...N,...X}}if(O){const{isHomeTenant:I,...X}=g(N.homeAccountId,O);return y={...y,...X,idTokenClaims:O,idToken:B},y}return y}w.d(oe,{$f:()=>D,Hc:()=>v,SI:()=>g})},9082:(ke,oe,w)=>{w.d(oe,{Z_:()=>D,ky:()=>L});var v=w(5140),g=w(5841);function D(O,B){const y=function N(O){if(!O)throw(0,v.zP)(g.PM);const y=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(O);if(!y||y.length<4)throw(0,v.zP)(g.GH);return y[2]}(O);try{const I=B(y);return JSON.parse(I)}catch{throw(0,v.zP)(g.GH)}}function L(O,B){if(0===B||Date.now()-3e5>O+B)throw(0,v.zP)(g.Ao)}},1758:(ke,oe,w)=>{w.d(oe,{B:()=>N,j:()=>L});var v=w(5140),g=w(5500),D=w(5841);function N(O,B){if(!O)throw(0,v.zP)(D.S7);try{const y=B(O);return JSON.parse(y)}catch{throw(0,v.zP)(D.ZE)}}function L(O){if(!O)throw(0,v.zP)(D.ZE);const B=O.split(g.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:B[0],utid:B.length<2?g.gT.EMPTY_STRING:B[1]}}},8683:(ke,oe,w)=>{function v(g){return g&&(g.tid||g.tfp||g.acr)||null}w.d(oe,{M:()=>v})},1322:(ke,oe,w)=>{w.d(oe,{Qh:()=>N,_u:()=>B,eM:()=>X,ix:()=>I,wn:()=>O});var v=w(7581),g=w(5500);const N={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},L={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},O=new Set;function B(x,ne){let Ce;const ue=x.canonicalAuthority;if(ue){const P=new v.G(ue).getUrlComponents().HostNameAndPort;Ce=y(P,x.cloudDiscoveryMetadata?.metadata,g.pQ.CONFIG,ne)||y(P,L.metadata,g.pQ.HARDCODED_VALUES,ne)||x.knownAuthorities}return Ce||[]}function y(x,ne,Ce,ue){if(ue?.trace(`getAliasesFromMetadata called with source: ${Ce}`),x&&ne){const P=X(ne,x);if(P)return ue?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${Ce}, returning aliases`),P.aliases;ue?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${Ce}`)}return null}function I(x){return X(L.metadata,x)}function X(x,ne){for(let Ce=0;Ce<x.length;Ce++){const ue=x[Ce];if(ue.aliases.includes(ne))return ue}return null}L.metadata.forEach(x=>{x.aliases.forEach(ne=>{O.add(ne)})})},2286:(ke,oe,w)=>{w.d(oe,{z:()=>v});const v={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}},63:(ke,oe,w)=>{w.d(oe,{a:()=>v});const v={Default:0,Adfs:1,Dsts:2,Ciam:3}},6132:(ke,oe,w)=>{w.d(oe,{A:()=>v});const v={AAD:"AAD",OIDC:"OIDC"}},9723:(ke,oe,w)=>{w.d(oe,{L:()=>ue,w:()=>P});var v=w(5861),g=w(5500),D=w(8821),N=w(7795),L=w(6603),O=w(5140),B=w(2581),y=w(9082),I=w(1667),X=w(1322),x=w(8562),ne=w(5841),Ce=w(7276);class ue{constructor(b,M,J,Q){this.clientId=b,this.cryptoImpl=M,this.commonLogger=J.clone(I.u,I.i),this.staticAuthorityOptions=Q}getAllAccounts(b){return this.buildTenantProfiles(this.getAccountsFilteredBy(b||{}),b)}getAccountInfoFilteredBy(b){const M=this.getAllAccounts(b);return M.length>1?M.sort(Q=>Q.idTokenClaims?-1:1)[0]:1===M.length?M[0]:null}getBaseAccountInfo(b){const M=this.getAccountsFilteredBy(b);return M.length>0?M[0].getAccountInfo():null}buildTenantProfiles(b,M){return b.flatMap(J=>this.getAccountInfoForTenantProfiles(J,M))}getAccountInfoForTenantProfiles(b,M){return this.getTenantProfilesFromAccountEntity(b,M?.tenantId,M)}getTenantedAccountInfoByFilter(b,M,J,Q){let re,K=null;if(Q&&!this.tenantProfileMatchesFilter(J,Q))return null;const V=this.getIdToken(b,M,J.tenantId);return V&&(re=(0,y.Z_)(V.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(re,Q))?null:(K=(0,B.$f)(b,J,re,V?.secret),K)}getTenantProfilesFromAccountEntity(b,M,J){const Q=b.getAccountInfo();let K=Q.tenantProfiles||new Map;const re=this.getTokenKeys();if(M){const ee=K.get(M);if(!ee)return[];K=new Map([[M,ee]])}const V=[];return K.forEach(ee=>{const ie=this.getTenantedAccountInfoByFilter(Q,re,ee,J);ie&&V.push(ie)}),V}tenantProfileMatchesFilter(b,M){return!(M.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(b,M.localAccountId)||M.name&&b.name!==M.name||void 0!==M.isHomeTenant&&b.isHomeTenant!==M.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(b,M){return!(M&&(M.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(b,M.localAccountId)||M.loginHint&&!this.matchLoginHintFromTokenClaims(b,M.loginHint)||M.username&&!this.matchUsername(b.preferred_username,M.username)||M.name&&!this.matchName(b,M.name)||M.sid&&!this.matchSid(b,M.sid)))}saveCacheRecord(b,M,J){var Q=this;return(0,v.Z)(function*(){if(!b)throw(0,O.zP)(ne.mj);try{b.account&&Q.setAccount(b.account),b.idToken&&!1!==M?.idToken&&Q.setIdTokenCredential(b.idToken),b.accessToken&&!1!==M?.accessToken&&(yield Q.saveAccessToken(b.accessToken)),b.refreshToken&&!1!==M?.refreshToken&&Q.setRefreshTokenCredential(b.refreshToken),b.appMetadata&&Q.setAppMetadata(b.appMetadata)}catch(K){throw Q.commonLogger?.error("CacheManager.saveCacheRecord: failed"),K instanceof Error?(Q.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${K.message}`,J),"QuotaExceededError"===K.name||"NS_ERROR_DOM_QUOTA_REACHED"===K.name||K.message.includes("exceeded the quota")?(Q.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",J),new x.ju(Ce.b)):new x.ju(K.name,K.message)):(Q.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${K}`,J),new x.ju(Ce.K))}})()}saveAccessToken(b){var M=this;return(0,v.Z)(function*(){const J={clientId:b.clientId,credentialType:b.credentialType,environment:b.environment,homeAccountId:b.homeAccountId,realm:b.realm,tokenType:b.tokenType,requestedClaimsHash:b.requestedClaimsHash},Q=M.getTokenKeys(),K=N.i.fromString(b.target),re=[];Q.accessToken.forEach(V=>{if(!M.accessTokenKeyMatchesFilter(V,J,!1))return;const ee=M.getAccessTokenCredential(V);ee&&M.credentialMatchesFilter(ee,J)&&N.i.fromString(ee.target).intersectingScopeSets(K)&&re.push(M.removeAccessToken(V))}),yield Promise.all(re),M.setAccessTokenCredential(b)})()}getAccountsFilteredBy(b){const M=this.getAccountKeys(),J=[];return M.forEach(Q=>{if(!this.isAccountKey(Q,b.homeAccountId))return;const K=this.getAccount(Q,this.commonLogger);if(!K||b.homeAccountId&&!this.matchHomeAccountId(K,b.homeAccountId)||b.username&&!this.matchUsername(K.username,b.username)||b.environment&&!this.matchEnvironment(K,b.environment)||b.realm&&!this.matchRealm(K,b.realm)||b.nativeAccountId&&!this.matchNativeAccountId(K,b.nativeAccountId)||b.authorityType&&!this.matchAuthorityType(K,b.authorityType))return;const re={localAccountId:b?.localAccountId,name:b?.name},V=K.tenantProfiles?.filter(ee=>this.tenantProfileMatchesFilter(ee,re));V&&0===V.length||J.push(K)}),J}isAccountKey(b,M,J){return!(b.split(g.Bv.CACHE_KEY_SEPARATOR).length<3||M&&!b.toLowerCase().includes(M.toLowerCase())||J&&!b.toLowerCase().includes(J.toLowerCase()))}isCredentialKey(b){if(b.split(g.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const M=b.toLowerCase();if(-1===M.indexOf(g.d3.ID_TOKEN.toLowerCase())&&-1===M.indexOf(g.d3.ACCESS_TOKEN.toLowerCase())&&-1===M.indexOf(g.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===M.indexOf(g.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(M.indexOf(g.d3.REFRESH_TOKEN.toLowerCase())>-1){const Q=`${g.d3.REFRESH_TOKEN}${g.Bv.CACHE_KEY_SEPARATOR}${g.ch}${g.Bv.CACHE_KEY_SEPARATOR}`;if(-1===M.indexOf(`${g.d3.REFRESH_TOKEN}${g.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${g.Bv.CACHE_KEY_SEPARATOR}`.toLowerCase())&&-1===M.indexOf(Q.toLowerCase()))return!1}else if(-1===M.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(b,M){return!(M.clientId&&!this.matchClientId(b,M.clientId)||M.userAssertionHash&&!this.matchUserAssertionHash(b,M.userAssertionHash)||"string"==typeof M.homeAccountId&&!this.matchHomeAccountId(b,M.homeAccountId)||M.environment&&!this.matchEnvironment(b,M.environment)||M.realm&&!this.matchRealm(b,M.realm)||M.credentialType&&!this.matchCredentialType(b,M.credentialType)||M.familyId&&!this.matchFamilyId(b,M.familyId)||M.target&&!this.matchTarget(b,M.target)||(M.requestedClaimsHash||b.requestedClaimsHash)&&b.requestedClaimsHash!==M.requestedClaimsHash||b.credentialType===g.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(M.tokenType&&!this.matchTokenType(b,M.tokenType)||M.tokenType===g.hO.SSH&&M.keyId&&!this.matchKeyId(b,M.keyId)))}getAppMetadataFilteredBy(b){const M=this.getKeys(),J={};return M.forEach(Q=>{if(!this.isAppMetadata(Q))return;const K=this.getAppMetadata(Q);K&&(b.environment&&!this.matchEnvironment(K,b.environment)||b.clientId&&!this.matchClientId(K,b.clientId)||(J[Q]=K))}),J}getAuthorityMetadataByAlias(b){const M=this.getAuthorityMetadataKeys();let J=null;return M.forEach(Q=>{if(!this.isAuthorityMetadata(Q)||-1===Q.indexOf(this.clientId))return;const K=this.getAuthorityMetadata(Q);K&&-1!==K.aliases.indexOf(b)&&(J=K)}),J}removeAllAccounts(){var b=this;return(0,v.Z)(function*(){const M=b.getAccountKeys(),J=[];M.forEach(Q=>{J.push(b.removeAccount(Q))}),yield Promise.all(J)})()}removeAccount(b){var M=this;return(0,v.Z)(function*(){const J=M.getAccount(b,M.commonLogger);J&&(yield M.removeAccountContext(J),M.removeItem(b))})()}removeAccountContext(b){var M=this;return(0,v.Z)(function*(){const J=M.getTokenKeys(),Q=b.generateAccountId(),K=[];J.idToken.forEach(re=>{0===re.indexOf(Q)&&M.removeIdToken(re)}),J.accessToken.forEach(re=>{0===re.indexOf(Q)&&K.push(M.removeAccessToken(re))}),J.refreshToken.forEach(re=>{0===re.indexOf(Q)&&M.removeRefreshToken(re)}),yield Promise.all(K)})()}updateOutdatedCachedAccount(b,M,J){if(M&&M.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const Q=this.getAccountKeys().filter(ie=>ie.startsWith(M.homeAccountId)),K=[];Q.forEach(ie=>{const de=this.getCachedAccountEntity(ie);de&&K.push(de)});const re=K.find(ie=>(0,B.Hc)(ie.realm,ie.homeAccountId))||K[0];re.tenantProfiles=K.map(ie=>({tenantId:ie.realm,localAccountId:ie.localAccountId,name:ie.name,isHomeTenant:(0,B.Hc)(ie.realm,ie.homeAccountId)}));const V=ue.toObject(new L.r,{...re}),ee=V.generateAccountKey();return Q.forEach(ie=>{ie!==ee&&this.removeOutdatedAccount(b)}),this.setAccount(V),J?.verbose("Updated an outdated account entity in the cache"),V}return M}removeAccessToken(b){var M=this;return(0,v.Z)(function*(){const J=M.getAccessTokenCredential(b);if(J){if(J.credentialType.toLowerCase()===g.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&J.tokenType===g.hO.POP){const K=J.keyId;if(K)try{yield M.cryptoImpl.removeTokenBindingKey(K)}catch{throw(0,O.zP)(ne.ol)}}return M.removeItem(b)}})()}removeAppMetadata(){return this.getKeys().forEach(M=>{this.isAppMetadata(M)&&this.removeItem(M)}),!0}readAccountFromCache(b){const M=L.r.generateAccountCacheKey(b);return this.getAccount(M,this.commonLogger)}getIdToken(b,M,J,Q,K){this.commonLogger.trace("CacheManager - getIdToken called");const V=this.getIdTokensByFilter({homeAccountId:b.homeAccountId,environment:b.environment,credentialType:g.d3.ID_TOKEN,clientId:this.clientId,realm:J},M),ee=V.size;if(ee<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(ee>1){let ie=V;if(!J){const de=new Map;V.forEach((G,se)=>{G.realm===b.tenantId&&de.set(se,G)});const he=de.size;if(he<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),V.values().next().value;if(1===he)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),de.values().next().value;ie=de}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),ie.forEach((de,he)=>{this.removeIdToken(he)}),Q&&K&&Q.addFields({multiMatchedID:V.size},K),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),V.values().next().value}getIdTokensByFilter(b,M){const J=M&&M.idToken||this.getTokenKeys().idToken,Q=new Map;return J.forEach(K=>{if(!this.idTokenKeyMatchesFilter(K,{clientId:this.clientId,...b}))return;const re=this.getIdTokenCredential(K);re&&this.credentialMatchesFilter(re,b)&&Q.set(K,re)}),Q}idTokenKeyMatchesFilter(b,M){const J=b.toLowerCase();return!(M.clientId&&-1===J.indexOf(M.clientId.toLowerCase())||M.homeAccountId&&-1===J.indexOf(M.homeAccountId.toLowerCase()))}removeIdToken(b){this.removeItem(b)}removeRefreshToken(b){this.removeItem(b)}getAccessToken(b,M,J,Q,K,re){this.commonLogger.trace("CacheManager - getAccessToken called");const V=N.i.createSearchScopes(M.scopes),ee=M.authenticationScheme||g.hO.BEARER,ie=ee&&ee.toLowerCase()!==g.hO.BEARER.toLowerCase()?g.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:g.d3.ACCESS_TOKEN,de={homeAccountId:b.homeAccountId,environment:b.environment,credentialType:ie,clientId:this.clientId,realm:Q||b.tenantId,target:V,tokenType:ee,keyId:M.sshKid,requestedClaimsHash:M.requestedClaimsHash},he=J&&J.accessToken||this.getTokenKeys().accessToken,G=[];he.forEach(ce=>{if(this.accessTokenKeyMatchesFilter(ce,de,!0)){const _e=this.getAccessTokenCredential(ce);_e&&this.credentialMatchesFilter(_e,de)&&G.push(_e)}});const se=G.length;return se<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):se>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),G.forEach(ce=>{this.removeAccessToken((0,D.Mk)(ce))}),K&&re&&K.addFields({multiMatchedAT:G.length},re),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),G[0])}accessTokenKeyMatchesFilter(b,M,J){const Q=b.toLowerCase();if(M.clientId&&-1===Q.indexOf(M.clientId.toLowerCase())||M.homeAccountId&&-1===Q.indexOf(M.homeAccountId.toLowerCase())||M.realm&&-1===Q.indexOf(M.realm.toLowerCase())||M.requestedClaimsHash&&-1===Q.indexOf(M.requestedClaimsHash.toLowerCase()))return!1;if(M.target){const K=M.target.asArray();for(let re=0;re<K.length;re++){if(J&&!Q.includes(K[re].toLowerCase()))return!1;if(!J&&Q.includes(K[re].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(b){const M=this.getTokenKeys(),J=[];return M.accessToken.forEach(Q=>{if(!this.accessTokenKeyMatchesFilter(Q,b,!0))return;const K=this.getAccessTokenCredential(Q);K&&this.credentialMatchesFilter(K,b)&&J.push(K)}),J}getRefreshToken(b,M,J,Q,K){this.commonLogger.trace("CacheManager - getRefreshToken called");const V={homeAccountId:b.homeAccountId,environment:b.environment,credentialType:g.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:M?g.ch:void 0},ee=J&&J.refreshToken||this.getTokenKeys().refreshToken,ie=[];ee.forEach(he=>{if(this.refreshTokenKeyMatchesFilter(he,V)){const G=this.getRefreshTokenCredential(he);G&&this.credentialMatchesFilter(G,V)&&ie.push(G)}});const de=ie.length;return de<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(de>1&&Q&&K&&Q.addFields({multiMatchedRT:de},K),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),ie[0])}refreshTokenKeyMatchesFilter(b,M){const J=b.toLowerCase();return!(M.familyId&&-1===J.indexOf(M.familyId.toLowerCase())||!M.familyId&&M.clientId&&-1===J.indexOf(M.clientId.toLowerCase())||M.homeAccountId&&-1===J.indexOf(M.homeAccountId.toLowerCase()))}readAppMetadataFromCache(b){const J=this.getAppMetadataFilteredBy({environment:b,clientId:this.clientId}),Q=Object.keys(J).map(re=>J[re]),K=Q.length;if(K<1)return null;if(K>1)throw(0,O.zP)(ne.EC);return Q[0]}isAppMetadataFOCI(b){const M=this.readAppMetadataFromCache(b);return!(!M||M.familyId!==g.ch)}matchHomeAccountId(b,M){return"string"==typeof b.homeAccountId&&M===b.homeAccountId}matchLocalAccountIdFromTokenClaims(b,M){return M===(b.oid||b.sub)}matchLocalAccountIdFromTenantProfile(b,M){return b.localAccountId===M}matchName(b,M){return M.toLowerCase()===b.name?.toLowerCase()}matchUsername(b,M){return!(!b||"string"!=typeof b||M?.toLowerCase()!==b.toLowerCase())}matchUserAssertionHash(b,M){return!(!b.userAssertionHash||M!==b.userAssertionHash)}matchEnvironment(b,M){if(this.staticAuthorityOptions){const Q=(0,X._u)(this.staticAuthorityOptions,this.commonLogger);if(Q.includes(M)&&Q.includes(b.environment))return!0}const J=this.getAuthorityMetadataByAlias(M);return!!(J&&J.aliases.indexOf(b.environment)>-1)}matchCredentialType(b,M){return b.credentialType&&M.toLowerCase()===b.credentialType.toLowerCase()}matchClientId(b,M){return!(!b.clientId||M!==b.clientId)}matchFamilyId(b,M){return!(!b.familyId||M!==b.familyId)}matchRealm(b,M){return b.realm?.toLowerCase()===M.toLowerCase()}matchNativeAccountId(b,M){return!(!b.nativeAccountId||M!==b.nativeAccountId)}matchLoginHintFromTokenClaims(b,M){return b.login_hint===M||b.preferred_username===M||b.upn===M}matchSid(b,M){return b.sid===M}matchAuthorityType(b,M){return!(!b.authorityType||M.toLowerCase()!==b.authorityType.toLowerCase())}matchTarget(b,M){return!(b.credentialType!==g.d3.ACCESS_TOKEN&&b.credentialType!==g.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!b.target)&&N.i.fromString(b.target).containsScopeSet(M)}matchTokenType(b,M){return!(!b.tokenType||b.tokenType!==M)}matchKeyId(b,M){return!(!b.keyId||b.keyId!==M)}isAppMetadata(b){return-1!==b.indexOf(g.dg)}isAuthorityMetadata(b){return-1!==b.indexOf(g.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(b){return`${g.QU.CACHE_KEY}-${this.clientId}-${b}`}static toObject(b,M){for(const J in M)b[J]=M[J];return b}}class P extends ue{setAccount(){throw(0,O.zP)(ne.M2)}getAccount(){throw(0,O.zP)(ne.M2)}getCachedAccountEntity(){throw(0,O.zP)(ne.M2)}setIdTokenCredential(){throw(0,O.zP)(ne.M2)}getIdTokenCredential(){throw(0,O.zP)(ne.M2)}setAccessTokenCredential(){throw(0,O.zP)(ne.M2)}getAccessTokenCredential(){throw(0,O.zP)(ne.M2)}setRefreshTokenCredential(){throw(0,O.zP)(ne.M2)}getRefreshTokenCredential(){throw(0,O.zP)(ne.M2)}setAppMetadata(){throw(0,O.zP)(ne.M2)}getAppMetadata(){throw(0,O.zP)(ne.M2)}setServerTelemetry(){throw(0,O.zP)(ne.M2)}getServerTelemetry(){throw(0,O.zP)(ne.M2)}setAuthorityMetadata(){throw(0,O.zP)(ne.M2)}getAuthorityMetadata(){throw(0,O.zP)(ne.M2)}getAuthorityMetadataKeys(){throw(0,O.zP)(ne.M2)}setThrottlingCache(){throw(0,O.zP)(ne.M2)}getThrottlingCache(){throw(0,O.zP)(ne.M2)}removeItem(){throw(0,O.zP)(ne.M2)}getKeys(){throw(0,O.zP)(ne.M2)}getAccountKeys(){throw(0,O.zP)(ne.M2)}getTokenKeys(){throw(0,O.zP)(ne.M2)}clear(){return(0,v.Z)(function*(){throw(0,O.zP)(ne.M2)})()}updateCredentialCacheKey(){throw(0,O.zP)(ne.M2)}removeOutdatedAccount(){throw(0,O.zP)(ne.M2)}}},6603:(ke,oe,w)=>{w.d(oe,{r:()=>I});var v=w(5500),g=w(1758),D=w(2581),N=w(5140),L=w(63),O=w(8683),B=w(6132),y=w(5841);class I{generateAccountId(){return[this.homeAccountId,this.environment].join(v.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return I.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(x=>[x.tenantId,x]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(x){const ne=x.homeAccountId.split(".")[1];return[x.homeAccountId,x.environment||"",ne||x.tenantId||""].join(v.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(x,ne,Ce){const ue=new I;let P;ue.authorityType=ne.authorityType===L.a.Adfs?v.iR.ADFS_ACCOUNT_TYPE:ne.protocolMode===B.A.AAD?v.iR.MSSTS_ACCOUNT_TYPE:v.iR.GENERIC_ACCOUNT_TYPE,x.clientInfo&&Ce&&(P=(0,g.B)(x.clientInfo,Ce)),ue.clientInfo=x.clientInfo,ue.homeAccountId=x.homeAccountId,ue.nativeAccountId=x.nativeAccountId;const De=x.environment||ne&&ne.getPreferredCache();if(!De)throw(0,N.zP)(y.Q9);if(ue.environment=De,ue.realm=P?.utid||(0,O.M)(x.idTokenClaims)||"",ue.localAccountId=P?.uid||x.idTokenClaims.oid||x.idTokenClaims.sub||"",ue.username=x.idTokenClaims.preferred_username||x.idTokenClaims.upn||(x.idTokenClaims.emails?x.idTokenClaims.emails[0]:null)||"",ue.name=x.idTokenClaims.name,ue.cloudGraphHostName=x.cloudGraphHostName,ue.msGraphHost=x.msGraphHost,x.tenantProfiles)ue.tenantProfiles=x.tenantProfiles;else{const J=[];if(x.idTokenClaims){const Q=(0,D.SI)(x.homeAccountId,x.idTokenClaims);J.push(Q)}ue.tenantProfiles=J}return ue}static createFromAccountInfo(x,ne,Ce){const ue=new I;return ue.authorityType=x.authorityType||v.iR.GENERIC_ACCOUNT_TYPE,ue.homeAccountId=x.homeAccountId,ue.localAccountId=x.localAccountId,ue.nativeAccountId=x.nativeAccountId,ue.realm=x.tenantId,ue.environment=x.environment,ue.username=x.username,ue.name=x.name,ue.cloudGraphHostName=ne,ue.msGraphHost=Ce,ue.tenantProfiles=Array.from(x.tenantProfiles?.values()||[]),ue}static generateHomeAccountId(x,ne,Ce,ue,P){if(ne!==L.a.Adfs&&ne!==L.a.Dsts){if(x)try{const De=(0,g.B)(x,ue.base64Decode);if(De.uid&&De.utid)return`${De.uid}.${De.utid}`}catch{}Ce.warning("No client info in response")}return P?.sub||""}static isAccountEntity(x){return!!x&&x.hasOwnProperty("homeAccountId")&&x.hasOwnProperty("environment")&&x.hasOwnProperty("realm")&&x.hasOwnProperty("localAccountId")&&x.hasOwnProperty("username")&&x.hasOwnProperty("authorityType")}static accountInfoIsEqual(x,ne,Ce){if(!x||!ne)return!1;let ue=!0;if(Ce){const P=x.idTokenClaims||{},De=ne.idTokenClaims||{};ue=P.iat===De.iat&&P.nonce===De.nonce}return x.homeAccountId===ne.homeAccountId&&x.localAccountId===ne.localAccountId&&x.username===ne.username&&x.tenantId===ne.tenantId&&x.environment===ne.environment&&x.nativeAccountId===ne.nativeAccountId&&ue}}},8821:(ke,oe,w)=>{w.d(oe,{Bq:()=>ne,Cd:()=>de,Ds:()=>y,FK:()=>V,Js:()=>J,Md:()=>B,Mk:()=>O,OJ:()=>I,Om:()=>x,Ox:()=>K,Rw:()=>ee,VQ:()=>Q,ZL:()=>re,k5:()=>he,x4:()=>Ce,xc:()=>ie});var v=w(9082),g=w(5140),D=w(5500),N=w(4441),L=w(5841);function O(G){return[ue(G),P(G),De(G),b(G),M(G)].join(D.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function B(G,se,ce,_e,Te){return{credentialType:D.d3.ID_TOKEN,homeAccountId:G,environment:se,clientId:_e,secret:ce,realm:Te}}function y(G,se,ce,_e,Te,Ze,Se,nt,Wt,ye,F,je,Mn,dn,rt){const ze={homeAccountId:G,credentialType:D.d3.ACCESS_TOKEN,secret:ce,cachedAt:(0,N.HY)().toString(),expiresOn:Se.toString(),extendedExpiresOn:nt.toString(),environment:se,clientId:_e,realm:Te,target:Ze,tokenType:F||D.hO.BEARER};if(je&&(ze.userAssertionHash=je),ye&&(ze.refreshOn=ye.toString()),dn&&(ze.requestedClaims=dn,ze.requestedClaimsHash=rt),ze.tokenType?.toLowerCase()!==D.hO.BEARER.toLowerCase())switch(ze.credentialType=D.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,ze.tokenType){case D.hO.POP:const qt=(0,v.Z_)(ce,Wt);if(!qt?.cnf?.kid)throw(0,g.zP)(L.P_);ze.keyId=qt.cnf.kid;break;case D.hO.SSH:ze.keyId=Mn}return ze}function I(G,se,ce,_e,Te,Ze,Se){const nt={credentialType:D.d3.REFRESH_TOKEN,homeAccountId:G,environment:se,clientId:_e,secret:ce};return Ze&&(nt.userAssertionHash=Ze),Te&&(nt.familyId=Te),Se&&(nt.expiresOn=Se.toString()),nt}function X(G){return G.hasOwnProperty("homeAccountId")&&G.hasOwnProperty("environment")&&G.hasOwnProperty("credentialType")&&G.hasOwnProperty("clientId")&&G.hasOwnProperty("secret")}function x(G){return!!G&&X(G)&&G.hasOwnProperty("realm")&&G.hasOwnProperty("target")&&(G.credentialType===D.d3.ACCESS_TOKEN||G.credentialType===D.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function ne(G){return!!G&&X(G)&&G.hasOwnProperty("realm")&&G.credentialType===D.d3.ID_TOKEN}function Ce(G){return!!G&&X(G)&&G.credentialType===D.d3.REFRESH_TOKEN}function ue(G){return[G.homeAccountId,G.environment].join(D.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function P(G){return[G.credentialType,G.credentialType===D.d3.REFRESH_TOKEN&&G.familyId||G.clientId,G.realm||""].join(D.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function De(G){return(G.target||"").toLowerCase()}function b(G){return(G.requestedClaimsHash||"").toLowerCase()}function M(G){return G.tokenType&&G.tokenType.toLowerCase()!==D.hO.BEARER.toLowerCase()?G.tokenType.toLowerCase():""}function J(G,se){const ce=0===G.indexOf(D.HN.CACHE_KEY);let _e=!0;return se&&(_e=se.hasOwnProperty("failedRequests")&&se.hasOwnProperty("errors")&&se.hasOwnProperty("cacheHits")),ce&&_e}function Q(G,se){let ce=!1;G&&(ce=0===G.indexOf(D.bb.THROTTLING_PREFIX));let _e=!0;return se&&(_e=se.hasOwnProperty("throttleTime")),ce&&_e}function K({environment:G,clientId:se}){return[D.dg,G,se].join(D.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function re(G,se){return!!se&&0===G.indexOf(D.dg)&&se.hasOwnProperty("clientId")&&se.hasOwnProperty("environment")}function V(G,se){return!!se&&0===G.indexOf(D.QU.CACHE_KEY)&&se.hasOwnProperty("aliases")&&se.hasOwnProperty("preferred_cache")&&se.hasOwnProperty("preferred_network")&&se.hasOwnProperty("canonical_authority")&&se.hasOwnProperty("authorization_endpoint")&&se.hasOwnProperty("token_endpoint")&&se.hasOwnProperty("issuer")&&se.hasOwnProperty("aliasesFromNetwork")&&se.hasOwnProperty("endpointsFromNetwork")&&se.hasOwnProperty("expiresAt")&&se.hasOwnProperty("jwks_uri")}function ee(){return(0,N.HY)()+D.QU.REFRESH_TIME_SECONDS}function ie(G,se,ce){G.authorization_endpoint=se.authorization_endpoint,G.token_endpoint=se.token_endpoint,G.end_session_endpoint=se.end_session_endpoint,G.issuer=se.issuer,G.endpointsFromNetwork=ce,G.jwks_uri=se.jwks_uri}function de(G,se,ce){G.aliases=se.aliases,G.preferred_cache=se.preferred_cache,G.preferred_network=se.preferred_network,G.aliasesFromNetwork=ce}function he(G){return G.expiresAt<=(0,N.HY)()}},6703:(ke,oe,w)=>{w.d(oe,{j6:()=>J,lh:()=>K,z:()=>x});var v=w(5861),g=w(8214),D=w(4630),N=w(5500),L=w(1667),O=w(2286),B=w(9723),y=w(6132),I=w(5140),X=w(5841);const x={tokenRenewalOffsetSeconds:N.$A,preventCorsPreflight:!1},ne={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:D.i.Info,correlationId:N.gT.EMPTY_STRING},Ce={claimsBasedCachingEnabled:!1},ue={sendGetRequestAsync:()=>(0,v.Z)(function*(){throw(0,I.zP)(X.M2)})(),sendPostRequestAsync:()=>(0,v.Z)(function*(){throw(0,I.zP)(X.M2)})()},P={sku:N.gT.SKU,version:L.i,cpu:N.gT.EMPTY_STRING,os:N.gT.EMPTY_STRING},De={clientSecret:N.gT.EMPTY_STRING,clientAssertion:void 0},b={azureCloudInstance:O.z.None,tenant:`${N.gT.DEFAULT_COMMON_TENANT}`},M={application:{appName:"",appVersion:""}};function J({authOptions:re,systemOptions:V,loggerOptions:ee,cacheOptions:ie,storageInterface:de,networkInterface:he,cryptoInterface:G,clientCredentials:se,libraryInfo:ce,telemetry:_e,serverTelemetryManager:Te,persistencePlugin:Ze,serializableCache:Se}){const nt={...ne,...ee};return{authOptions:Q(re),systemOptions:{...x,...V},loggerOptions:nt,cacheOptions:{...Ce,...ie},storageInterface:de||new B.w(re.clientId,g.d,new D.Y(nt)),networkInterface:he||ue,cryptoInterface:G||g.d,clientCredentials:se||De,libraryInfo:{...P,...ce},telemetry:{...M,..._e},serverTelemetryManager:Te||null,persistencePlugin:Ze||null,serializableCache:Se||null}}function Q(re){return{clientCapabilities:[],azureCloudOptions:b,skipAuthorityMetadataCache:!1,...re}}function K(re){return re.authOptions.authority.options.protocolMode===y.A.OIDC}},1155:(ke,oe,w)=>{w.d(oe,{C2:()=>K,Cx:()=>v,DN:()=>ye,DW:()=>re,GQ:()=>Se,He:()=>g,IC:()=>B,Im:()=>De,KR:()=>Mn,Lm:()=>N,O4:()=>io,PU:()=>vt,PY:()=>dn,Pe:()=>he,RJ:()=>je,RO:()=>Jr,Rl:()=>G,US:()=>ba,Zb:()=>ro,bJ:()=>de,bP:()=>se,by:()=>b,cO:()=>Q,ct:()=>O,ed:()=>P,fC:()=>ie,hR:()=>ce,hf:()=>rt,ib:()=>nt,j5:()=>_e,ki:()=>Ze,ko:()=>L,nZ:()=>ee,q0:()=>Wt,s4:()=>V,sI:()=>F,x5:()=>xe,yO:()=>D,z6:()=>ne,zl:()=>ze,zm:()=>Te});const v="client_id",g="redirect_uri",D="response_type",N="response_mode",L="grant_type",O="claims",B="scope",ne="refresh_token",P="state",De="nonce",b="prompt",Q="code",K="code_challenge",re="code_challenge_method",V="code_verifier",ee="client-request-id",ie="x-client-SKU",de="x-client-VER",he="x-client-OS",G="x-client-CPU",se="x-client-current-telemetry",ce="x-client-last-telemetry",_e="x-ms-lib-capability",Te="x-app-name",Ze="x-app-ver",Se="post_logout_redirect_uri",nt="id_token_hint",Wt="device_code",ye="client_secret",F="client_assertion",je="client_assertion_type",Mn="token_type",dn="req_cnf",rt="assertion",ze="requested_token_use",ro="return_spa_code",io="nativebroker",vt="logout_hint",xe="sid",ba="login_hint",Jr="domain_hint"},8214:(ke,oe,w)=>{w.d(oe,{d:()=>N});var v=w(5861),g=w(5140),D=w(5841);const N={createNewGuid:()=>{throw(0,g.zP)(D.M2)},base64Decode:()=>{throw(0,g.zP)(D.M2)},base64Encode:()=>{throw(0,g.zP)(D.M2)},getPublicKeyThumbprint:()=>(0,v.Z)(function*(){throw(0,g.zP)(D.M2)})(),removeTokenBindingKey:()=>(0,v.Z)(function*(){throw(0,g.zP)(D.M2)})(),clearKeystore:()=>(0,v.Z)(function*(){throw(0,g.zP)(D.M2)})(),signJwt:()=>(0,v.Z)(function*(){throw(0,g.zP)(D.M2)})(),hashString:()=>(0,v.Z)(function*(){throw(0,g.zP)(D.M2)})()}},7481:(ke,oe,w)=>{w.d(oe,{MD:()=>O,l4:()=>L});var v=w(5500),g=w(8012);const D={[g.g]:"Unexpected error in authentication.",[g.D]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class L extends Error{constructor(y,I,X){super(I?`${y}: ${I}`:y),Object.setPrototypeOf(this,L.prototype),this.errorCode=y||v.gT.EMPTY_STRING,this.errorMessage=I||v.gT.EMPTY_STRING,this.subError=X||v.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(y){this.correlationId=y}}function O(B,y){return new L(B,y?`${D[B]} ${y}`:D[B])}},8012:(ke,oe,w)=>{w.d(oe,{D:()=>g,g:()=>v});const v="unexpected_error",g="post_request_failed"},8562:(ke,oe,w)=>{w.d(oe,{ju:()=>D});var v=w(7276);const g={[v.b]:"Exceeded cache storage capacity.",[v.K]:"Unexpected error occurred when using cache storage."};class D extends Error{constructor(L,O){const B=O||(g[L]?g[L]:g[v.K]);super(`${L}: ${B}`),Object.setPrototypeOf(this,D.prototype),this.name="CacheError",this.errorCode=L,this.errorMessage=B}}},7276:(ke,oe,w)=>{w.d(oe,{K:()=>g,b:()=>v});const v="cache_quota_exceeded",g="cache_error_unknown"},5140:(ke,oe,w)=>{w.d(oe,{er:()=>L,zP:()=>O});var v=w(7481),g=w(5841);const D={[g.ZE]:"The client info could not be parsed/decoded correctly",[g.S7]:"The client info was empty",[g.GH]:"Token cannot be parsed",[g.PM]:"The token is null or empty",[g.HO]:"Endpoints cannot be resolved",[g.EF]:"Network request failed",[g.Ce]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[g.b4]:"The hash parameters could not be deserialized",[g.r8]:"State was not the expected format",[g.Tu]:"State mismatch error",[g.LV]:"State not found",[g.vR]:"Nonce mismatch error",[g.w7]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[g.Ao]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[g.MU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[g.RH]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[g.EC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[g.FU]:"Token request cannot be made without authorization code or refresh token.",[g.v1]:"Cannot remove null or empty scope from ScopeSet",[g.f4]:"Cannot append ScopeSet",[g.S]:"Empty input ScopeSet cannot be processed",[g.Jk]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[g.tS]:"Device code is expired.",[g.ZT]:"Device code stopped polling for unknown reasons.",[g.D7]:"Please pass an account object, silent flow is not supported without account information",[g.mj]:"Cache record object was null or undefined.",[g.Q9]:"Invalid environment when attempting to create cache entry",[g.cX]:"No account found in cache for given key.",[g.QL]:"No crypto object detected.",[g.cy]:"Unexpected credential type.",[g.aE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[g.SX]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[g.s$]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[g.nQ]:"User defined timeout for device code polling reached",[g.P_]:"Cannot generate a POP jwt if the token_claims are not populated",[g.Zv]:"Server response does not contain an authorization code to proceed",[g.ol]:"Could not remove the credential's binding key from storage.",[g.ig]:"The provided authority does not support logout",[g.Of]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[g.Mq]:"No network connectivity. Check your internet connection.",[g.$R]:"User cancelled the flow.",[g.k7]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[g.M2]:"This method has not been implemented",[g.Ls]:"The nested app auth bridge is disabled"};class L extends v.l4{constructor(y,I){super(y,I?`${D[y]}: ${I}`:D[y]),this.name="ClientAuthError",Object.setPrototypeOf(this,L.prototype)}}function O(B,y){return new L(B,y)}},5841:(ke,oe,w)=>{w.d(oe,{$R:()=>dn,Ao:()=>ue,Ce:()=>B,D7:()=>ie,EC:()=>b,EF:()=>O,FU:()=>M,GH:()=>D,HO:()=>L,Jk:()=>re,LV:()=>x,Ls:()=>qt,M2:()=>ze,MU:()=>P,Mq:()=>Mn,Of:()=>je,PM:()=>N,P_:()=>nt,Q9:()=>he,QL:()=>se,RH:()=>De,S:()=>K,S7:()=>g,SX:()=>Te,Tu:()=>X,ZE:()=>v,ZT:()=>ee,Zv:()=>Wt,aE:()=>_e,b4:()=>y,cX:()=>G,cy:()=>ce,f4:()=>Q,ig:()=>F,k7:()=>rt,mj:()=>de,nQ:()=>Se,ol:()=>ye,r8:()=>I,s$:()=>Ze,tS:()=>V,v1:()=>J,vR:()=>ne,w7:()=>Ce});const v="client_info_decoding_error",g="client_info_empty_error",D="token_parsing_error",N="null_or_empty_token",L="endpoints_resolution_error",O="network_error",B="openid_config_error",y="hash_not_deserialized",I="invalid_state",X="state_mismatch",x="state_not_found",ne="nonce_mismatch",Ce="auth_time_not_found",ue="max_age_transpired",P="multiple_matching_tokens",De="multiple_matching_accounts",b="multiple_matching_appMetadata",M="request_cannot_be_made",J="cannot_remove_empty_scope",Q="cannot_append_scopeset",K="empty_input_scopeset",re="device_code_polling_cancelled",V="device_code_expired",ee="device_code_unknown_error",ie="no_account_in_silent_request",de="invalid_cache_record",he="invalid_cache_environment",G="no_account_found",se="no_crypto_object",ce="unexpected_credential_type",_e="invalid_assertion",Te="invalid_client_credential",Ze="token_refresh_required",Se="user_timeout_reached",nt="token_claims_cnf_required_for_signedjwt",Wt="authorization_code_missing_from_server_response",ye="binding_key_not_removed",F="end_session_endpoint_not_supported",je="key_id_missing",Mn="no_network_connectivity",dn="user_canceled",rt="missing_tenant_id_error",ze="method_not_implemented",qt="nested_app_auth_bridge_disabled"},4680:(ke,oe,w)=>{w.d(oe,{ei:()=>O});var v=w(7481),g=w(7299);const D={[g.RV]:"A redirect URI is required for all calls, and none has been set.",[g.LB]:"Could not parse the given claims request object.",[g.Oz]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[g.yH]:"URL could not be parsed into appropriate segments.",[g.To]:"URL was empty or null.",[g.vE]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[g.z_]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[g.nm]:"Given claims parameter must be a stringified JSON object.",[g.dL]:"Token request was empty and not found in cache.",[g.$h]:"The logout request was null or undefined.",[g.d6]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[g.TU]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[g.E]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[g.zx]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[g.o_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[g.dK]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[g.hI]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[g.U9]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[g.i1]:"Invalid authentication header provided",[g.qz]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[g.Ol]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[g.Hv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class L extends v.l4{constructor(y){super(y,D[y]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,L.prototype)}}function O(B){return new L(B)}},7299:(ke,oe,w)=>{w.d(oe,{$h:()=>X,E:()=>Ce,Hv:()=>re,LB:()=>g,Ol:()=>K,Oz:()=>D,RV:()=>v,TU:()=>ne,To:()=>L,U9:()=>M,d6:()=>x,dK:()=>De,dL:()=>I,hI:()=>b,i1:()=>J,nm:()=>y,o_:()=>P,qz:()=>Q,vE:()=>O,yH:()=>N,z_:()=>B,zx:()=>ue});const v="redirect_uri_empty",g="claims_request_parsing_error",D="authority_uri_insecure",N="url_parse_error",L="empty_url_error",O="empty_input_scopes_error",B="invalid_prompt_value",y="invalid_claims",I="token_request_empty",X="logout_request_empty",x="invalid_code_challenge_method",ne="pkce_params_missing",Ce="invalid_cloud_discovery_metadata",ue="invalid_authority_metadata",P="untrusted_authority",De="missing_ssh_jwk",b="missing_ssh_kid",M="missing_nonce_authentication_header",J="invalid_authentication_header",Q="cannot_set_OIDCOptions",K="cannot_allow_native_broker",re="authority_mismatch"},544:(ke,oe,w)=>{w.d(oe,{Cf:()=>I,Yo:()=>y,ip:()=>X});var v=w(5500),g=w(7481),D=w(6490);const N=[D.tZ,D.Mo,D.kk,D.nl],L=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],O={[D.I2]:"No refresh token found in the cache. Please sign-in.",[D.QP]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[D.Tw]:"Refresh token has expired.",[D.nl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class y extends g.l4{constructor(ne,Ce,ue,P,De,b,M,J){super(ne,Ce,ue),Object.setPrototypeOf(this,y.prototype),this.timestamp=P||v.gT.EMPTY_STRING,this.traceId=De||v.gT.EMPTY_STRING,this.correlationId=b||v.gT.EMPTY_STRING,this.claims=M||v.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=J}}function I(x,ne,Ce){const ue=!!x&&N.indexOf(x)>-1,P=!!Ce&&L.indexOf(Ce)>-1,De=!!ne&&N.some(b=>ne.indexOf(b)>-1);return ue||De||P}function X(x){return new y(x,O[x])}},6490:(ke,oe,w)=>{w.d(oe,{I2:()=>v,Mo:()=>L,QP:()=>g,Tw:()=>D,kk:()=>O,nl:()=>B,tZ:()=>N});const v="no_tokens_found",g="native_account_unavailable",D="refresh_token_expired",N="interaction_required",L="consent_required",O="login_required",B="bad_token"},4498:(ke,oe,w)=>{w.d(oe,{n:()=>g});var v=w(7481);class g extends v.l4{constructor(N,L,O,B){super(N,L,O),this.name="ServerError",this.errorNo=B,Object.setPrototypeOf(this,g.prototype)}}},4630:(ke,oe,w)=>{w.d(oe,{Y:()=>D,i:()=>g});var v=w(5500),g=function(N){return N[N.Error=0]="Error",N[N.Warning=1]="Warning",N[N.Info=2]="Info",N[N.Verbose=3]="Verbose",N[N.Trace=4]="Trace",N}(g||{});class D{constructor(L,O,B){this.level=g.Info;const I=L||D.createDefaultLoggerOptions();this.localCallback=I.loggerCallback||(()=>{}),this.piiLoggingEnabled=I.piiLoggingEnabled||!1,this.level="number"==typeof I.logLevel?I.logLevel:g.Info,this.correlationId=I.correlationId||v.gT.EMPTY_STRING,this.packageName=O||v.gT.EMPTY_STRING,this.packageVersion=B||v.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:g.Info}}clone(L,O,B){return new D({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:B||this.correlationId},L,O)}logMessage(L,O){if(O.logLevel>this.level||!this.piiLoggingEnabled&&O.containsPii)return;const I=`[${(new Date).toUTCString()}] : [${O.correlationId||this.correlationId||""}] : ${this.packageName}@${this.packageVersion} : ${g[O.logLevel]} - ${L}`;this.executeCallback(O.logLevel,I,O.containsPii||!1)}executeCallback(L,O,B){this.localCallback&&this.localCallback(L,O,B)}error(L,O){this.logMessage(L,{logLevel:g.Error,containsPii:!1,correlationId:O||v.gT.EMPTY_STRING})}errorPii(L,O){this.logMessage(L,{logLevel:g.Error,containsPii:!0,correlationId:O||v.gT.EMPTY_STRING})}warning(L,O){this.logMessage(L,{logLevel:g.Warning,containsPii:!1,correlationId:O||v.gT.EMPTY_STRING})}warningPii(L,O){this.logMessage(L,{logLevel:g.Warning,containsPii:!0,correlationId:O||v.gT.EMPTY_STRING})}info(L,O){this.logMessage(L,{logLevel:g.Info,containsPii:!1,correlationId:O||v.gT.EMPTY_STRING})}infoPii(L,O){this.logMessage(L,{logLevel:g.Info,containsPii:!0,correlationId:O||v.gT.EMPTY_STRING})}verbose(L,O){this.logMessage(L,{logLevel:g.Verbose,containsPii:!1,correlationId:O||v.gT.EMPTY_STRING})}verbosePii(L,O){this.logMessage(L,{logLevel:g.Verbose,containsPii:!0,correlationId:O||v.gT.EMPTY_STRING})}trace(L,O){this.logMessage(L,{logLevel:g.Trace,containsPii:!1,correlationId:O||v.gT.EMPTY_STRING})}tracePii(L,O){this.logMessage(L,{logLevel:g.Trace,containsPii:!0,correlationId:O||v.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}},1667:(ke,oe,w)=>{w.d(oe,{i:()=>g,u:()=>v});const v="@azure/msal-common",g="14.10.0"},8404:(ke,oe,w)=>{w.d(oe,{H:()=>B});var v=w(5500),g=w(1155),D=w(7795),N=w(4680),L=w(9573),O=w(7299);class B{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(g.yO,encodeURIComponent(v.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(g.yO,encodeURIComponent(`${v.gT.TOKEN_RESPONSE_TYPE} ${v.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(I){this.parameters.set(g.Lm,encodeURIComponent(I||v.vw.QUERY))}addNativeBroker(){this.parameters.set(g.O4,encodeURIComponent("1"))}addScopes(I,X=!0,x=v.f_){X&&!x.includes("openid")&&!I.includes("openid")&&x.push("openid");const ne=X?[...I||[],...x]:I||[],Ce=new D.i(ne);this.parameters.set(g.IC,encodeURIComponent(Ce.printScopes()))}addClientId(I){this.parameters.set(g.Cx,encodeURIComponent(I))}addRedirectUri(I){L.D.validateRedirectUri(I),this.parameters.set(g.He,encodeURIComponent(I))}addPostLogoutRedirectUri(I){L.D.validateRedirectUri(I),this.parameters.set(g.GQ,encodeURIComponent(I))}addIdTokenHint(I){this.parameters.set(g.ib,encodeURIComponent(I))}addDomainHint(I){this.parameters.set(g.RO,encodeURIComponent(I))}addLoginHint(I){this.parameters.set(g.US,encodeURIComponent(I))}addCcsUpn(I){this.parameters.set(v.SZ.CCS_HEADER,encodeURIComponent(`UPN:${I}`))}addCcsOid(I){this.parameters.set(v.SZ.CCS_HEADER,encodeURIComponent(`Oid:${I.uid}@${I.utid}`))}addSid(I){this.parameters.set(g.x5,encodeURIComponent(I))}addClaims(I,X){const x=this.addClientCapabilitiesToClaims(I,X);L.D.validateClaims(x),this.parameters.set(g.ct,encodeURIComponent(x))}addCorrelationId(I){this.parameters.set(g.nZ,encodeURIComponent(I))}addLibraryInfo(I){this.parameters.set(g.fC,I.sku),this.parameters.set(g.bJ,I.version),I.os&&this.parameters.set(g.Pe,I.os),I.cpu&&this.parameters.set(g.Rl,I.cpu)}addApplicationTelemetry(I){I?.appName&&this.parameters.set(g.zm,I.appName),I?.appVersion&&this.parameters.set(g.ki,I.appVersion)}addPrompt(I){L.D.validatePrompt(I),this.parameters.set(`${g.by}`,encodeURIComponent(I))}addState(I){I&&this.parameters.set(g.ed,encodeURIComponent(I))}addNonce(I){this.parameters.set(g.Im,encodeURIComponent(I))}addCodeChallengeParams(I,X){if(L.D.validateCodeChallengeParams(I,X),!I||!X)throw(0,N.ei)(O.TU);this.parameters.set(g.C2,encodeURIComponent(I)),this.parameters.set(g.DW,encodeURIComponent(X))}addAuthorizationCode(I){this.parameters.set(g.cO,encodeURIComponent(I))}addDeviceCode(I){this.parameters.set(g.q0,encodeURIComponent(I))}addRefreshToken(I){this.parameters.set(g.z6,encodeURIComponent(I))}addCodeVerifier(I){this.parameters.set(g.s4,encodeURIComponent(I))}addClientSecret(I){this.parameters.set(g.DN,encodeURIComponent(I))}addClientAssertion(I){I&&this.parameters.set(g.sI,encodeURIComponent(I))}addClientAssertionType(I){I&&this.parameters.set(g.RJ,encodeURIComponent(I))}addOboAssertion(I){this.parameters.set(g.hf,encodeURIComponent(I))}addRequestTokenUse(I){this.parameters.set(g.zl,encodeURIComponent(I))}addGrantType(I){this.parameters.set(g.ko,encodeURIComponent(I))}addClientInfo(){this.parameters.set(v.sR,"1")}addExtraQueryParameters(I){const X=L.D.sanitizeEQParams(I,this.parameters);Object.keys(X).forEach(x=>{this.parameters.set(x,I[x])})}addClientCapabilitiesToClaims(I,X){let x;if(I)try{x=JSON.parse(I)}catch{throw(0,N.ei)(O.nm)}else x={};return X&&X.length>0&&(x.hasOwnProperty(v.As.ACCESS_TOKEN)||(x[v.As.ACCESS_TOKEN]={}),x[v.As.ACCESS_TOKEN][v.As.XMS_CC]={values:X}),JSON.stringify(x)}addUsername(I){this.parameters.set(v.Ge.username,encodeURIComponent(I))}addPassword(I){this.parameters.set(v.Ge.password,encodeURIComponent(I))}addPopToken(I){I&&(this.parameters.set(g.KR,v.hO.POP),this.parameters.set(g.PY,encodeURIComponent(I)))}addSshJwk(I){I&&(this.parameters.set(g.KR,v.hO.SSH),this.parameters.set(g.PY,encodeURIComponent(I)))}addServerTelemetry(I){this.parameters.set(g.bP,I.generateCurrentRequestHeaderValue()),this.parameters.set(g.hR,I.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(g.j5,v.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(I){this.parameters.set(g.PU,encodeURIComponent(I))}createQueryString(){const I=new Array;return this.parameters.forEach((X,x)=>{I.push(`${x}=${X}`)}),I.join("&")}}},9573:(ke,oe,w)=>{w.d(oe,{D:()=>N});var v=w(4680),g=w(5500),D=w(7299);class N{static validateRedirectUri(O){if(!O)throw(0,v.ei)(D.RV)}static validatePrompt(O){const B=[];for(const y in g.NJ)B.push(g.NJ[y]);if(B.indexOf(O)<0)throw(0,v.ei)(D.z_)}static validateClaims(O){try{JSON.parse(O)}catch{throw(0,v.ei)(D.nm)}}static validateCodeChallengeParams(O,B){if(!O||!B)throw(0,v.ei)(D.TU);this.validateCodeChallengeMethod(B)}static validateCodeChallengeMethod(O){if([g.VX.PLAIN,g.VX.S256].indexOf(O)<0)throw(0,v.ei)(D.d6)}static sanitizeEQParams(O,B){return O?(B.forEach((y,I)=>{O[I]&&delete O[I]}),Object.fromEntries(Object.entries(O).filter(y=>""!==y[1]))):{}}}},7795:(ke,oe,w)=>{w.d(oe,{i:()=>B});var v=w(4680),g=w(9092),D=w(5140),N=w(5500),L=w(7299),O=w(5841);class B{constructor(I){const X=I?g.x.trimArrayEntries([...I]):[],x=X?g.x.removeEmptyStringsFromArray(X):[];this.validateInputScopes(x),this.scopes=new Set,x.forEach(ne=>this.scopes.add(ne))}static fromString(I){const x=(I||N.gT.EMPTY_STRING).split(" ");return new B(x)}static createSearchScopes(I){const X=new B(I);return X.containsOnlyOIDCScopes()?X.removeScope(N.gT.OFFLINE_ACCESS_SCOPE):X.removeOIDCScopes(),X}validateInputScopes(I){if(!I||I.length<1)throw(0,v.ei)(L.vE)}containsScope(I){const X=this.printScopesLowerCase().split(" "),x=new B(X);return!!I&&x.scopes.has(I.toLowerCase())}containsScopeSet(I){return!(!I||I.scopes.size<=0)&&this.scopes.size>=I.scopes.size&&I.asArray().every(X=>this.containsScope(X))}containsOnlyOIDCScopes(){let I=0;return N.$f.forEach(X=>{this.containsScope(X)&&(I+=1)}),this.scopes.size===I}appendScope(I){I&&this.scopes.add(I.trim())}appendScopes(I){try{I.forEach(X=>this.appendScope(X))}catch{throw(0,D.zP)(O.f4)}}removeScope(I){if(!I)throw(0,D.zP)(O.v1);this.scopes.delete(I.trim())}removeOIDCScopes(){N.$f.forEach(I=>{this.scopes.delete(I)})}unionScopeSets(I){if(!I)throw(0,D.zP)(O.S);const X=new Set;return I.scopes.forEach(x=>X.add(x.toLowerCase())),this.scopes.forEach(x=>X.add(x.toLowerCase())),X}intersectingScopeSets(I){if(!I)throw(0,D.zP)(O.S);I.containsOnlyOIDCScopes()||I.removeOIDCScopes();const X=this.unionScopeSets(I),x=I.getScopeCount(),ne=this.getScopeCount();return X.size<ne+x}getScopeCount(){return this.scopes.size}asArray(){const I=[];return this.scopes.forEach(X=>I.push(X)),I}printScopes(){return this.scopes?this.asArray().join(" "):N.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}},7979:(ke,oe,w)=>{w.d(oe,{$L:()=>D,Ak:()=>v});const v={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},D={NotStarted:0,InProgress:1,Completed:2}},7581:(ke,oe,w)=>{w.d(oe,{G:()=>O});var v=w(4680),g=w(9092),D=w(5500),N=w(1129),L=w(7299);class O{get urlString(){return this._urlString}constructor(y){if(this._urlString=y,!this._urlString)throw(0,v.ei)(L.To);y.includes("#")||(this._urlString=O.canonicalizeUri(y))}static canonicalizeUri(y){if(y){let I=y.toLowerCase();return g.x.endsWith(I,"?")?I=I.slice(0,-1):g.x.endsWith(I,"?/")&&(I=I.slice(0,-2)),g.x.endsWith(I,"/")||(I+="/"),I}return y}validateAsUri(){let y;try{y=this.getUrlComponents()}catch{throw(0,v.ei)(L.yH)}if(!y.HostNameAndPort||!y.PathSegments)throw(0,v.ei)(L.yH);if(!y.Protocol||"https:"!==y.Protocol.toLowerCase())throw(0,v.ei)(L.Oz)}static appendQueryString(y,I){return I?y.indexOf("?")<0?`${y}?${I}`:`${y}&${I}`:y}static removeHashFromUrl(y){return O.canonicalizeUri(y.split("#")[0])}replaceTenantPath(y){const I=this.getUrlComponents(),X=I.PathSegments;return y&&0!==X.length&&(X[0]===D.Nb.COMMON||X[0]===D.Nb.ORGANIZATIONS)&&(X[0]=y),O.constructAuthorityUriFromObject(I)}getUrlComponents(){const y=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),I=this.urlString.match(y);if(!I)throw(0,v.ei)(L.yH);const X={Protocol:I[1],HostNameAndPort:I[4],AbsolutePath:I[5],QueryString:I[7]};let x=X.AbsolutePath.split("/");return x=x.filter(ne=>ne&&ne.length>0),X.PathSegments=x,X.QueryString&&X.QueryString.endsWith("/")&&(X.QueryString=X.QueryString.substring(0,X.QueryString.length-1)),X}static getDomainFromUrl(y){const I=RegExp("^([^:/?#]+://)?([^/?#]*)"),X=y.match(I);if(!X)throw(0,v.ei)(L.yH);return X[2]}static getAbsoluteUrl(y,I){if(y[0]===D.gT.FORWARD_SLASH){const x=new O(I).getUrlComponents();return x.Protocol+"//"+x.HostNameAndPort+y}return y}static constructAuthorityUriFromObject(y){return new O(y.Protocol+"//"+y.HostNameAndPort+"/"+y.PathSegments.join("/"))}static hashContainsKnownProperties(y){return!!(0,N.F)(y)}}},5500:(ke,oe,w)=>{w.d(oe,{$A:()=>Se,$f:()=>N,As:()=>y,Bv:()=>P,D1:()=>de,Ge:()=>he,HN:()=>V,NJ:()=>I,Nb:()=>B,QU:()=>K,SZ:()=>L,To:()=>_e,VX:()=>X,Vi:()=>O,W:()=>se,YY:()=>G,bb:()=>ie,ch:()=>Q,d3:()=>De,dg:()=>M,f_:()=>D,gT:()=>v,hO:()=>ee,iR:()=>ue,ki:()=>ce,oj:()=>g,pQ:()=>re,qJ:()=>Ce,rg:()=>x,sR:()=>J,vw:()=>ne,xd:()=>Te});const v={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},g={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},D=[v.OPENID_SCOPE,v.PROFILE_SCOPE,v.OFFLINE_ACCESS_SCOPE],N=[...D,v.EMAIL_SCOPE],L={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},O={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},B={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},y={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},I={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},X={PLAIN:"plain",S256:"S256"},x={QUERY:"query",FRAGMENT:"fragment"},ne={...x,FORM_POST:"form_post"},Ce={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},ue={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},P={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},De={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},M="appmetadata",J="client_info",Q="1",K={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},re={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},V={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ee={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},ie={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},de={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},he={username:"username",password:"password"},G={httpSuccess:200,httpBadRequest:400},se={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ce={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},_e={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Te={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},Se=300},9092:(ke,oe,w)=>{w.d(oe,{x:()=>v});class v{static isEmptyObj(D){if(D)try{const N=JSON.parse(D);return 0===Object.keys(N).length}catch{}return!0}static startsWith(D,N){return 0===D.indexOf(N)}static endsWith(D,N){return D.length>=N.length&&D.lastIndexOf(N)===D.length-N.length}static queryStringToObject(D){const N={},L=D.split("&"),O=B=>decodeURIComponent(B.replace(/\+/g," "));return L.forEach(B=>{if(B.trim()){const[y,I]=B.split(/=(.+)/g,2);y&&I&&(N[O(y)]=O(I))}}),N}static trimArrayEntries(D){return D.map(N=>N.trim())}static removeEmptyStringsFromArray(D){return D.filter(N=>!!N)}static jsonParseHelper(D){try{return JSON.parse(D)}catch{return null}}static matchPattern(D,N){return new RegExp(D.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(N)}}},4441:(ke,oe,w)=>{function v(){return Math.round((new Date).getTime()/1e3)}function g(L,O){const B=Number(L)||0;return v()+O>B}function D(L){return Number(L)>v()}w.d(oe,{HY:()=>v,jx:()=>D,pw:()=>g})},1129:(ke,oe,w)=>{w.d(oe,{F:()=>N,q:()=>D});var v=w(5140),g=w(5841);function D(L){return L.startsWith("#/")?L.substring(2):L.startsWith("#")||L.startsWith("?")?L.substring(1):L}function N(L){if(!L||L.indexOf("=")<0)return null;try{const O=D(L),B=Object.fromEntries(new URLSearchParams(O));if(B.code||B.error||B.error_description||B.state)return B}catch{throw(0,v.zP)(g.b4)}return null}},5861:(ke,oe,w)=>{function v(D,N,L,O,B,y,I){try{var X=D[y](I),x=X.value}catch(ne){return void L(ne)}X.done?N(x):Promise.resolve(x).then(O,B)}function g(D){return function(){var N=this,L=arguments;return new Promise(function(O,B){var y=D.apply(N,L);function I(x){v(y,O,B,I,X,"next",x)}function X(x){v(y,O,B,I,X,"throw",x)}I(void 0)})}}w.d(oe,{Z:()=>g})}},ke=>{ke(ke.s=3562)}]);